const a0_0x310a9c=a0_0x38ce;(function(_0x40ee0c,_0x1cc984){const _0x3cf966=a0_0x38ce,_0x48e10f=_0x40ee0c();while(!![]){try{const _0x52336c=-parseInt(_0x3cf966(0x119))/0x1*(-parseInt(_0x3cf966(0x154))/0x2)+-parseInt(_0x3cf966(0x194))/0x3+parseInt(_0x3cf966(0x18c))/0x4*(-parseInt(_0x3cf966(0xe7))/0x5)+parseInt(_0x3cf966(0x160))/0x6*(parseInt(_0x3cf966(0x12b))/0x7)+parseInt(_0x3cf966(0xe2))/0x8+parseInt(_0x3cf966(0xe3))/0x9*(-parseInt(_0x3cf966(0x187))/0xa)+parseInt(_0x3cf966(0x172))/0xb;if(_0x52336c===_0x1cc984)break;else _0x48e10f['push'](_0x48e10f['shift']());}catch(_0x9cd32c){_0x48e10f['push'](_0x48e10f['shift']());}}}(a0_0x569d,0xc0608));import{connect}from'cloudflare:sockets';let userID='d342d11e-d424-4583-b36e-524ab1f0afa4';const proxyIPs=[a0_0x310a9c(0x14e),a0_0x310a9c(0xfd),a0_0x310a9c(0x12d)];let proxyIP=proxyIPs[Math[a0_0x310a9c(0x14a)](Math[a0_0x310a9c(0x167)]()*proxyIPs['length'])],socks5Address='',socks5Relay=![];if(!isValidUUID(userID))throw new Error('uuid\x20is\x20not\x20valid');let parsedSocks5Address={},enableSocks=![];function a0_0x569d(){const _0x4956bb=['www.ted.com','log','/cf','pathname','www.eyny.com','socks\x20connection\x20opened','encode','accept','www.imgo.tv','readableWebSocketStream\x20is\x20abort','10DWEhRp','www.sohu.com','\x20are\x20not\x20allowed.','toLowerCase','https://www.google.com/search?q=edtunnel','4Rnnzfv','close','UDP\x20proxy\x20only\x20enable\x20for\x20DNS\x20which\x20is\x20port\x2053','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-star\x22></i>\x20Best\x20IP\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22subscription-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Options\x20Explained:</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>VLESS\x20Subscription:</strong>\x20Direct\x20link\x20for\x20VLESS\x20protocol\x20configuration.\x20Suitable\x20for\x20clients\x20supporting\x20VLESS.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Clash\x20Subscription:</strong>\x20Opens\x20the\x20Clash\x20client\x20with\x20pre-configured\x20settings.\x20Best\x20for\x20Clash\x20users\x20on\x20mobile\x20devices.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Clash\x20Link:</strong>\x20A\x20web\x20link\x20to\x20convert\x20the\x20VLESS\x20config\x20to\x20Clash\x20format.\x20Useful\x20for\x20manual\x20import\x20or\x20troubleshooting.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Best\x20IP\x20Subscription:</strong>\x20Provides\x20a\x20curated\x20list\x20of\x20optimal\x20server\x20IPs\x20for\x20many\x20<b>different\x20countries</b>.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Choose\x20the\x20option\x20that\x20best\x20fits\x20your\x20client\x20and\x20needs.\x20For\x20most\x20users,\x20the\x20VLESS\x20or\x20Clash\x20Subscription\x20will\x20be\x20the\x20easiest\x20to\x20use.</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','status','getReader','test','toString','2936661pDnPud','?format=clash','\x20tcp','tls','wsSettings','dmxlc3M=','IPv6','method','readableWebSocketStream\x20is\x20close','fail\x20to\x20open\x20socks\x20connection','\x0a\x20\x20<head>\x0a\x20\x20\x20\x20<title>EDtunnel:\x20Configuration</title>\x0a\x20\x20\x20\x20<meta\x20name=\x27viewport\x27\x20content=\x27width=device-width,\x20initial-scale=1\x27>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:site_name\x27\x20content=\x27EDtunnel:\x20Protocol\x20Configuration\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:type\x27\x20content=\x27website\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:title\x27\x20content=\x27EDtunnel\x20-\x20Protocol\x20Configuration\x20and\x20Subscribe\x20Output\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:description\x27\x20content=\x27Use\x20Cloudflare\x20Pages\x20and\x20Worker\x20serverless\x20to\x20implement\x20protocol\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:url\x27\x20content=\x27https://','\x0a\x20\x20\x20\x20','www.pconline.com.cn','www.renren.com','www.ctrip.com','/sub/','www.cnblogs.com','&path=/','www.quyaoya.com','command\x20','referer','www.aliyun.com','?ed=2048','enqueue','1.2.3.4','Unknown\x20address\x20type:\x20','x-forwarded-for','message','&fp=randomized&type=ws&host=','split','pipeTo','&insert=false&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','dns\x20server(','network','www.panda.tv','www.mafengwo.cn','www.qq.com','Invalid\x20URL\x20format','://','none','www.ximalaya.com','www.ynet.com','1353528dRvbFF','13012983zhiFpZ','headers','\x20is\x20not\x20supported,\x20command\x2001-tcp,02-udp,03-mux','flatMap','6970445vkygEe','readable','/\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:image\x27\x20content=\x27https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image:width\x27\x20content=\x271500\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image:height\x27\x20content=\x271500\x27\x20/>\x0a\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Roboto\x27,\x20\x27Segoe\x20UI\x27,\x20Tahoma,\x20Geneva,\x20Verdana,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#000000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x201200px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#111111;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x206px\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20h1,\x20h2\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.config-item\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#222222;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.config-item\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn-group\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20pre\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20white-space:\x20pre-wrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20word-wrap:\x20break-word;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#00ff00;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.logo\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20float:\x20left;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x09\x09max-width:\x2030%;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20.logo\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x2090%;\x20/*\x20Adjust\x20the\x20max-width\x20to\x20fit\x20within\x20the\x20container\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.btn-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.btn-group\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.code-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.code-container\x20pre\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-right:\x20100px;\x20/*\x20Make\x20space\x20for\x20the\x20button\x20*/\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.copy-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#222222;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20ul\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-left:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20li\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\x22>\x0a\x20\x20</head>\x0a\x20\x20','getUint8','Invalid\x20SOCKS5\x20request\x20data','data',':443?encryption=none&security=tls&sni=','Invalid\x20data\x20length','connected\x20to\x20','some','text/plain;charset=utf-8','www.meituan.com','read','x-real-ip','www.bilibili.com','safeCloseWebSocket\x20error:','www.881903.com','closed','Redirects\x20to\x20','-HTTPS-','The\x20Host\x20field\x20in\x20the\x20http\x20header\x20is\x20different\x20from\x20the\x20server\x20address,\x20this\x20is\x20unsupported\x20due\x20to\x20Cloudflare\x20API\x20restrictions','security','cdn-all.xn--b6gac.eu.org','Invalid\x20SOCKS\x20address\x20format','Usupported\x20security\x20layer:\x20','\x0a\x20\x20<html>\x0a\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20<h1>EDtunnel:\x20Protocol\x20Configuration</h1>\x0a\x20\x20\x20\x20\x20\x20<img\x20src=\x22https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x22\x20alt=\x22EDtunnel\x20Logo\x22\x20class=\x22logo\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Welcome!\x20This\x20function\x20generates\x20configuration\x20for\x20the\x20vless\x20protocol.\x20If\x20you\x20found\x20this\x20useful,\x20please\x20check\x20our\x20GitHub\x20project:</p>\x0a\x20\x20\x20\x20\x20\x20<p><a\x20href=\x22https://github.com/6Kmfi6HP/EDtunnel\x22\x20target=\x22_blank\x22\x20style=\x22color:\x20#00ff00;\x22>EDtunnel\x20-\x20https://github.com/6Kmfi6HP/EDtunnel</a></p>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22clear:\x20both;\x22></div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22btn-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22//','write','socks\x20server\x20version\x20error:\x20','dns\x20udp\x20has\x20error','www.kuaidi100.com','www.qqgongyi.com','readableWebSocketStream\x20pipeTo\x20error','www.tmtpost.com','slice','substr','www.liepin.com','www.dianping.com','www.tiktok.com','set','getWriter','?encryption=none&security=none&fp=random&type=ws&host=','stringify','queryParams','error',')\x20tcp\x20is\x20abort','manual','8.8.4.4','www.so.com','\x22)\x27><i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','2SZVSST','www.ttpaihang.com','application/json;charset=utf-8','www.douban.com','&path=%2F%3Fed%3D2048#','www.zhaopin.com','Unsupported\x20outbound\x20stream\x20method:\x20','readyState','www.ifeng.com','fail\x20to\x20auth\x20socks\x20server','tlsSettings','buffer','socks\x20server\x20needs\x20auth','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Clash\x20Link</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','addEventListener','\x0a\x20\x20</body>\x0a\x20\x20<script>\x0a\x20\x20\x20\x20function\x20copyToClipboard(text)\x20{\x0a\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(text)\x0a\x20\x20\x20\x20\x20\x20\x20\x20.then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x22Copied\x20to\x20clipboard\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20.catch((err)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x22Failed\x20to\x20copy\x20to\x20clipboard:\x22,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20}\x0a\x20\x20</script>\x0a\x20\x20</html>','www.telegraph.co.uk','writable','577325HjysnP','length','workers.cloudflare.cyou','invild\x20\x20addressType\x20is\x20','retry\x20tcpSocket\x20closed\x20error','invalid\x20user','text/html;\x20charset=utf-8','\x20expected:\x205','value','www.zhibo8.cc','The\x20SNI\x20is\x20different\x20from\x20the\x20server\x20address,\x20this\x20is\x20unsupported\x20due\x20to\x20Cloudflare\x20API\x20restrictions','Unsupported\x20command,\x20only\x20TCP\x20(CONNECT)\x20is\x20allowed','serverName','join','www.pptv.com','Invalid\x20header\x20format\x20(missing\x20CR\x20LF)','map','DomainName','substring','www.dianyou.cn','values','decode','IPv4','www.hupu.com','trim','Invalid\x20address\x20type:\x20','www.163.com','www.tmall.com','POST','includes','doh\x20success\x20and\x20dns\x20message\x20length\x20is\x20','floor','handleDNSQuery\x20have\x20exception,\x20error:\x20','www.youth.cn','releaseLock','cdn.xn--b6gac.eu.org','www.jianshu.com','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x20config-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2>UUID:\x20','byteLength','www.guancha.cn','getUint16','975274uYGyMA','Host','sec-websocket-protocol','/bestip/','send','forEach','no\x20acceptable\x20methods','https://','www.cnki.net','\x22)\x27><i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Best\x20IP\x20Configuration</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22code-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre><code>','www.taobao.com','www.zol.com.cn','72rTbdIZ','www.mgtv.com','www.zhangzishi.cc','www.xunlei.com','www.51cto.com','?encryption=none&security=tls&sni=','please\x20provide\x20username/password','random','Invalid\x20password','readableWebSocketStream\x20is\x20aborted','www.douyin.com','www.wechat.com','Remote\x20connection\x20readable\x20closed.\x20Had\x20incoming\x20data:\x20','byteOffset','</code></pre>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20copy-btn\x22\x20onclick=\x27copyToClipboard(\x22','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Clash\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','www.hao123.com','weibo.com','27199414rHFRSc','www.youku.com','www.secoo.com','www.360.cn','replace','catch','arrayBuffer','from','get','cf-connecting-ip','pages.dev'];a0_0x569d=function(){return _0x4956bb;};return a0_0x569d();}export default{async 'fetch'(_0xb5cd03,_0x1c06fb,_0x55afae){const _0xdeff5=a0_0x310a9c;try{const {UUID:_0x38001e,PROXYIP:_0x413f34,SOCKS5:_0x3cac5e,SOCKS5_RELAY:_0x14dff6}=_0x1c06fb;userID=_0x38001e||userID,proxyIP=_0x413f34||proxyIP,socks5Address=_0x3cac5e||socks5Address,socks5Relay=_0x14dff6||socks5Relay;if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),enableSocks=!![];}catch(_0x1fddaa){console['log'](_0x1fddaa[_0xdeff5(0x193)]()),enableSocks=![];}const _0x8980e2=userID[_0xdeff5(0x148)](',')?userID[_0xdeff5(0xd5)](',')[0x0]:userID,_0x1ac78d=new URL(_0xb5cd03['url']),_0x3c4a4c=_0xb5cd03[_0xdeff5(0xe4)][_0xdeff5(0x17a)](_0xdeff5(0x155));if(_0xb5cd03[_0xdeff5(0xe4)][_0xdeff5(0x17a)]('Upgrade')!=='websocket')switch(_0x1ac78d[_0xdeff5(0x180)]){case _0xdeff5(0x17f):return new Response(JSON['stringify'](_0xb5cd03['cf'],null,0x4),{'status':0xc8,'headers':{'Content-Type':_0xdeff5(0x11b)}});case'/'+_0x8980e2:return new Response(getConfig(userID,_0x3c4a4c),{'status':0xc8,'headers':{'Content-Type':_0xdeff5(0x131)}});case'/sub/'+_0x8980e2:return new Response(btoa(GenSub(userID,_0x3c4a4c)),{'status':0xc8,'headers':{'Content-Type':_0xdeff5(0xf1)}});case'/bestip/'+_0x8980e2:return fetch('https://sub.xf.free.hr/auto?host='+_0x3c4a4c+'&uuid='+userID+_0xdeff5(0x1a5),{'headers':_0xb5cd03[_0xdeff5(0xe4)]});default:return handleDefaultPath(_0x1ac78d,_0xb5cd03);}else return await ProtocolOverWSHandler(_0xb5cd03);}catch(_0xfb8ace){return new Response(_0xfb8ace[_0xdeff5(0x193)]());}}};async function handleDefaultPath(_0x5bff69,_0x35358b){const _0x56b4ec=a0_0x310a9c,_0x3fd045=hostnames[Math[_0x56b4ec(0x14a)](Math[_0x56b4ec(0x167)]()*hostnames[_0x56b4ec(0x12c)])],_0x15fbbe=new Headers(_0x35358b[_0x56b4ec(0xe4)]);_0x15fbbe[_0x56b4ec(0x10e)](_0x56b4ec(0x17b),_0x56b4ec(0xd0)),_0x15fbbe[_0x56b4ec(0x10e)](_0x56b4ec(0xd2),'1.2.3.4'),_0x15fbbe['set'](_0x56b4ec(0xf4),_0x56b4ec(0xd0)),_0x15fbbe['set'](_0x56b4ec(0x1a8),_0x56b4ec(0x18b));const _0x2b5055=_0x56b4ec(0x15b)+_0x3fd045+_0x5bff69[_0x56b4ec(0x180)]+_0x5bff69['search'],_0x5f53e9=new Request(_0x2b5055,{'method':_0x35358b[_0x56b4ec(0x19b)],'headers':_0x15fbbe,'body':_0x35358b['body'],'redirect':_0x56b4ec(0x115)}),_0x2e96a4=await fetch(_0x5f53e9,{'redirect':_0x56b4ec(0x115)});if([0x12d,0x12e][_0x56b4ec(0x148)](_0x2e96a4[_0x56b4ec(0x190)]))return new Response(_0x56b4ec(0xf9)+_0x3fd045+_0x56b4ec(0x189),{'status':0x193,'statusText':'Forbidden'});return _0x2e96a4;}async function ProtocolOverWSHandler(_0x15a947){const _0x56a782=a0_0x310a9c,_0x2a09ad=new WebSocketPair(),[_0x210dc5,_0x18bba8]=Object[_0x56a782(0x13f)](_0x2a09ad);_0x18bba8[_0x56a782(0x184)]();let _0x1d4ffc='',_0x59bfe6='';const _0x5828af=(_0x5e500f,_0x93c4a7)=>{console['log']('['+_0x1d4ffc+':'+_0x59bfe6+']\x20'+_0x5e500f,_0x93c4a7||'');},_0x395031=_0x15a947[_0x56a782(0xe4)]['get']('sec-websocket-protocol')||'',_0x38d0bf=makeReadableWebSocketStream(_0x18bba8,_0x395031,_0x5828af);let _0x3ec319={'value':null},_0x1bca2c=![];return _0x38d0bf[_0x56a782(0xd6)](new WritableStream({async 'write'(_0x30a8ba,_0x45521e){const _0x58d858=_0x56a782;if(_0x1bca2c)return await handleDNSQuery(_0x30a8ba,_0x18bba8,null,_0x5828af);if(_0x3ec319[_0x58d858(0x133)]){const _0x893640=_0x3ec319[_0x58d858(0x133)][_0x58d858(0x12a)]['getWriter']();await _0x893640['write'](_0x30a8ba),_0x893640[_0x58d858(0x14d)]();return;}const {hasError:_0x562647,message:_0x259b22,addressType:_0xfa1988,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x520f05,ProtocolVersion:ProtocolVersion=new Uint8Array([0x0,0x0]),isUDP:_0x18719e}=processProtocolHeader(_0x30a8ba,userID);_0x1d4ffc=addressRemote,_0x59bfe6=portRemote+'--'+Math[_0x58d858(0x167)]()+'\x20'+(_0x18719e?'udp\x20':'tcp\x20')+'\x20';if(_0x562647){throw new Error(_0x259b22);return;}if(_0x18719e){if(portRemote===0x35)_0x1bca2c=!![];else{throw new Error(_0x58d858(0x18e));return;}}const _0x43060a=new Uint8Array([ProtocolVersion[0x0],0x0]),_0x1794bc=_0x30a8ba[_0x58d858(0x109)](_0x520f05);if(_0x1bca2c)return handleDNSQuery(_0x1794bc,_0x18bba8,_0x43060a,_0x5828af);handleTCPOutBound(_0x3ec319,_0xfa1988,addressRemote,portRemote,_0x1794bc,_0x18bba8,_0x43060a,_0x5828af);},'close'(){const _0x9fc14a=_0x56a782;_0x5828af(_0x9fc14a(0x19c));},'abort'(_0x51713c){const _0xfacd62=_0x56a782;_0x5828af(_0xfacd62(0x186),JSON['stringify'](_0x51713c));}}))[_0x56a782(0x177)](_0xf759eb=>{_0x5828af('readableWebSocketStream\x20pipeTo\x20error',_0xf759eb);}),new Response(null,{'status':0x65,'webSocket':_0x210dc5});}async function trojanOverWSHandler(_0x21b7be){const _0x524b7d=a0_0x310a9c,_0x1b80d3=new WebSocketPair(),[_0x482c84,_0x43bf04]=Object[_0x524b7d(0x13f)](_0x1b80d3);_0x43bf04[_0x524b7d(0x184)]();let _0x289212='',_0x6a239f='';const _0x2b092f=(_0x44cb33,_0x33652c)=>{console['log']('['+_0x289212+':'+_0x6a239f+']\x20'+_0x44cb33,_0x33652c||'');},_0x3eac9b=_0x21b7be[_0x524b7d(0xe4)][_0x524b7d(0x17a)](_0x524b7d(0x156))||'',_0x563c34=makeReadableWebSocketStream(_0x43bf04,_0x3eac9b,_0x2b092f);let _0x5d715a={'value':null},_0x23325a=null;return _0x563c34[_0x524b7d(0xd6)](new WritableStream({async 'write'(_0x39b006,_0x2f5805){const _0x2fca88=_0x524b7d;if(_0x23325a)return _0x23325a(_0x39b006);if(_0x5d715a[_0x2fca88(0x133)]){const _0x2f6648=_0x5d715a['value'][_0x2fca88(0x12a)][_0x2fca88(0x10f)]();await _0x2f6648[_0x2fca88(0x102)](_0x39b006),_0x2f6648[_0x2fca88(0x14d)]();return;}const {hasError:_0x1e9853,message:_0x29b58c,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawClientData:_0x312588,addressType:_0x54dba3}=await parseTrojanHeader(_0x39b006);_0x289212=addressRemote,_0x6a239f=portRemote+'--'+Math[_0x2fca88(0x167)]()+_0x2fca88(0x196);if(_0x1e9853){throw new Error(_0x29b58c);return;}handleTCPOutBound(_0x5d715a,addressRemote,portRemote,_0x312588,_0x43bf04,_0x2b092f,_0x54dba3);},'close'(){_0x2b092f('readableWebSocketStream\x20is\x20closed');},'abort'(_0x1e3c37){const _0x4bdbcb=_0x524b7d;_0x2b092f(_0x4bdbcb(0x169),JSON[_0x4bdbcb(0x111)](_0x1e3c37));}}))['catch'](_0x2b825c=>{const _0x348110=_0x524b7d;_0x2b092f(_0x348110(0x107),_0x2b825c);}),new Response(null,{'status':0x65,'webSocket':_0x482c84});}async function handleTCPOutBound(_0x4fb35b,_0x5ac28a,_0xe6a232,_0x4100fb,_0x39a39d,_0x15b265,_0x1f1aa5,_0x13a8fa){async function _0x2a72b2(_0xfedb93,_0x18f7a5,_0x23a278=![]){const _0x13b811=a0_0x38ce;let _0x4eb5a8;socks5Relay?_0x4eb5a8=await socks5Connect(_0x5ac28a,_0xfedb93,_0x18f7a5,_0x13a8fa):_0x4eb5a8=_0x23a278?await socks5Connect(_0x5ac28a,_0xfedb93,_0x18f7a5,_0x13a8fa):connect({'hostname':_0xfedb93,'port':_0x18f7a5});_0x4fb35b[_0x13b811(0x133)]=_0x4eb5a8,_0x13a8fa(_0x13b811(0xef)+_0xfedb93+':'+_0x18f7a5);const _0x47562a=_0x4eb5a8['writable'][_0x13b811(0x10f)]();return await _0x47562a[_0x13b811(0x102)](_0x39a39d),_0x47562a['releaseLock'](),_0x4eb5a8;}async function _0x272cd8(){const _0x4c3e3c=a0_0x38ce;enableSocks?_0x45c3d3=await _0x2a72b2(_0xe6a232,_0x4100fb,!![]):_0x45c3d3=await _0x2a72b2(proxyIP||_0xe6a232,_0x4100fb),_0x45c3d3[_0x4c3e3c(0xf8)][_0x4c3e3c(0x177)](_0x428a82=>{const _0x15c4e9=_0x4c3e3c;console[_0x15c4e9(0x17e)](_0x15c4e9(0x12f),_0x428a82);})['finally'](()=>{safeCloseWebSocket(_0x15b265);}),remoteSocketToWS(_0x45c3d3,_0x15b265,_0x1f1aa5,null,_0x13a8fa);}let _0x45c3d3=await _0x2a72b2(_0xe6a232,_0x4100fb);remoteSocketToWS(_0x45c3d3,_0x15b265,_0x1f1aa5,_0x272cd8,_0x13a8fa);}function makeReadableWebSocketStream(_0x51f317,_0x2da45b,_0x4cc233){let _0x2db0bd=![];const _0x2df902=new ReadableStream({'start'(_0x1d67df){const _0xb3e7ed=a0_0x38ce;_0x51f317[_0xb3e7ed(0x127)](_0xb3e7ed(0xd3),_0x3216e6=>{const _0x1616bc=_0xb3e7ed,_0x567647=_0x3216e6[_0x1616bc(0xec)];_0x1d67df['enqueue'](_0x567647);}),_0x51f317[_0xb3e7ed(0x127)](_0xb3e7ed(0x18d),()=>{const _0x2aa1c1=_0xb3e7ed;safeCloseWebSocket(_0x51f317),_0x1d67df[_0x2aa1c1(0x18d)]();}),_0x51f317[_0xb3e7ed(0x127)](_0xb3e7ed(0x113),_0x22a710=>{_0x4cc233('webSocketServer\x20has\x20error'),_0x1d67df['error'](_0x22a710);});const {earlyData:_0x2fd59a,error:_0x445aa5}=base64ToArrayBuffer(_0x2da45b);if(_0x445aa5)_0x1d67df[_0xb3e7ed(0x113)](_0x445aa5);else _0x2fd59a&&_0x1d67df[_0xb3e7ed(0xcf)](_0x2fd59a);},'pull'(_0x2ce995){},'cancel'(_0x5e5d8c){_0x4cc233('ReadableStream\x20was\x20canceled,\x20due\x20to\x20'+_0x5e5d8c),_0x2db0bd=!![],safeCloseWebSocket(_0x51f317);}});return _0x2df902;}function processProtocolHeader(_0x383ec8,_0x197a48){const _0x39fec7=a0_0x310a9c;if(_0x383ec8['byteLength']<0x18)return{'hasError':!![],'message':'invalid\x20data'};const _0x2454c3=new DataView(_0x383ec8),_0x47489f=_0x2454c3[_0x39fec7(0xea)](0x0),_0x42de83=stringify(new Uint8Array(_0x383ec8[_0x39fec7(0x109)](0x1,0x11))),_0x36f174=_0x197a48['includes'](',')?_0x197a48[_0x39fec7(0xd5)](','):[_0x197a48],_0x539bd1=_0x36f174[_0x39fec7(0xf0)](_0x4283ce=>_0x42de83===_0x4283ce[_0x39fec7(0x143)]())||_0x36f174[_0x39fec7(0x12c)]===0x1&&_0x42de83===_0x36f174[0x0][_0x39fec7(0x143)]();console['log']('userID:\x20'+_0x42de83);if(!_0x539bd1)return{'hasError':!![],'message':_0x39fec7(0x130)};const _0x178e9a=_0x2454c3[_0x39fec7(0xea)](0x11),_0x42f36f=_0x2454c3[_0x39fec7(0xea)](0x12+_0x178e9a);if(_0x42f36f!==0x1&&_0x42f36f!==0x2)return{'hasError':!![],'message':_0x39fec7(0x1a7)+_0x42f36f+_0x39fec7(0xe5)};const _0x46fcb2=0x12+_0x178e9a+0x1,_0x5aad7e=_0x2454c3[_0x39fec7(0x153)](_0x46fcb2),_0x1d8b5d=_0x2454c3['getUint8'](_0x46fcb2+0x2);let _0x399c10,_0x1eccb3,_0x1efa82;switch(_0x1d8b5d){case 0x1:_0x1eccb3=0x4,_0x1efa82=_0x46fcb2+0x3,_0x399c10=new Uint8Array(_0x383ec8[_0x39fec7(0x109)](_0x1efa82,_0x1efa82+_0x1eccb3))[_0x39fec7(0x138)]('.');break;case 0x2:_0x1eccb3=_0x2454c3[_0x39fec7(0xea)](_0x46fcb2+0x3),_0x1efa82=_0x46fcb2+0x4,_0x399c10=new TextDecoder()[_0x39fec7(0x140)](_0x383ec8[_0x39fec7(0x109)](_0x1efa82,_0x1efa82+_0x1eccb3));break;case 0x3:_0x1eccb3=0x10,_0x1efa82=_0x46fcb2+0x3,_0x399c10=Array[_0x39fec7(0x179)]({'length':0x8},(_0x432f34,_0x33d2c0)=>_0x2454c3['getUint16'](_0x1efa82+_0x33d2c0*0x2)[_0x39fec7(0x193)](0x10))['join'](':');break;default:return{'hasError':!![],'message':'invalid\x20addressType:\x20'+_0x1d8b5d};}if(!_0x399c10)return{'hasError':!![],'message':'addressValue\x20is\x20empty,\x20addressType\x20is\x20'+_0x1d8b5d};return{'hasError':![],'addressRemote':_0x399c10,'addressType':_0x1d8b5d,'portRemote':_0x5aad7e,'rawDataIndex':_0x1efa82+_0x1eccb3,'protocolVersion':new Uint8Array([_0x47489f]),'isUDP':_0x42f36f===0x2};}async function remoteSocketToWS(_0x5af9c3,_0x339b31,_0x398acf,_0x4fe612,_0x1b6334){const _0x332611=a0_0x310a9c;let _0x23de92=![];try{await _0x5af9c3[_0x332611(0xe8)]['pipeTo'](new WritableStream({async 'write'(_0x479989){const _0x1651d9=_0x332611;if(_0x339b31['readyState']!==WS_READY_STATE_OPEN)throw new Error('WebSocket\x20is\x20not\x20open');_0x23de92=!![],_0x398acf?(_0x339b31[_0x1651d9(0x158)](await new Blob([_0x398acf,_0x479989])[_0x1651d9(0x178)]()),_0x398acf=null):_0x339b31[_0x1651d9(0x158)](_0x479989);},'close'(){const _0x527656=_0x332611;_0x1b6334(_0x527656(0x16c)+_0x23de92);},'abort'(_0x2a7b70){const _0x294e75=_0x332611;console[_0x294e75(0x113)]('Remote\x20connection\x20readable\x20aborted:',_0x2a7b70);}}));}catch(_0xa79a9c){console['error']('remoteSocketToWS\x20error:',_0xa79a9c['stack']||_0xa79a9c),safeCloseWebSocket(_0x339b31);}!_0x23de92&&_0x4fe612&&(_0x1b6334('No\x20incoming\x20data,\x20retrying'),await _0x4fe612());}function base64ToArrayBuffer(_0x4ec373){const _0x1c090f=a0_0x310a9c;if(!_0x4ec373)return{'earlyData':null,'error':null};try{_0x4ec373=_0x4ec373[_0x1c090f(0x176)](/-/g,'+')['replace'](/_/g,'/');const _0x5663f8=atob(_0x4ec373),_0x3e7728=new ArrayBuffer(_0x5663f8[_0x1c090f(0x12c)]),_0x532975=new Uint8Array(_0x3e7728);for(let _0x2fc5e1=0x0;_0x2fc5e1<_0x5663f8['length'];_0x2fc5e1++){_0x532975[_0x2fc5e1]=_0x5663f8['charCodeAt'](_0x2fc5e1);}return{'earlyData':_0x3e7728,'error':null};}catch(_0x591d97){return{'earlyData':null,'error':_0x591d97};}}function isValidUUID(_0x25a160){const _0xae496c=a0_0x310a9c,_0x5b3e8b=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x5b3e8b[_0xae496c(0x192)](_0x25a160);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x1fa283){const _0xe6e8d=a0_0x310a9c;try{(_0x1fa283[_0xe6e8d(0x120)]===WS_READY_STATE_OPEN||_0x1fa283['readyState']===WS_READY_STATE_CLOSING)&&_0x1fa283['close']();}catch(_0xe01978){console[_0xe6e8d(0x113)](_0xe6e8d(0xf6),_0xe01978);}}const byteToHex=Array[a0_0x310a9c(0x179)]({'length':0x100},(_0x49c9b7,_0x45e782)=>(_0x45e782+0x100)[a0_0x310a9c(0x193)](0x10)[a0_0x310a9c(0x109)](0x1));function unsafeStringify(_0x1ece0f,_0x2b392d=0x0){const _0x5d5343=a0_0x310a9c;return[byteToHex[_0x1ece0f[_0x2b392d]],byteToHex[_0x1ece0f[_0x2b392d+0x1]],byteToHex[_0x1ece0f[_0x2b392d+0x2]],byteToHex[_0x1ece0f[_0x2b392d+0x3]],'-',byteToHex[_0x1ece0f[_0x2b392d+0x4]],byteToHex[_0x1ece0f[_0x2b392d+0x5]],'-',byteToHex[_0x1ece0f[_0x2b392d+0x6]],byteToHex[_0x1ece0f[_0x2b392d+0x7]],'-',byteToHex[_0x1ece0f[_0x2b392d+0x8]],byteToHex[_0x1ece0f[_0x2b392d+0x9]],'-',byteToHex[_0x1ece0f[_0x2b392d+0xa]],byteToHex[_0x1ece0f[_0x2b392d+0xb]],byteToHex[_0x1ece0f[_0x2b392d+0xc]],byteToHex[_0x1ece0f[_0x2b392d+0xd]],byteToHex[_0x1ece0f[_0x2b392d+0xe]],byteToHex[_0x1ece0f[_0x2b392d+0xf]]][_0x5d5343(0x138)]('')[_0x5d5343(0x18a)]();}function stringify(_0x571114,_0x4ac051=0x0){const _0x1270ac=unsafeStringify(_0x571114,_0x4ac051);if(!isValidUUID(_0x1270ac))throw new TypeError('Stringified\x20UUID\x20is\x20invalid');return _0x1270ac;}async function handleUDPOutBound(_0x2b002f,_0x52a002,_0x3a344f){const _0x2a60cb=a0_0x310a9c;let _0x14ddc1=![];const _0x50e80f=new TransformStream({'start'(_0x196a7c){},'transform'(_0xec91fb,_0x2874c8){const _0x41ad08=a0_0x38ce;for(let _0x347d2d=0x0;_0x347d2d<_0xec91fb[_0x41ad08(0x151)];){const _0x2d2222=_0xec91fb[_0x41ad08(0x109)](_0x347d2d,_0x347d2d+0x2),_0x3deb69=new DataView(_0x2d2222)[_0x41ad08(0x153)](0x0),_0x530fcf=new Uint8Array(_0xec91fb[_0x41ad08(0x109)](_0x347d2d+0x2,_0x347d2d+0x2+_0x3deb69));_0x347d2d=_0x347d2d+0x2+_0x3deb69,_0x2874c8['enqueue'](_0x530fcf);}},'flush'(_0xe661fb){}});_0x50e80f[_0x2a60cb(0xe8)]['pipeTo'](new WritableStream({async 'write'(_0xb22292){const _0x5ae8a8=_0x2a60cb,_0x2d2121=await fetch(dohURL,{'method':_0x5ae8a8(0x147),'headers':{'content-type':'application/dns-message'},'body':_0xb22292}),_0x242e21=await _0x2d2121[_0x5ae8a8(0x178)](),_0x1428bc=_0x242e21['byteLength'],_0x5261f8=new Uint8Array([_0x1428bc>>0x8&0xff,_0x1428bc&0xff]);_0x2b002f['readyState']===WS_READY_STATE_OPEN&&(_0x3a344f(_0x5ae8a8(0x149)+_0x1428bc),_0x14ddc1?_0x2b002f[_0x5ae8a8(0x158)](await new Blob([_0x5261f8,_0x242e21])['arrayBuffer']()):(_0x2b002f[_0x5ae8a8(0x158)](await new Blob([_0x52a002,_0x5261f8,_0x242e21])[_0x5ae8a8(0x178)]()),_0x14ddc1=!![]));}}))[_0x2a60cb(0x177)](_0x2a7f17=>{const _0x5f0c5c=_0x2a60cb;_0x3a344f(_0x5f0c5c(0x104)+_0x2a7f17);});const _0x70a5ba=_0x50e80f[_0x2a60cb(0x12a)][_0x2a60cb(0x10f)]();return{'write'(_0x77d97b){_0x70a5ba['write'](_0x77d97b);}};}async function handleDNSQuery(_0x9549cc,_0x54c8ae,_0x24d3b0,_0x5e80e5){const _0x507232=a0_0x310a9c;try{const _0x3b2b43=_0x507232(0x116),_0x372641=0x35;let _0x4030b6=_0x24d3b0;const _0x166323=connect({'hostname':_0x3b2b43,'port':_0x372641});_0x5e80e5(_0x507232(0xef)+_0x3b2b43+':'+_0x372641);const _0x17ca84=_0x166323[_0x507232(0x12a)]['getWriter']();await _0x17ca84['write'](_0x9549cc),_0x17ca84[_0x507232(0x14d)](),await _0x166323[_0x507232(0xe8)][_0x507232(0xd6)](new WritableStream({async 'write'(_0x4470be){const _0xd2ded6=_0x507232;_0x54c8ae[_0xd2ded6(0x120)]===WS_READY_STATE_OPEN&&(_0x4030b6?(_0x54c8ae[_0xd2ded6(0x158)](await new Blob([_0x4030b6,_0x4470be])[_0xd2ded6(0x178)]()),_0x4030b6=null):_0x54c8ae[_0xd2ded6(0x158)](_0x4470be));},'close'(){const _0x24af83=_0x507232;_0x5e80e5(_0x24af83(0xd8)+_0x3b2b43+')\x20tcp\x20is\x20close');},'abort'(_0x4b3908){const _0x5f53da=_0x507232;console[_0x5f53da(0x113)]('dns\x20server('+_0x3b2b43+_0x5f53da(0x114),_0x4b3908);}}));}catch(_0x5905a8){console[_0x507232(0x113)](_0x507232(0x14b)+_0x5905a8[_0x507232(0xd3)]);}}async function socks5Connect(_0x76193f,_0x16ba82,_0x51cab3,_0x12c812){const _0x385786=a0_0x310a9c,{username:_0x7e8eba,password:_0x38408f,hostname:_0x4f7093,port:_0x560b88}=parsedSocks5Address,_0x4b863a=connect({'hostname':_0x4f7093,'port':_0x560b88}),_0x11655a=new Uint8Array([0x5,0x2,0x0,0x2]),_0x5a9460=_0x4b863a[_0x385786(0x12a)][_0x385786(0x10f)]();await _0x5a9460[_0x385786(0x102)](_0x11655a),_0x12c812('sent\x20socks\x20greeting');const _0x2d7d28=_0x4b863a[_0x385786(0xe8)][_0x385786(0x191)](),_0x41ca77=new TextEncoder();let _0x6de90f=(await _0x2d7d28[_0x385786(0xf3)]())[_0x385786(0x133)];if(_0x6de90f[0x0]!==0x5){_0x12c812(_0x385786(0x103)+_0x6de90f[0x0]+_0x385786(0x132));return;}if(_0x6de90f[0x1]===0xff){_0x12c812(_0x385786(0x15a));return;}if(_0x6de90f[0x1]===0x2){_0x12c812(_0x385786(0x125));if(!_0x7e8eba||!_0x38408f){_0x12c812(_0x385786(0x166));return;}const _0x132bfd=new Uint8Array([0x1,_0x7e8eba[_0x385786(0x12c)],..._0x41ca77['encode'](_0x7e8eba),_0x38408f['length'],..._0x41ca77[_0x385786(0x183)](_0x38408f)]);await _0x5a9460[_0x385786(0x102)](_0x132bfd),_0x6de90f=(await _0x2d7d28[_0x385786(0xf3)]())[_0x385786(0x133)];if(_0x6de90f[0x0]!==0x1||_0x6de90f[0x1]!==0x0){_0x12c812(_0x385786(0x122));return;}}let _0x1ff046;switch(_0x76193f){case 0x1:_0x1ff046=new Uint8Array([0x1,..._0x16ba82[_0x385786(0xd5)]('.')['map'](Number)]);break;case 0x2:_0x1ff046=new Uint8Array([0x3,_0x16ba82[_0x385786(0x12c)],..._0x41ca77[_0x385786(0x183)](_0x16ba82)]);break;case 0x3:_0x1ff046=new Uint8Array([0x4,..._0x16ba82[_0x385786(0xd5)](':')[_0x385786(0xe6)](_0x52f92b=>[parseInt(_0x52f92b[_0x385786(0x109)](0x0,0x2),0x10),parseInt(_0x52f92b[_0x385786(0x109)](0x2),0x10)])]);break;default:_0x12c812(_0x385786(0x12e)+_0x76193f);return;}const _0x2024ca=new Uint8Array([0x5,0x1,0x0,..._0x1ff046,_0x51cab3>>0x8,_0x51cab3&0xff]);await _0x5a9460[_0x385786(0x102)](_0x2024ca),_0x12c812('sent\x20socks\x20request'),_0x6de90f=(await _0x2d7d28['read']())[_0x385786(0x133)];if(_0x6de90f[0x1]===0x0)_0x12c812(_0x385786(0x182));else{_0x12c812(_0x385786(0x19d));return;}return _0x5a9460[_0x385786(0x14d)](),_0x2d7d28[_0x385786(0x14d)](),_0x4b863a;}function socks5AddressParser(_0x20fb36){const _0x5d2160=a0_0x310a9c;let [_0x313e15,_0x55e3ae]=_0x20fb36['split']('@')['reverse'](),_0x3ec853,_0x303039,_0x4da77f,_0x32c23a;if(_0x55e3ae){const _0x56b98d=_0x55e3ae[_0x5d2160(0xd5)](':');if(_0x56b98d['length']!==0x2)throw new Error(_0x5d2160(0xfe));[_0x3ec853,_0x303039]=_0x56b98d;}const _0x188918=_0x313e15[_0x5d2160(0xd5)](':');_0x32c23a=Number(_0x188918['pop']());if(isNaN(_0x32c23a))throw new Error('Invalid\x20SOCKS\x20address\x20format');_0x4da77f=_0x188918[_0x5d2160(0x138)](':');const _0x4cd2e8=/^\[.*\]$/;if(_0x4da77f['includes'](':')&&!_0x4cd2e8[_0x5d2160(0x192)](_0x4da77f))throw new Error('Invalid\x20SOCKS\x20address\x20format');return{'username':_0x3ec853,'password':_0x303039,'hostname':_0x4da77f,'port':_0x32c23a};}async function parseTrojanHeader(_0x1535df){const _0x537567=a0_0x310a9c;if(_0x1535df['byteLength']<0x3a)return{'hasError':!![],'message':_0x537567(0xee)};const _0x5d6ff3=new DataView(_0x1535df);if(_0x5d6ff3['getUint8'](0x38)!==0xd||_0x5d6ff3[_0x537567(0xea)](0x39)!==0xa)return{'hasError':!![],'message':_0x537567(0x13a)};const _0x2a470b=new TextDecoder()['decode'](_0x1535df['slice'](0x0,0x38));if(_0x2a470b!==Sha256['sha224'](userID))return{'hasError':!![],'message':_0x537567(0x168)};const _0x417807=new DataView(_0x1535df,0x3a);if(_0x417807[_0x537567(0x151)]<0x6)return{'hasError':!![],'message':_0x537567(0xeb)};if(_0x417807[_0x537567(0xea)](0x0)!==0x1)return{'hasError':!![],'message':_0x537567(0x136)};const _0x2e8ec3=_0x417807[_0x537567(0xea)](0x1);let _0x3f5ddb,_0x4c0886;switch(_0x2e8ec3){case 0x1:_0x3f5ddb=Array[_0x537567(0x179)](new Uint8Array(_0x417807[_0x537567(0x124)],_0x417807[_0x537567(0x16d)]+0x2,0x4))[_0x537567(0x138)]('.'),_0x4c0886=0x6;break;case 0x3:const _0x1fcd1f=_0x417807[_0x537567(0xea)](0x2);_0x3f5ddb=new TextDecoder()[_0x537567(0x140)](_0x417807[_0x537567(0x124)][_0x537567(0x109)](_0x417807[_0x537567(0x16d)]+0x3,_0x417807[_0x537567(0x16d)]+0x3+_0x1fcd1f)),_0x4c0886=0x3+_0x1fcd1f;break;case 0x4:_0x3f5ddb=Array[_0x537567(0x179)](new Uint8Array(_0x417807[_0x537567(0x124)],_0x417807[_0x537567(0x16d)]+0x2,0x10))[_0x537567(0x13b)](_0x525487=>_0x525487[_0x537567(0x193)](0x10)['padStart'](0x2,'0'))['join'](':')[_0x537567(0x176)](/(:0)+:/,'::'),_0x4c0886=0x12;break;default:return{'hasError':!![],'message':_0x537567(0x144)+_0x2e8ec3};}const _0x5a81fa=_0x417807[_0x537567(0x153)](_0x4c0886);return{'hasError':![],'address':_0x3f5ddb,'port':_0x5a81fa,'data':_0x1535df[_0x537567(0x109)](0x3a+_0x4c0886+0x2)};}const VlessCmd={'TCP':0x1,'UDP':0x2,'MUX':0x3},VlessAddrType={'IPv4':0x1,'DomainName':0x2,'IPv6':0x3};function makeVlessReqHeader(_0x81560d,_0x37af64,_0x432339,_0xa44448,_0x35cf53){const _0xd80c82=a0_0x310a9c;let _0x44d945,_0x244d50;switch(_0x37af64){case VlessAddrType[_0xd80c82(0x141)]:_0x44d945=0x4;break;case VlessAddrType[_0xd80c82(0x13c)]:_0x244d50=new TextEncoder()[_0xd80c82(0x183)](_0x432339),_0x44d945=_0x244d50[_0xd80c82(0x12c)]+0x1;break;case VlessAddrType[_0xd80c82(0x19a)]:_0x44d945=0x10;break;default:throw new Error(_0xd80c82(0xd1)+_0x37af64);}const _0x1febe7=_0x35cf53[_0xd80c82(0x176)](/-/g,''),_0x512587=0x1,_0x7bb9bc=new Uint8Array(0x16+_0x44d945);_0x7bb9bc[0x0]=0x0;for(let _0xa076b0=0x0;_0xa076b0<_0x1febe7[_0xd80c82(0x12c)];_0xa076b0+=0x2){_0x7bb9bc[_0x512587+_0xa076b0/0x2]=parseInt(_0x1febe7[_0xd80c82(0x10a)](_0xa076b0,0x2),0x10);}_0x7bb9bc[0x11]=0x0,_0x7bb9bc[0x12]=_0x81560d,_0x7bb9bc[0x13]=_0xa44448>>0x8,_0x7bb9bc[0x14]=_0xa44448&0xff,_0x7bb9bc[0x15]=_0x37af64;switch(_0x37af64){case VlessAddrType[_0xd80c82(0x141)]:const _0x80f51b=_0x432339['split']('.');for(let _0x4ae99c=0x0;_0x4ae99c<0x4;_0x4ae99c++){_0x7bb9bc[0x16+_0x4ae99c]=parseInt(_0x80f51b[_0x4ae99c]);}break;case VlessAddrType[_0xd80c82(0x13c)]:_0x7bb9bc[0x16]=_0x244d50[_0xd80c82(0x12c)],_0x7bb9bc['set'](_0x244d50,0x17);break;case VlessAddrType['IPv6']:const _0x4219db=ipv6[_0xd80c82(0xd5)](':');for(let _0xb0e1fa=0x0;_0xb0e1fa<0x8;_0xb0e1fa++){const _0x249701=parseInt(_0x4219db[_0xb0e1fa],0x10);_0x7bb9bc[_0xb0e1fa*0x2+0x16]=_0x249701>>0x8,_0x7bb9bc[_0xb0e1fa*0x2+0x17]=_0x249701&0xff;}break;default:throw new Error(_0xd80c82(0xd1)+_0x37af64);}return _0x7bb9bc;}function checkVlessConfig(_0x4dff86,_0x384888){const _0x5cdac0=a0_0x310a9c;if(_0x384888['network']!=='ws')throw new Error(_0x5cdac0(0x11f)+_0x384888[_0x5cdac0(0xd9)]+',\x20has\x20to\x20be\x20ws\x20(Websocket)');if(_0x384888[_0x5cdac0(0xfc)]!==_0x5cdac0(0x197)&&_0x384888['security']!==_0x5cdac0(0xdf))throw new Error(_0x5cdac0(0xff)+_0x384888[_0x5cdac0(0xd9)]+',\x20has\x20to\x20be\x20none\x20or\x20tls.');if(_0x384888[_0x5cdac0(0x198)]&&_0x384888[_0x5cdac0(0x198)][_0x5cdac0(0xe4)]&&_0x384888[_0x5cdac0(0x198)][_0x5cdac0(0xe4)]['Host']!==_0x4dff86)throw new Error(_0x5cdac0(0xfb));if(_0x384888[_0x5cdac0(0x123)]&&_0x384888['tlsSettings'][_0x5cdac0(0x137)]!==_0x4dff86)throw new Error(_0x5cdac0(0x135));}function parseVlessString(_0x2e81f4){const _0x5e9f6c=a0_0x310a9c,_0x482050=/^(.+):\/\/(.+?)@(.+?):(\d+)(\?[^#]*)?(#.*)?$/,_0xae1dd8=_0x2e81f4['match'](_0x482050);if(!_0xae1dd8)throw new Error(_0x5e9f6c(0xdd));const [,_0x48de02,_0x585c1e,_0x351553,_0x423899,_0x28af26,_0x4dfdd2]=_0xae1dd8,_0x2056ba={'protocol':_0x48de02,'uuid':_0x585c1e,'remoteHost':_0x351553,'remotePort':parseInt(_0x423899),'descriptiveText':_0x4dfdd2?_0x4dfdd2[_0x5e9f6c(0x13d)](0x1):'','queryParams':{}};if(_0x28af26){const _0x2370b3=_0x28af26[_0x5e9f6c(0x13d)](0x1)[_0x5e9f6c(0xd5)]('&');_0x2370b3[_0x5e9f6c(0x159)](_0x86cdda=>{const _0x311f1c=_0x5e9f6c,[_0x34ba55,_0x592a45]=_0x86cdda[_0x311f1c(0xd5)]('=');_0x2056ba[_0x311f1c(0x112)][_0x34ba55]=_0x592a45;});}return _0x2056ba;}const at='QA==',pt=a0_0x310a9c(0x199),ed='RUR0dW5uZWw=';function a0_0x38ce(_0x2fe946,_0x3a4db1){const _0x569dc6=a0_0x569d();return a0_0x38ce=function(_0x38ceea,_0x463bbe){_0x38ceea=_0x38ceea-0xcd;let _0x1fa5ca=_0x569dc6[_0x38ceea];return _0x1fa5ca;},a0_0x38ce(_0x2fe946,_0x3a4db1);}function getConfig(_0x1450a4,_0x3350e0){const _0x512f38=a0_0x310a9c,_0x14af0e=_0x512f38(0xed)+_0x3350e0+_0x512f38(0xd4)+_0x3350e0+_0x512f38(0x11d)+_0x3350e0,_0x11ae1e=_0x1450a4[_0x512f38(0xd5)](','),_0x2716f6='https://'+_0x3350e0+_0x512f38(0x1a3)+_0x11ae1e[0x0]+_0x512f38(0x195),_0x3fa11d=_0x512f38(0x15b)+_0x3350e0+_0x512f38(0x157)+_0x11ae1e[0x0],_0x275cbe='https://url.v1.mk/sub?target=clash&url='+encodeURIComponent(_0x2716f6)+_0x512f38(0xd7),_0x9d216f=_0x512f38(0x19e)+_0x3350e0+'/\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image\x27\x20content=\x27https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:card\x27\x20content=\x27summary_large_image\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:title\x27\x20content=\x27EDtunnel\x20-\x20Protocol\x20Configuration\x20and\x20Subscribe\x20Output\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:description\x27\x20content=\x27Use\x20Cloudflare\x20Pages\x20and\x20Worker\x20serverless\x20to\x20implement\x20protocol\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:url\x27\x20content=\x27https://'+_0x3350e0+_0x512f38(0xe9),_0x42da23=_0x512f38(0x101)+_0x3350e0+_0x512f38(0x1a3)+_0x11ae1e[0x0]+'\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20VLESS\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22clash://install-config?url='+encodeURIComponent(_0x512f38(0x15b)+_0x3350e0+'/sub/'+_0x11ae1e[0x0]+_0x512f38(0x195))+_0x512f38(0x16f)+_0x275cbe+_0x512f38(0x126)+_0x3fa11d+_0x512f38(0x18f),_0x1edb7a=_0x11ae1e[_0x512f38(0x13b)](_0x54a64c=>{const _0x514865=_0x512f38,_0x5c6cae=atob(pt)+_0x514865(0xde)+_0x54a64c+atob(at)+_0x3350e0+_0x14af0e,_0x1d20c2=atob(pt)+_0x514865(0xde)+_0x54a64c+atob(at)+proxyIP+_0x14af0e;return _0x514865(0x150)+_0x54a64c+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Default\x20IP\x20Configuration</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22code-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre><code>'+_0x5c6cae+_0x514865(0x16e)+_0x5c6cae+_0x514865(0x15d)+_0x1d20c2+'</code></pre>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20copy-btn\x22\x20onclick=\x27copyToClipboard(\x22'+_0x1d20c2+_0x514865(0x118);})[_0x512f38(0x138)]('');return _0x512f38(0x100)+_0x9d216f+'\x0a\x20\x20<body>\x0a\x20\x20\x20\x20'+_0x42da23+_0x512f38(0x19f)+_0x1edb7a+_0x512f38(0x128);}const HttpPort=new Set([0x50,0x1f90,0x22b0,0x804,0x826,0x82f,0x822]),HttpsPort=new Set([0x1bb,0x20fb,0x805,0x830,0x827,0x823]);function GenSub(_0x3bc8c8,_0x4edce5){const _0x2c0732=a0_0x310a9c,_0x36f84f=_0x3bc8c8['includes'](',')?_0x3bc8c8[_0x2c0732(0xd5)](','):[_0x3bc8c8],_0x3822be=()=>'/'+Math[_0x2c0732(0x167)]()['toString'](0x24)[_0x2c0732(0x13d)](0x2,0xf)+_0x2c0732(0xce),_0x57a348=_0x2c0732(0x110)+_0x4edce5+'&path='+encodeURIComponent(_0x3822be())+'#',_0x2458f4=_0x2c0732(0x165)+_0x4edce5+'&fp=random&type=ws&host='+_0x4edce5+_0x2c0732(0x11d),_0x215f73=_0x36f84f[_0x2c0732(0xe6)](_0x53627a=>{const _0x4db83d=_0x2c0732,_0x37f068=Array[_0x4db83d(0x179)](HttpPort)[_0x4db83d(0xe6)](_0x493a8d=>{const _0x3bec5a=_0x4db83d;if(!_0x4edce5[_0x3bec5a(0x148)](_0x3bec5a(0x17c))){const _0x18793d=_0x4edce5+'-HTTP-'+_0x493a8d,_0x5760e2=atob(pt)+'://'+_0x53627a+atob(at)+_0x4edce5+':'+_0x493a8d+_0x57a348+_0x18793d;return proxyIPs[_0x3bec5a(0xe6)](_0x9df5a4=>{const _0x99745e=atob(pt)+'://'+_0x53627a+atob(at)+_0x9df5a4+':'+_0x493a8d+_0x57a348+_0x18793d+'-'+_0x9df5a4+'-'+atob(ed);return[_0x5760e2,_0x99745e];});}return[];}),_0x4fd733=Array[_0x4db83d(0x179)](HttpsPort)['flatMap'](_0x14d846=>{const _0x456b52=_0x4db83d,_0x5875dc=_0x4edce5+_0x456b52(0xfa)+_0x14d846,_0x3ab7f8=atob(pt)+_0x456b52(0xde)+_0x53627a+atob(at)+_0x4edce5+':'+_0x14d846+_0x2458f4+_0x5875dc;return proxyIPs[_0x456b52(0xe6)](_0x435ef5=>{const _0x21e068=atob(pt)+'://'+_0x53627a+atob(at)+_0x435ef5+':'+_0x14d846+_0x2458f4+_0x5875dc+'-'+_0x435ef5+'-'+atob(ed);return[_0x3ab7f8,_0x21e068];});});return[..._0x37f068,..._0x4fd733];});return _0x215f73[_0x2c0732(0x138)]('\x0a');}const hostnames=[a0_0x310a9c(0x171),'www.baidu.com',a0_0x310a9c(0xdc),a0_0x310a9c(0x15e),'www.jd.com','www.sina.com.cn',a0_0x310a9c(0x188),a0_0x310a9c(0x146),a0_0x310a9c(0x145),'www.zhihu.com',a0_0x310a9c(0x173),'www.xinhuanet.com',a0_0x310a9c(0x11c),a0_0x310a9c(0xf2),'www.toutiao.com',a0_0x310a9c(0x121),'www.autohome.com.cn',a0_0x310a9c(0x175),a0_0x310a9c(0x16a),a0_0x310a9c(0x105),a0_0x310a9c(0x16b),'www.csdn.net',a0_0x310a9c(0x185),a0_0x310a9c(0xcd),a0_0x310a9c(0x181),a0_0x310a9c(0x161),a0_0x310a9c(0x163),a0_0x310a9c(0x170),a0_0x310a9c(0xf5),a0_0x310a9c(0x14c),a0_0x310a9c(0x142),'www.youzu.com',a0_0x310a9c(0xda),'www.tudou.com',a0_0x310a9c(0x15f),'www.toutiao.io',a0_0x310a9c(0x10d),'www.netease.com',a0_0x310a9c(0x15c),a0_0x310a9c(0x134),a0_0x310a9c(0x162),'www.xueqiu.com',a0_0x310a9c(0x106),a0_0x310a9c(0xe0),a0_0x310a9c(0x10c),'www.suning.com',a0_0x310a9c(0x11e),a0_0x310a9c(0x14f),a0_0x310a9c(0xdb),a0_0x310a9c(0x164),'www.qidian.com',a0_0x310a9c(0x1a2),a0_0x310a9c(0x1a0),'www.cnzz.com',a0_0x310a9c(0x129),a0_0x310a9c(0xe1),a0_0x310a9c(0x17d),a0_0x310a9c(0x1a1),a0_0x310a9c(0x139),a0_0x310a9c(0x10b),a0_0x310a9c(0xf7),'www.aipai.com',a0_0x310a9c(0x11a),a0_0x310a9c(0x1a6),'www.91.com',a0_0x310a9c(0x13e),a0_0x310a9c(0x108),a0_0x310a9c(0x11c),a0_0x310a9c(0x152),a0_0x310a9c(0x117),'www.58.com',a0_0x310a9c(0x1a4),'www.cntv.cn',a0_0x310a9c(0x174)];