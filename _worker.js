const a0_0x395862=a0_0x73ae;(function(_0x502416,_0x22cbfe){const _0x4cbefb=a0_0x73ae,_0x3bbc40=_0x502416();while(!![]){try{const _0x47c614=parseInt(_0x4cbefb(0x18c))/0x1+-parseInt(_0x4cbefb(0x1b6))/0x2*(parseInt(_0x4cbefb(0x1f6))/0x3)+-parseInt(_0x4cbefb(0x1eb))/0x4+-parseInt(_0x4cbefb(0x1af))/0x5+parseInt(_0x4cbefb(0x1a3))/0x6*(parseInt(_0x4cbefb(0x22c))/0x7)+-parseInt(_0x4cbefb(0x25d))/0x8*(parseInt(_0x4cbefb(0x27b))/0x9)+parseInt(_0x4cbefb(0x1d5))/0xa;if(_0x47c614===_0x22cbfe)break;else _0x3bbc40['push'](_0x3bbc40['shift']());}catch(_0x4bb302){_0x3bbc40['push'](_0x3bbc40['shift']());}}}(a0_0x4190,0x6caa6));import{connect}from'cloudflare:sockets';let userID=a0_0x395862(0x233);const proxyIPs=[a0_0x395862(0x1ba)];let proxyIP=proxyIPs[Math[a0_0x395862(0x23f)](Math[a0_0x395862(0x25a)]()*proxyIPs[a0_0x395862(0x250)])],socks5Address='',socks5Relay=![];function a0_0x4190(){const _0x3e4af3=['-HTTPS-','fail\x20to\x20open\x20socks\x20connection','www.zol.com.cn','2180340QAVeNN','tls','www.pptv.com',',\x20has\x20to\x20be\x20none\x20or\x20tls.','sent\x20socks\x20request','1.2.3.4','www.163.com','get','write','Remote\x20connection\x20readable\x20closed.\x20Had\x20incoming\x20data:\x20','uuid\x20is\x20not\x20valid','www.mafengwo.cn','The\x20Host\x20field\x20in\x20the\x20http\x20header\x20is\x20different\x20from\x20the\x20server\x20address,\x20this\x20is\x20unsupported\x20due\x20to\x20Cloudflare\x20API\x20restrictions','www.baidu.com','invalid\x20addressType:\x20','?format=clash','serverName','udp\x20','/\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image\x27\x20content=\x27https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:card\x27\x20content=\x27summary_large_image\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:title\x27\x20content=\x27EDtunnel\x20-\x20Protocol\x20Configuration\x20and\x20Subscribe\x20Output\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:description\x27\x20content=\x27Use\x20Cloudflare\x20Pages\x20and\x20Worker\x20serverless\x20to\x20implement\x20protocol\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:url\x27\x20content=\x27https://','test','catch','encode','flatMap','values','substring','network','www.qqgongyi.com','\x0a\x20\x20<html>\x0a\x20\x20','\x20expected:\x205','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Default\x20IP\x20Configuration</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22code-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre><code>','trim','handleDNSQuery\x20have\x20exception,\x20error:\x20','charCodeAt','getUint8','sha224','www.tudou.com','www.aliyun.com','remoteSocketToWS\x20error:','www.panda.tv','/sub/','dmxlc3M=','www.ctrip.com','readableWebSocketStream\x20pipeTo\x20error','doh\x20success\x20and\x20dns\x20message\x20length\x20is\x20','retry\x20tcpSocket\x20closed\x20error','www.toutiao.io','www.tmall.com','www.ifeng.com','www.dianyou.cn',':443?encryption=none&security=tls&sni=','decode','socks\x20connection\x20opened','\x0a\x20\x20</body>\x0a\x20\x20<script>\x0a\x20\x20\x20\x20function\x20copyToClipboard(text)\x20{\x0a\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(text)\x0a\x20\x20\x20\x20\x20\x20\x20\x20.then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x22Copied\x20to\x20clipboard\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20.catch((err)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x22Failed\x20to\x20copy\x20to\x20clipboard:\x22,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20}\x0a\x20\x20</script>\x0a\x20\x20</html>','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Clash\x20Link</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','175TMyAhY','/cf','x-real-ip','https://','WebSocket\x20is\x20not\x20open','www.91.com','getWriter','d342d11e-d424-4583-b36e-524ab1f0afa4','includes','&path=/','readable','invalid\x20data','enqueue','data','8.8.4.4','https://url.v1.mk/sub?target=clash&url=','getReader','www.hupu.com','some','floor','www.xueqiu.com','www.ted.com','www.58.com','www.ximalaya.com','No\x20incoming\x20data,\x20retrying','replace','www.bilibili.com','www.renren.com','releaseLock','/\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:image\x27\x20content=\x27https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image:width\x27\x20content=\x271500\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image:height\x27\x20content=\x271500\x27\x20/>\x0a\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Roboto\x27,\x20\x27Segoe\x20UI\x27,\x20Tahoma,\x20Geneva,\x20Verdana,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#000000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x201200px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#111111;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x206px\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20h1,\x20h2\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.config-item\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#222222;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.config-item\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn-group\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20pre\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20white-space:\x20pre-wrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20word-wrap:\x20break-word;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#00ff00;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.logo\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20float:\x20left;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x09\x09max-width:\x2030%;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20.logo\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x2090%;\x20/*\x20Adjust\x20the\x20max-width\x20to\x20fit\x20within\x20the\x20container\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.btn-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.btn-group\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.code-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.code-container\x20pre\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-right:\x20100px;\x20/*\x20Make\x20space\x20for\x20the\x20button\x20*/\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.copy-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#222222;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20ul\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-left:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20li\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\x22>\x0a\x20\x20</head>\x0a\x20\x20','&path=%2F%3Fed%3D2048#','www.jianshu.com','Usupported\x20security\x20layer:\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x20config-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2>UUID:\x20','Invalid\x20address\x20type:\x20','DomainName','length','www.xinhuanet.com','Invalid\x20data\x20length','addEventListener','www.youzu.com','www.telegraph.co.uk','Unsupported\x20command,\x20only\x20TCP\x20(CONNECT)\x20is\x20allowed','closed','ReadableStream\x20was\x20canceled,\x20due\x20to\x20','readableWebSocketStream\x20is\x20closed','random','close','socks\x20server\x20needs\x20auth','728bVaTWl','The\x20SNI\x20is\x20different\x20from\x20the\x20server\x20address,\x20this\x20is\x20unsupported\x20due\x20to\x20Cloudflare\x20API\x20restrictions','www.sina.com.cn','forEach','www.360.cn','www.guancha.cn','\x20are\x20not\x20allowed.','www.meituan.com','Unsupported\x20outbound\x20stream\x20method:\x20','www.sohu.com','addressValue\x20is\x20empty,\x20addressType\x20is\x20','&path=','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-star\x22></i>\x20Best\x20IP\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22subscription-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Options\x20Explained:</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>VLESS\x20Subscription:</strong>\x20Direct\x20link\x20for\x20VLESS\x20protocol\x20configuration.\x20Suitable\x20for\x20clients\x20supporting\x20VLESS.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Clash\x20Subscription:</strong>\x20Opens\x20the\x20Clash\x20client\x20with\x20pre-configured\x20settings.\x20Best\x20for\x20Clash\x20users\x20on\x20mobile\x20devices.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Clash\x20Link:</strong>\x20A\x20web\x20link\x20to\x20convert\x20the\x20VLESS\x20config\x20to\x20Clash\x20format.\x20Useful\x20for\x20manual\x20import\x20or\x20troubleshooting.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Best\x20IP\x20Subscription:</strong>\x20Provides\x20a\x20curated\x20list\x20of\x20optimal\x20server\x20IPs\x20for\x20many\x20<b>different\x20countries</b>.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Choose\x20the\x20option\x20that\x20best\x20fits\x20your\x20client\x20and\x20needs.\x20For\x20most\x20users,\x20the\x20VLESS\x20or\x20Clash\x20Subscription\x20will\x20be\x20the\x20easiest\x20to\x20use.</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','arrayBuffer','Stringified\x20UUID\x20is\x20invalid','url','Forbidden','www.zhihu.com','invild\x20\x20addressType\x20is\x20','read','www.csdn.net','readyState','QA==','getUint16',',\x20has\x20to\x20be\x20ws\x20(Websocket)','www.zhibo8.cc','www.tmtpost.com','/bestip/','weibo.com','text/plain;charset=utf-8','2025ISvaYf','\x22)\x27><i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','padStart','pipeTo','691928PnOIKZ','accept','byteOffset','\x0a\x20\x20\x20\x20','www.liepin.com','none','set','://','Host','\x0a\x20\x20<head>\x0a\x20\x20\x20\x20<title>EDtunnel:\x20Configuration</title>\x0a\x20\x20\x20\x20<meta\x20name=\x27viewport\x27\x20content=\x27width=device-width,\x20initial-scale=1\x27>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:site_name\x27\x20content=\x27EDtunnel:\x20Protocol\x20Configuration\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:type\x27\x20content=\x27website\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:title\x27\x20content=\x27EDtunnel\x20-\x20Protocol\x20Configuration\x20and\x20Subscribe\x20Output\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:description\x27\x20content=\x27Use\x20Cloudflare\x20Pages\x20and\x20Worker\x20serverless\x20to\x20implement\x20protocol\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:url\x27\x20content=\x27https://','error','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20VLESS\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22clash://install-config?url=','please\x20provide\x20username/password','writable','www.douban.com','&fp=randomized&type=ws&host=','tlsSettings','www.taobao.com','www.aipai.com','www.dianping.com','cf-connecting-ip','application/json;charset=utf-8','value','81246ZRBZcv','match','Invalid\x20header\x20format\x20(missing\x20CR\x20LF)','&uuid=','www.wechat.com','stack','wsSettings','www.51cto.com',')\x20tcp\x20is\x20close','Redirects\x20to\x20','connected\x20to\x20','www.so.com','2643855nRVVpS','queryParams','message','https://www.google.com/search?q=edtunnel','command\x20','log','invalid\x20user','2jxCrif','slice','stringify','headers','3.1.243.149','IPv6','userID:\x20','finally','-HTTP-','webSocketServer\x20has\x20error','www.toutiao.com','manual','www.quyaoya.com','send','map','toString','</code></pre>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20copy-btn\x22\x20onclick=\x27copyToClipboard(\x22','readableWebSocketStream\x20is\x20close','www.qq.com','Unknown\x20address\x20type:\x20','?ed=2048','readableWebSocketStream\x20is\x20abort','www.cnzz.com','byteLength','pathname','www.ttpaihang.com','Invalid\x20URL\x20format','www.xunlei.com','pages.dev','Upgrade','IPv4','8428040dExRzl','Invalid\x20SOCKS\x20address\x20format','sec-websocket-protocol','fail\x20to\x20auth\x20socks\x20server','socks\x20server\x20version\x20error:\x20','from','security','UDP\x20proxy\x20only\x20enable\x20for\x20DNS\x20which\x20is\x20port\x2053','split','?encryption=none&security=none&fp=random&type=ws&host=','www.imgo.tv','toLowerCase','www.jd.com','POST','join','dns\x20server(','referer','application/dns-message','buffer','\x0a\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20<h1>EDtunnel:\x20Protocol\x20Configuration</h1>\x0a\x20\x20\x20\x20\x20\x20<img\x20src=\x22https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x22\x20alt=\x22EDtunnel\x20Logo\x22\x20class=\x22logo\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Welcome!\x20This\x20function\x20generates\x20configuration\x20for\x20the\x20vless\x20protocol.\x20If\x20you\x20found\x20this\x20useful,\x20please\x20check\x20our\x20GitHub\x20project:</p>\x0a\x20\x20\x20\x20\x20\x20<p><a\x20href=\x22https://github.com/6Kmfi6HP/EDtunnel\x22\x20target=\x22_blank\x22\x20style=\x22color:\x20#00ff00;\x22>EDtunnel\x20-\x20https://github.com/6Kmfi6HP/EDtunnel</a></p>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22clear:\x20both;\x22></div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22btn-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22//','&insert=false&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','\x22)\x27><i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Best\x20IP\x20Configuration</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22code-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre><code>','608548CnonuR','Remote\x20connection\x20readable\x20aborted:','www.cnblogs.com','safeCloseWebSocket\x20error:','\x20tcp','www.ynet.com','text/html;\x20charset=utf-8','Invalid\x20password'];a0_0x4190=function(){return _0x3e4af3;};return a0_0x4190();}if(!isValidUUID(userID))throw new Error(a0_0x395862(0x200));let parsedSocks5Address={},enableSocks=![];export default{async 'fetch'(_0x10a975,_0x404b6e,_0x2ada2b){const _0xc51a22=a0_0x395862;try{const {UUID:_0x389fa4,PROXYIP:_0x36b9ab,SOCKS5:_0x54649d,SOCKS5_RELAY:_0x1f34b6}=_0x404b6e;userID=_0x389fa4||userID,proxyIP=_0x36b9ab||proxyIP,socks5Address=_0x54649d||socks5Address,socks5Relay=_0x1f34b6||socks5Relay;if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),enableSocks=!![];}catch(_0x28b3d1){console[_0xc51a22(0x1b4)](_0x28b3d1['toString']()),enableSocks=![];}const _0x2ed38b=userID['includes'](',')?userID[_0xc51a22(0x1dd)](',')[0x0]:userID,_0x393c95=new URL(_0x10a975[_0xc51a22(0x26c)]),_0x54704d=_0x10a975[_0xc51a22(0x1b9)]['get'](_0xc51a22(0x194));if(_0x10a975[_0xc51a22(0x1b9)][_0xc51a22(0x1fd)](_0xc51a22(0x1d3))!=='websocket')switch(_0x393c95[_0xc51a22(0x1ce)]){case _0xc51a22(0x22d):return new Response(JSON['stringify'](_0x10a975['cf'],null,0x4),{'status':0xc8,'headers':{'Content-Type':_0xc51a22(0x1a1)}});case'/'+_0x2ed38b:return new Response(getConfig(userID,_0x54704d),{'status':0xc8,'headers':{'Content-Type':_0xc51a22(0x1f1)}});case _0xc51a22(0x21d)+_0x2ed38b:return new Response(btoa(GenSub(userID,_0x54704d)),{'status':0xc8,'headers':{'Content-Type':_0xc51a22(0x27a)}});case _0xc51a22(0x278)+_0x2ed38b:return fetch('https://sub.xf.free.hr/auto?host='+_0x54704d+_0xc51a22(0x1a6)+userID+_0xc51a22(0x235),{'headers':_0x10a975[_0xc51a22(0x1b9)]});default:return handleDefaultPath(_0x393c95,_0x10a975);}else return await ProtocolOverWSHandler(_0x10a975);}catch(_0x38c394){return new Response(_0x38c394[_0xc51a22(0x1c5)]());}}};async function handleDefaultPath(_0x1cea2d,_0x3b9344){const _0x2204c8=a0_0x395862,_0x495d7e=hostnames[Math[_0x2204c8(0x23f)](Math[_0x2204c8(0x25a)]()*hostnames[_0x2204c8(0x250)])],_0x3c94bc=new Headers(_0x3b9344[_0x2204c8(0x1b9)]);_0x3c94bc[_0x2204c8(0x192)](_0x2204c8(0x1a0),_0x2204c8(0x1fb)),_0x3c94bc[_0x2204c8(0x192)]('x-forwarded-for','1.2.3.4'),_0x3c94bc[_0x2204c8(0x192)](_0x2204c8(0x22e),'1.2.3.4'),_0x3c94bc['set'](_0x2204c8(0x1e5),_0x2204c8(0x1b2));const _0x36b790=_0x2204c8(0x22f)+_0x495d7e+_0x1cea2d[_0x2204c8(0x1ce)]+_0x1cea2d['search'],_0x530c6a=new Request(_0x36b790,{'method':_0x3b9344['method'],'headers':_0x3c94bc,'body':_0x3b9344['body'],'redirect':_0x2204c8(0x1c1)}),_0x5042c4=await fetch(_0x530c6a,{'redirect':_0x2204c8(0x1c1)});if([0x12d,0x12e][_0x2204c8(0x234)](_0x5042c4['status']))return new Response(_0x2204c8(0x1ac)+_0x495d7e+_0x2204c8(0x263),{'status':0x193,'statusText':_0x2204c8(0x26d)});return _0x5042c4;}async function ProtocolOverWSHandler(_0x3bba75){const _0x2d5aa1=a0_0x395862,_0x368845=new WebSocketPair(),[_0x3dad65,_0x2a158f]=Object[_0x2d5aa1(0x20d)](_0x368845);_0x2a158f[_0x2d5aa1(0x18d)]();let _0x1674fb='',_0x501a83='';const _0x3892c8=(_0x525573,_0x366830)=>{const _0x9bf756=_0x2d5aa1;console[_0x9bf756(0x1b4)]('['+_0x1674fb+':'+_0x501a83+']\x20'+_0x525573,_0x366830||'');},_0x4e23b5=_0x3bba75['headers']['get']('sec-websocket-protocol')||'',_0x42262c=makeReadableWebSocketStream(_0x2a158f,_0x4e23b5,_0x3892c8);let _0x41c494={'value':null},_0x5e4538=![];return _0x42262c[_0x2d5aa1(0x18b)](new WritableStream({async 'write'(_0x1157b9,_0x1e1586){const _0x3df569=_0x2d5aa1;if(_0x5e4538)return await handleDNSQuery(_0x1157b9,_0x2a158f,null,_0x3892c8);if(_0x41c494['value']){const _0x101d48=_0x41c494[_0x3df569(0x1a2)][_0x3df569(0x199)][_0x3df569(0x232)]();await _0x101d48[_0x3df569(0x1fe)](_0x1157b9),_0x101d48[_0x3df569(0x248)]();return;}const {hasError:_0x21cc72,message:_0x50a80c,addressType:_0x80ef58,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x472cc4,ProtocolVersion:ProtocolVersion=new Uint8Array([0x0,0x0]),isUDP:_0x163abf}=processProtocolHeader(_0x1157b9,userID);_0x1674fb=addressRemote,_0x501a83=portRemote+'--'+Math[_0x3df569(0x25a)]()+'\x20'+(_0x163abf?_0x3df569(0x207):'tcp\x20')+'\x20';if(_0x21cc72){throw new Error(_0x50a80c);return;}if(_0x163abf){if(portRemote===0x35)_0x5e4538=!![];else{throw new Error(_0x3df569(0x1dc));return;}}const _0x165c29=new Uint8Array([ProtocolVersion[0x0],0x0]),_0x27ce1e=_0x1157b9[_0x3df569(0x1b7)](_0x472cc4);if(_0x5e4538)return handleDNSQuery(_0x27ce1e,_0x2a158f,_0x165c29,_0x3892c8);handleTCPOutBound(_0x41c494,_0x80ef58,addressRemote,portRemote,_0x27ce1e,_0x2a158f,_0x165c29,_0x3892c8);},'close'(){const _0x419e5c=_0x2d5aa1;_0x3892c8(_0x419e5c(0x1c7));},'abort'(_0x55fb67){const _0x4d2669=_0x2d5aa1;_0x3892c8(_0x4d2669(0x1cb),JSON['stringify'](_0x55fb67));}}))['catch'](_0x1b1751=>{const _0x52bddc=_0x2d5aa1;_0x3892c8(_0x52bddc(0x220),_0x1b1751);}),new Response(null,{'status':0x65,'webSocket':_0x3dad65});}async function trojanOverWSHandler(_0x44d836){const _0x16edc3=a0_0x395862,_0x58217f=new WebSocketPair(),[_0x4d30c1,_0x7f7748]=Object[_0x16edc3(0x20d)](_0x58217f);_0x7f7748[_0x16edc3(0x18d)]();let _0x1695b2='',_0x444fe1='';const _0x2cbac6=(_0x354e80,_0x3c2865)=>{console['log']('['+_0x1695b2+':'+_0x444fe1+']\x20'+_0x354e80,_0x3c2865||'');},_0x4639b3=_0x44d836[_0x16edc3(0x1b9)][_0x16edc3(0x1fd)](_0x16edc3(0x1d7))||'',_0xe3086=makeReadableWebSocketStream(_0x7f7748,_0x4639b3,_0x2cbac6);let _0x3e5831={'value':null},_0x3137b2=null;return _0xe3086[_0x16edc3(0x18b)](new WritableStream({async 'write'(_0x5a54b1,_0x491378){const _0x454a2e=_0x16edc3;if(_0x3137b2)return _0x3137b2(_0x5a54b1);if(_0x3e5831[_0x454a2e(0x1a2)]){const _0x2a21ca=_0x3e5831[_0x454a2e(0x1a2)][_0x454a2e(0x199)]['getWriter']();await _0x2a21ca[_0x454a2e(0x1fe)](_0x5a54b1),_0x2a21ca[_0x454a2e(0x248)]();return;}const {hasError:_0x177f31,message:_0x3760d7,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawClientData:_0x3f86bd,addressType:_0x4b2da0}=await parseTrojanHeader(_0x5a54b1);_0x1695b2=addressRemote,_0x444fe1=portRemote+'--'+Math[_0x454a2e(0x25a)]()+_0x454a2e(0x1ef);if(_0x177f31){throw new Error(_0x3760d7);return;}handleTCPOutBound(_0x3e5831,addressRemote,portRemote,_0x3f86bd,_0x7f7748,_0x2cbac6,_0x4b2da0);},'close'(){const _0x1c0769=_0x16edc3;_0x2cbac6(_0x1c0769(0x259));},'abort'(_0x4c4e35){const _0x1d8998=_0x16edc3;_0x2cbac6('readableWebSocketStream\x20is\x20aborted',JSON[_0x1d8998(0x1b8)](_0x4c4e35));}}))[_0x16edc3(0x20a)](_0xfa16bf=>{_0x2cbac6('readableWebSocketStream\x20pipeTo\x20error',_0xfa16bf);}),new Response(null,{'status':0x65,'webSocket':_0x4d30c1});}async function handleTCPOutBound(_0x15dadd,_0x3051e0,_0x534e81,_0x98574b,_0x3e37d2,_0x10dd4c,_0x1e964a,_0x599358){async function _0x5b597e(_0x454679,_0x397234,_0x3066ad=![]){const _0x139ca9=a0_0x73ae;let _0x36fa8b;socks5Relay?_0x36fa8b=await socks5Connect(_0x3051e0,_0x454679,_0x397234,_0x599358):_0x36fa8b=_0x3066ad?await socks5Connect(_0x3051e0,_0x454679,_0x397234,_0x599358):connect({'hostname':_0x454679,'port':_0x397234});_0x15dadd[_0x139ca9(0x1a2)]=_0x36fa8b,_0x599358(_0x139ca9(0x1ad)+_0x454679+':'+_0x397234);const _0x39a4a4=_0x36fa8b[_0x139ca9(0x199)][_0x139ca9(0x232)]();return await _0x39a4a4['write'](_0x3e37d2),_0x39a4a4[_0x139ca9(0x248)](),_0x36fa8b;}async function _0x380806(){const _0x1500bc=a0_0x73ae;enableSocks?_0x1718e4=await _0x5b597e(_0x534e81,_0x98574b,!![]):_0x1718e4=await _0x5b597e(proxyIP||_0x534e81,_0x98574b),_0x1718e4[_0x1500bc(0x257)][_0x1500bc(0x20a)](_0x7ba597=>{const _0x38d480=_0x1500bc;console['log'](_0x38d480(0x222),_0x7ba597);})[_0x1500bc(0x1bd)](()=>{safeCloseWebSocket(_0x10dd4c);}),remoteSocketToWS(_0x1718e4,_0x10dd4c,_0x1e964a,null,_0x599358);}let _0x1718e4=await _0x5b597e(_0x534e81,_0x98574b);remoteSocketToWS(_0x1718e4,_0x10dd4c,_0x1e964a,_0x380806,_0x599358);}function makeReadableWebSocketStream(_0xab3c3e,_0x59b6af,_0xf963f8){let _0x243076=![];const _0x23bf39=new ReadableStream({'start'(_0x2c0825){const _0x5a4c9b=a0_0x73ae;_0xab3c3e['addEventListener'](_0x5a4c9b(0x1b1),_0x3f0b69=>{const _0x28acf4=_0x5a4c9b,_0x1e708a=_0x3f0b69[_0x28acf4(0x239)];_0x2c0825[_0x28acf4(0x238)](_0x1e708a);}),_0xab3c3e[_0x5a4c9b(0x253)](_0x5a4c9b(0x25b),()=>{safeCloseWebSocket(_0xab3c3e),_0x2c0825['close']();}),_0xab3c3e[_0x5a4c9b(0x253)]('error',_0x53ad44=>{const _0x1632f4=_0x5a4c9b;_0xf963f8(_0x1632f4(0x1bf)),_0x2c0825[_0x1632f4(0x196)](_0x53ad44);});const {earlyData:_0xf148ae,error:_0x53a13d}=base64ToArrayBuffer(_0x59b6af);if(_0x53a13d)_0x2c0825[_0x5a4c9b(0x196)](_0x53a13d);else _0xf148ae&&_0x2c0825[_0x5a4c9b(0x238)](_0xf148ae);},'pull'(_0x224529){},'cancel'(_0x2d60dc){const _0x572bdb=a0_0x73ae;_0xf963f8(_0x572bdb(0x258)+_0x2d60dc),_0x243076=!![],safeCloseWebSocket(_0xab3c3e);}});return _0x23bf39;}function processProtocolHeader(_0x824d4,_0x1261f1){const _0x351f9d=a0_0x395862;if(_0x824d4[_0x351f9d(0x1cd)]<0x18)return{'hasError':!![],'message':_0x351f9d(0x237)};const _0x439a7f=new DataView(_0x824d4),_0x201c54=_0x439a7f[_0x351f9d(0x217)](0x0),_0x1b6cac=stringify(new Uint8Array(_0x824d4[_0x351f9d(0x1b7)](0x1,0x11))),_0x3daecf=_0x1261f1[_0x351f9d(0x234)](',')?_0x1261f1[_0x351f9d(0x1dd)](','):[_0x1261f1],_0x47900a=_0x3daecf[_0x351f9d(0x23e)](_0x4cd01a=>_0x1b6cac===_0x4cd01a[_0x351f9d(0x214)]())||_0x3daecf['length']===0x1&&_0x1b6cac===_0x3daecf[0x0][_0x351f9d(0x214)]();console[_0x351f9d(0x1b4)](_0x351f9d(0x1bc)+_0x1b6cac);if(!_0x47900a)return{'hasError':!![],'message':_0x351f9d(0x1b5)};const _0x55fd0e=_0x439a7f[_0x351f9d(0x217)](0x11),_0x203173=_0x439a7f[_0x351f9d(0x217)](0x12+_0x55fd0e);if(_0x203173!==0x1&&_0x203173!==0x2)return{'hasError':!![],'message':_0x351f9d(0x1b3)+_0x203173+'\x20is\x20not\x20supported,\x20command\x2001-tcp,02-udp,03-mux'};const _0x1e02f4=0x12+_0x55fd0e+0x1,_0x18a2e0=_0x439a7f[_0x351f9d(0x274)](_0x1e02f4),_0x476868=_0x439a7f['getUint8'](_0x1e02f4+0x2);let _0x42cab9,_0x3bf92a,_0x5c5a66;switch(_0x476868){case 0x1:_0x3bf92a=0x4,_0x5c5a66=_0x1e02f4+0x3,_0x42cab9=new Uint8Array(_0x824d4[_0x351f9d(0x1b7)](_0x5c5a66,_0x5c5a66+_0x3bf92a))['join']('.');break;case 0x2:_0x3bf92a=_0x439a7f['getUint8'](_0x1e02f4+0x3),_0x5c5a66=_0x1e02f4+0x4,_0x42cab9=new TextDecoder()[_0x351f9d(0x228)](_0x824d4[_0x351f9d(0x1b7)](_0x5c5a66,_0x5c5a66+_0x3bf92a));break;case 0x3:_0x3bf92a=0x10,_0x5c5a66=_0x1e02f4+0x3,_0x42cab9=Array[_0x351f9d(0x1da)]({'length':0x8},(_0x1fde25,_0x5b12c8)=>_0x439a7f[_0x351f9d(0x274)](_0x5c5a66+_0x5b12c8*0x2)[_0x351f9d(0x1c5)](0x10))[_0x351f9d(0x1e3)](':');break;default:return{'hasError':!![],'message':_0x351f9d(0x204)+_0x476868};}if(!_0x42cab9)return{'hasError':!![],'message':_0x351f9d(0x267)+_0x476868};return{'hasError':![],'addressRemote':_0x42cab9,'addressType':_0x476868,'portRemote':_0x18a2e0,'rawDataIndex':_0x5c5a66+_0x3bf92a,'protocolVersion':new Uint8Array([_0x201c54]),'isUDP':_0x203173===0x2};}async function remoteSocketToWS(_0x42481e,_0x2707e9,_0x2fed02,_0x12fb93,_0x2faad9){const _0x4ba58f=a0_0x395862;let _0x151c88=![];try{await _0x42481e['readable']['pipeTo'](new WritableStream({async 'write'(_0x3aab91){const _0x5ec3e7=a0_0x73ae;if(_0x2707e9[_0x5ec3e7(0x272)]!==WS_READY_STATE_OPEN)throw new Error(_0x5ec3e7(0x230));_0x151c88=!![],_0x2fed02?(_0x2707e9[_0x5ec3e7(0x1c3)](await new Blob([_0x2fed02,_0x3aab91])['arrayBuffer']()),_0x2fed02=null):_0x2707e9[_0x5ec3e7(0x1c3)](_0x3aab91);},'close'(){const _0x32127e=a0_0x73ae;_0x2faad9(_0x32127e(0x1ff)+_0x151c88);},'abort'(_0x644a2b){const _0x5abf74=a0_0x73ae;console['error'](_0x5abf74(0x1ec),_0x644a2b);}}));}catch(_0x4bf839){console[_0x4ba58f(0x196)](_0x4ba58f(0x21b),_0x4bf839[_0x4ba58f(0x1a8)]||_0x4bf839),safeCloseWebSocket(_0x2707e9);}!_0x151c88&&_0x12fb93&&(_0x2faad9(_0x4ba58f(0x244)),await _0x12fb93());}function base64ToArrayBuffer(_0x5b458b){const _0x2db942=a0_0x395862;if(!_0x5b458b)return{'earlyData':null,'error':null};try{_0x5b458b=_0x5b458b[_0x2db942(0x245)](/-/g,'+')[_0x2db942(0x245)](/_/g,'/');const _0x392d9c=atob(_0x5b458b),_0x2a59ca=new ArrayBuffer(_0x392d9c['length']),_0x1481ae=new Uint8Array(_0x2a59ca);for(let _0xf90c91=0x0;_0xf90c91<_0x392d9c['length'];_0xf90c91++){_0x1481ae[_0xf90c91]=_0x392d9c[_0x2db942(0x216)](_0xf90c91);}return{'earlyData':_0x2a59ca,'error':null};}catch(_0x8d758b){return{'earlyData':null,'error':_0x8d758b};}}function a0_0x73ae(_0x4307b4,_0x14307d){const _0x419000=a0_0x4190();return a0_0x73ae=function(_0x73ae11,_0x2a2827){_0x73ae11=_0x73ae11-0x189;let _0x7f62a6=_0x419000[_0x73ae11];return _0x7f62a6;},a0_0x73ae(_0x4307b4,_0x14307d);}function isValidUUID(_0x254bb4){const _0x5267ce=a0_0x395862,_0x2fa850=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x2fa850[_0x5267ce(0x209)](_0x254bb4);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x3932da){const _0x40fb19=a0_0x395862;try{(_0x3932da['readyState']===WS_READY_STATE_OPEN||_0x3932da[_0x40fb19(0x272)]===WS_READY_STATE_CLOSING)&&_0x3932da[_0x40fb19(0x25b)]();}catch(_0xb0d157){console[_0x40fb19(0x196)](_0x40fb19(0x1ee),_0xb0d157);}}const byteToHex=Array[a0_0x395862(0x1da)]({'length':0x100},(_0x3f1892,_0x2c68b0)=>(_0x2c68b0+0x100)[a0_0x395862(0x1c5)](0x10)[a0_0x395862(0x1b7)](0x1));function unsafeStringify(_0x15d0e2,_0x45259f=0x0){const _0x3a88f2=a0_0x395862;return[byteToHex[_0x15d0e2[_0x45259f]],byteToHex[_0x15d0e2[_0x45259f+0x1]],byteToHex[_0x15d0e2[_0x45259f+0x2]],byteToHex[_0x15d0e2[_0x45259f+0x3]],'-',byteToHex[_0x15d0e2[_0x45259f+0x4]],byteToHex[_0x15d0e2[_0x45259f+0x5]],'-',byteToHex[_0x15d0e2[_0x45259f+0x6]],byteToHex[_0x15d0e2[_0x45259f+0x7]],'-',byteToHex[_0x15d0e2[_0x45259f+0x8]],byteToHex[_0x15d0e2[_0x45259f+0x9]],'-',byteToHex[_0x15d0e2[_0x45259f+0xa]],byteToHex[_0x15d0e2[_0x45259f+0xb]],byteToHex[_0x15d0e2[_0x45259f+0xc]],byteToHex[_0x15d0e2[_0x45259f+0xd]],byteToHex[_0x15d0e2[_0x45259f+0xe]],byteToHex[_0x15d0e2[_0x45259f+0xf]]][_0x3a88f2(0x1e3)]('')[_0x3a88f2(0x1e0)]();}function stringify(_0x40ca1f,_0x33d62f=0x0){const _0x34eee4=a0_0x395862,_0x4129f6=unsafeStringify(_0x40ca1f,_0x33d62f);if(!isValidUUID(_0x4129f6))throw new TypeError(_0x34eee4(0x26b));return _0x4129f6;}async function handleUDPOutBound(_0x21c8d8,_0x5149e3,_0x3ea6f0){const _0x4ceac7=a0_0x395862;let _0x3f120a=![];const _0x53e199=new TransformStream({'start'(_0x37dbbc){},'transform'(_0x323ca4,_0x1480ae){const _0x2ef0c5=a0_0x73ae;for(let _0x2e4c80=0x0;_0x2e4c80<_0x323ca4[_0x2ef0c5(0x1cd)];){const _0x2593c5=_0x323ca4[_0x2ef0c5(0x1b7)](_0x2e4c80,_0x2e4c80+0x2),_0x1a5997=new DataView(_0x2593c5)[_0x2ef0c5(0x274)](0x0),_0x542d00=new Uint8Array(_0x323ca4[_0x2ef0c5(0x1b7)](_0x2e4c80+0x2,_0x2e4c80+0x2+_0x1a5997));_0x2e4c80=_0x2e4c80+0x2+_0x1a5997,_0x1480ae[_0x2ef0c5(0x238)](_0x542d00);}},'flush'(_0x59570b){}});_0x53e199[_0x4ceac7(0x236)][_0x4ceac7(0x18b)](new WritableStream({async 'write'(_0x20a99a){const _0x24aa8c=_0x4ceac7,_0x114d88=await fetch(dohURL,{'method':_0x24aa8c(0x1e2),'headers':{'content-type':_0x24aa8c(0x1e6)},'body':_0x20a99a}),_0x1462bc=await _0x114d88[_0x24aa8c(0x26a)](),_0x3b6b71=_0x1462bc[_0x24aa8c(0x1cd)],_0x56563c=new Uint8Array([_0x3b6b71>>0x8&0xff,_0x3b6b71&0xff]);_0x21c8d8[_0x24aa8c(0x272)]===WS_READY_STATE_OPEN&&(_0x3ea6f0(_0x24aa8c(0x221)+_0x3b6b71),_0x3f120a?_0x21c8d8['send'](await new Blob([_0x56563c,_0x1462bc])[_0x24aa8c(0x26a)]()):(_0x21c8d8['send'](await new Blob([_0x5149e3,_0x56563c,_0x1462bc])[_0x24aa8c(0x26a)]()),_0x3f120a=!![]));}}))[_0x4ceac7(0x20a)](_0x3cedec=>{_0x3ea6f0('dns\x20udp\x20has\x20error'+_0x3cedec);});const _0x2afa53=_0x53e199[_0x4ceac7(0x199)]['getWriter']();return{'write'(_0x5ebb51){_0x2afa53['write'](_0x5ebb51);}};}async function handleDNSQuery(_0x368ab7,_0x1a7c56,_0x326dc7,_0x24508f){const _0x4bffcb=a0_0x395862;try{const _0x3be3f4=_0x4bffcb(0x23a),_0x6cbd57=0x35;let _0x59e9f3=_0x326dc7;const _0x4325c0=connect({'hostname':_0x3be3f4,'port':_0x6cbd57});_0x24508f(_0x4bffcb(0x1ad)+_0x3be3f4+':'+_0x6cbd57);const _0x4a5476=_0x4325c0[_0x4bffcb(0x199)][_0x4bffcb(0x232)]();await _0x4a5476[_0x4bffcb(0x1fe)](_0x368ab7),_0x4a5476[_0x4bffcb(0x248)](),await _0x4325c0[_0x4bffcb(0x236)]['pipeTo'](new WritableStream({async 'write'(_0x209372){const _0x4c4935=_0x4bffcb;_0x1a7c56[_0x4c4935(0x272)]===WS_READY_STATE_OPEN&&(_0x59e9f3?(_0x1a7c56['send'](await new Blob([_0x59e9f3,_0x209372])[_0x4c4935(0x26a)]()),_0x59e9f3=null):_0x1a7c56['send'](_0x209372));},'close'(){const _0x26642f=_0x4bffcb;_0x24508f(_0x26642f(0x1e4)+_0x3be3f4+_0x26642f(0x1ab));},'abort'(_0x416bbd){const _0x3062b5=_0x4bffcb;console[_0x3062b5(0x196)](_0x3062b5(0x1e4)+_0x3be3f4+')\x20tcp\x20is\x20abort',_0x416bbd);}}));}catch(_0x4ced09){console['error'](_0x4bffcb(0x215)+_0x4ced09[_0x4bffcb(0x1b1)]);}}async function socks5Connect(_0xcffda,_0x3e977e,_0x1ea726,_0x59bcf5){const _0x2fb22b=a0_0x395862,{username:_0x526c27,password:_0x5545ae,hostname:_0x16a68f,port:_0x1310b6}=parsedSocks5Address,_0x4e4272=connect({'hostname':_0x16a68f,'port':_0x1310b6}),_0x510619=new Uint8Array([0x5,0x2,0x0,0x2]),_0x127678=_0x4e4272[_0x2fb22b(0x199)][_0x2fb22b(0x232)]();await _0x127678[_0x2fb22b(0x1fe)](_0x510619),_0x59bcf5('sent\x20socks\x20greeting');const _0x339b35=_0x4e4272[_0x2fb22b(0x236)][_0x2fb22b(0x23c)](),_0x1f4b2e=new TextEncoder();let _0x36e34e=(await _0x339b35[_0x2fb22b(0x270)]())['value'];if(_0x36e34e[0x0]!==0x5){_0x59bcf5(_0x2fb22b(0x1d9)+_0x36e34e[0x0]+_0x2fb22b(0x212));return;}if(_0x36e34e[0x1]===0xff){_0x59bcf5('no\x20acceptable\x20methods');return;}if(_0x36e34e[0x1]===0x2){_0x59bcf5(_0x2fb22b(0x25c));if(!_0x526c27||!_0x5545ae){_0x59bcf5(_0x2fb22b(0x198));return;}const _0x3d69d8=new Uint8Array([0x1,_0x526c27[_0x2fb22b(0x250)],..._0x1f4b2e[_0x2fb22b(0x20b)](_0x526c27),_0x5545ae[_0x2fb22b(0x250)],..._0x1f4b2e[_0x2fb22b(0x20b)](_0x5545ae)]);await _0x127678['write'](_0x3d69d8),_0x36e34e=(await _0x339b35['read']())[_0x2fb22b(0x1a2)];if(_0x36e34e[0x0]!==0x1||_0x36e34e[0x1]!==0x0){_0x59bcf5(_0x2fb22b(0x1d8));return;}}let _0x47d306;switch(_0xcffda){case 0x1:_0x47d306=new Uint8Array([0x1,..._0x3e977e[_0x2fb22b(0x1dd)]('.')['map'](Number)]);break;case 0x2:_0x47d306=new Uint8Array([0x3,_0x3e977e[_0x2fb22b(0x250)],..._0x1f4b2e['encode'](_0x3e977e)]);break;case 0x3:_0x47d306=new Uint8Array([0x4,..._0x3e977e[_0x2fb22b(0x1dd)](':')[_0x2fb22b(0x20c)](_0x3f7ac5=>[parseInt(_0x3f7ac5[_0x2fb22b(0x1b7)](0x0,0x2),0x10),parseInt(_0x3f7ac5[_0x2fb22b(0x1b7)](0x2),0x10)])]);break;default:_0x59bcf5(_0x2fb22b(0x26f)+_0xcffda);return;}const _0x12a3d3=new Uint8Array([0x5,0x1,0x0,..._0x47d306,_0x1ea726>>0x8,_0x1ea726&0xff]);await _0x127678['write'](_0x12a3d3),_0x59bcf5(_0x2fb22b(0x1fa)),_0x36e34e=(await _0x339b35['read']())[_0x2fb22b(0x1a2)];if(_0x36e34e[0x1]===0x0)_0x59bcf5(_0x2fb22b(0x229));else{_0x59bcf5(_0x2fb22b(0x1f4));return;}return _0x127678['releaseLock'](),_0x339b35['releaseLock'](),_0x4e4272;}function socks5AddressParser(_0x4df0d1){const _0x4cdc9e=a0_0x395862;let [_0x1994e4,_0x25119b]=_0x4df0d1[_0x4cdc9e(0x1dd)]('@')['reverse'](),_0x27939a,_0x7cff82,_0x2b34f0,_0x5b187a;if(_0x25119b){const _0x26f42e=_0x25119b[_0x4cdc9e(0x1dd)](':');if(_0x26f42e[_0x4cdc9e(0x250)]!==0x2)throw new Error(_0x4cdc9e(0x1d6));[_0x27939a,_0x7cff82]=_0x26f42e;}const _0x325741=_0x1994e4[_0x4cdc9e(0x1dd)](':');_0x5b187a=Number(_0x325741['pop']());if(isNaN(_0x5b187a))throw new Error(_0x4cdc9e(0x1d6));_0x2b34f0=_0x325741['join'](':');const _0x245f9e=/^\[.*\]$/;if(_0x2b34f0[_0x4cdc9e(0x234)](':')&&!_0x245f9e[_0x4cdc9e(0x209)](_0x2b34f0))throw new Error('Invalid\x20SOCKS\x20address\x20format');return{'username':_0x27939a,'password':_0x7cff82,'hostname':_0x2b34f0,'port':_0x5b187a};}async function parseTrojanHeader(_0x5e1e74){const _0x4d8604=a0_0x395862;if(_0x5e1e74[_0x4d8604(0x1cd)]<0x3a)return{'hasError':!![],'message':_0x4d8604(0x252)};const _0x40466a=new DataView(_0x5e1e74);if(_0x40466a[_0x4d8604(0x217)](0x38)!==0xd||_0x40466a[_0x4d8604(0x217)](0x39)!==0xa)return{'hasError':!![],'message':_0x4d8604(0x1a5)};const _0x183fa3=new TextDecoder()[_0x4d8604(0x228)](_0x5e1e74['slice'](0x0,0x38));if(_0x183fa3!==Sha256[_0x4d8604(0x218)](userID))return{'hasError':!![],'message':_0x4d8604(0x1f2)};const _0x6397a0=new DataView(_0x5e1e74,0x3a);if(_0x6397a0[_0x4d8604(0x1cd)]<0x6)return{'hasError':!![],'message':'Invalid\x20SOCKS5\x20request\x20data'};if(_0x6397a0[_0x4d8604(0x217)](0x0)!==0x1)return{'hasError':!![],'message':_0x4d8604(0x256)};const _0x4b9e9c=_0x6397a0[_0x4d8604(0x217)](0x1);let _0x1a1a81,_0x1ea89e;switch(_0x4b9e9c){case 0x1:_0x1a1a81=Array[_0x4d8604(0x1da)](new Uint8Array(_0x6397a0[_0x4d8604(0x1e7)],_0x6397a0['byteOffset']+0x2,0x4))[_0x4d8604(0x1e3)]('.'),_0x1ea89e=0x6;break;case 0x3:const _0x35e3fe=_0x6397a0[_0x4d8604(0x217)](0x2);_0x1a1a81=new TextDecoder()[_0x4d8604(0x228)](_0x6397a0['buffer'][_0x4d8604(0x1b7)](_0x6397a0[_0x4d8604(0x18e)]+0x3,_0x6397a0[_0x4d8604(0x18e)]+0x3+_0x35e3fe)),_0x1ea89e=0x3+_0x35e3fe;break;case 0x4:_0x1a1a81=Array[_0x4d8604(0x1da)](new Uint8Array(_0x6397a0[_0x4d8604(0x1e7)],_0x6397a0['byteOffset']+0x2,0x10))[_0x4d8604(0x1c4)](_0x16f68d=>_0x16f68d['toString'](0x10)[_0x4d8604(0x18a)](0x2,'0'))[_0x4d8604(0x1e3)](':')[_0x4d8604(0x245)](/(:0)+:/,'::'),_0x1ea89e=0x12;break;default:return{'hasError':!![],'message':_0x4d8604(0x24e)+_0x4b9e9c};}const _0x331515=_0x6397a0['getUint16'](_0x1ea89e);return{'hasError':![],'address':_0x1a1a81,'port':_0x331515,'data':_0x5e1e74[_0x4d8604(0x1b7)](0x3a+_0x1ea89e+0x2)};}const VlessCmd={'TCP':0x1,'UDP':0x2,'MUX':0x3},VlessAddrType={'IPv4':0x1,'DomainName':0x2,'IPv6':0x3};function makeVlessReqHeader(_0x39149f,_0x5671d9,_0x4082ad,_0x238cca,_0x58b482){const _0x2564c3=a0_0x395862;let _0x2170e3,_0x2cd370;switch(_0x5671d9){case VlessAddrType[_0x2564c3(0x1d4)]:_0x2170e3=0x4;break;case VlessAddrType['DomainName']:_0x2cd370=new TextEncoder()[_0x2564c3(0x20b)](_0x4082ad),_0x2170e3=_0x2cd370[_0x2564c3(0x250)]+0x1;break;case VlessAddrType[_0x2564c3(0x1bb)]:_0x2170e3=0x10;break;default:throw new Error(_0x2564c3(0x1c9)+_0x5671d9);}const _0x1b7090=_0x58b482[_0x2564c3(0x245)](/-/g,''),_0x41f019=0x1,_0x37e306=new Uint8Array(0x16+_0x2170e3);_0x37e306[0x0]=0x0;for(let _0x1677d7=0x0;_0x1677d7<_0x1b7090[_0x2564c3(0x250)];_0x1677d7+=0x2){_0x37e306[_0x41f019+_0x1677d7/0x2]=parseInt(_0x1b7090['substr'](_0x1677d7,0x2),0x10);}_0x37e306[0x11]=0x0,_0x37e306[0x12]=_0x39149f,_0x37e306[0x13]=_0x238cca>>0x8,_0x37e306[0x14]=_0x238cca&0xff,_0x37e306[0x15]=_0x5671d9;switch(_0x5671d9){case VlessAddrType[_0x2564c3(0x1d4)]:const _0x5334de=_0x4082ad[_0x2564c3(0x1dd)]('.');for(let _0x17c20d=0x0;_0x17c20d<0x4;_0x17c20d++){_0x37e306[0x16+_0x17c20d]=parseInt(_0x5334de[_0x17c20d]);}break;case VlessAddrType[_0x2564c3(0x24f)]:_0x37e306[0x16]=_0x2cd370[_0x2564c3(0x250)],_0x37e306['set'](_0x2cd370,0x17);break;case VlessAddrType['IPv6']:const _0x5b3f10=ipv6[_0x2564c3(0x1dd)](':');for(let _0x1e023c=0x0;_0x1e023c<0x8;_0x1e023c++){const _0x214930=parseInt(_0x5b3f10[_0x1e023c],0x10);_0x37e306[_0x1e023c*0x2+0x16]=_0x214930>>0x8,_0x37e306[_0x1e023c*0x2+0x17]=_0x214930&0xff;}break;default:throw new Error(_0x2564c3(0x1c9)+_0x5671d9);}return _0x37e306;}function checkVlessConfig(_0x5c179f,_0x5bc36a){const _0x30bdc2=a0_0x395862;if(_0x5bc36a[_0x30bdc2(0x20f)]!=='ws')throw new Error(_0x30bdc2(0x265)+_0x5bc36a[_0x30bdc2(0x20f)]+_0x30bdc2(0x275));if(_0x5bc36a[_0x30bdc2(0x1db)]!==_0x30bdc2(0x1f7)&&_0x5bc36a[_0x30bdc2(0x1db)]!==_0x30bdc2(0x191))throw new Error(_0x30bdc2(0x24c)+_0x5bc36a[_0x30bdc2(0x20f)]+_0x30bdc2(0x1f9));if(_0x5bc36a['wsSettings']&&_0x5bc36a[_0x30bdc2(0x1a9)]['headers']&&_0x5bc36a[_0x30bdc2(0x1a9)][_0x30bdc2(0x1b9)]['Host']!==_0x5c179f)throw new Error(_0x30bdc2(0x202));if(_0x5bc36a[_0x30bdc2(0x19c)]&&_0x5bc36a['tlsSettings'][_0x30bdc2(0x206)]!==_0x5c179f)throw new Error(_0x30bdc2(0x25e));}function parseVlessString(_0x4a45f3){const _0x587309=a0_0x395862,_0x1b6833=/^(.+):\/\/(.+?)@(.+?):(\d+)(\?[^#]*)?(#.*)?$/,_0xc2ae4d=_0x4a45f3[_0x587309(0x1a4)](_0x1b6833);if(!_0xc2ae4d)throw new Error(_0x587309(0x1d0));const [,_0x54eb78,_0x5c4e78,_0x41bee0,_0x5ae6b1,_0x220c4c,_0x296b40]=_0xc2ae4d,_0x5de357={'protocol':_0x54eb78,'uuid':_0x5c4e78,'remoteHost':_0x41bee0,'remotePort':parseInt(_0x5ae6b1),'descriptiveText':_0x296b40?_0x296b40[_0x587309(0x20e)](0x1):'','queryParams':{}};if(_0x220c4c){const _0x5f0227=_0x220c4c[_0x587309(0x20e)](0x1)[_0x587309(0x1dd)]('&');_0x5f0227[_0x587309(0x260)](_0x446cce=>{const _0x2cd635=_0x587309,[_0x27e59c,_0xe04468]=_0x446cce[_0x2cd635(0x1dd)]('=');_0x5de357[_0x2cd635(0x1b0)][_0x27e59c]=_0xe04468;});}return _0x5de357;}const at=a0_0x395862(0x273),pt=a0_0x395862(0x21e),ed='RUR0dW5uZWw=';function getConfig(_0x3b675e,_0x2042ec){const _0x54e70c=a0_0x395862,_0x2048b6=_0x54e70c(0x227)+_0x2042ec+_0x54e70c(0x19b)+_0x2042ec+_0x54e70c(0x24a)+_0x2042ec,_0x1317d2=_0x3b675e[_0x54e70c(0x1dd)](','),_0x4ef455=_0x54e70c(0x22f)+_0x2042ec+'/sub/'+_0x1317d2[0x0]+'?format=clash',_0x1ef626=_0x54e70c(0x22f)+_0x2042ec+_0x54e70c(0x278)+_0x1317d2[0x0],_0x43fa83=_0x54e70c(0x23b)+encodeURIComponent(_0x4ef455)+_0x54e70c(0x1e9),_0x139b10=_0x54e70c(0x195)+_0x2042ec+_0x54e70c(0x208)+_0x2042ec+_0x54e70c(0x249),_0x5678b9=_0x54e70c(0x1e8)+_0x2042ec+'/sub/'+_0x1317d2[0x0]+_0x54e70c(0x197)+encodeURIComponent(_0x54e70c(0x22f)+_0x2042ec+_0x54e70c(0x21d)+_0x1317d2[0x0]+_0x54e70c(0x205))+'\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Clash\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x43fa83+_0x54e70c(0x22b)+_0x1ef626+_0x54e70c(0x269),_0x5204f6=_0x1317d2[_0x54e70c(0x1c4)](_0xfc5974=>{const _0x12ccd8=_0x54e70c,_0x4fd067=atob(pt)+_0x12ccd8(0x193)+_0xfc5974+atob(at)+_0x2042ec+_0x2048b6,_0x1eee94=atob(pt)+_0x12ccd8(0x193)+_0xfc5974+atob(at)+proxyIP+_0x2048b6;return _0x12ccd8(0x24d)+_0xfc5974+_0x12ccd8(0x213)+_0x4fd067+_0x12ccd8(0x1c6)+_0x4fd067+_0x12ccd8(0x1ea)+_0x1eee94+_0x12ccd8(0x1c6)+_0x1eee94+_0x12ccd8(0x189);})[_0x54e70c(0x1e3)]('');return _0x54e70c(0x211)+_0x139b10+'\x0a\x20\x20<body>\x0a\x20\x20\x20\x20'+_0x5678b9+_0x54e70c(0x18f)+_0x5204f6+_0x54e70c(0x22a);}const HttpPort=new Set([0x50,0x1f90,0x22b0,0x804,0x826,0x82f,0x822]),HttpsPort=new Set([0x1bb,0x20fb,0x805,0x830,0x827,0x823]);function GenSub(_0x5366f1,_0x4a865f){const _0x289f70=a0_0x395862,_0x5ed661=_0x5366f1[_0x289f70(0x234)](',')?_0x5366f1[_0x289f70(0x1dd)](','):[_0x5366f1],_0x3330e3=()=>'/'+Math[_0x289f70(0x25a)]()['toString'](0x24)[_0x289f70(0x20e)](0x2,0xf)+_0x289f70(0x1ca),_0x569165=_0x289f70(0x1de)+_0x4a865f+_0x289f70(0x268)+encodeURIComponent(_0x3330e3())+'#',_0x252e9d='?encryption=none&security=tls&sni='+_0x4a865f+'&fp=random&type=ws&host='+_0x4a865f+_0x289f70(0x24a),_0x26d1d0=_0x5ed661[_0x289f70(0x20c)](_0x1639d7=>{const _0x5c45b6=_0x289f70,_0x50073b=Array[_0x5c45b6(0x1da)](HttpPort)[_0x5c45b6(0x20c)](_0xcbb741=>{const _0x29e3e8=_0x5c45b6;if(!_0x4a865f[_0x29e3e8(0x234)](_0x29e3e8(0x1d2))){const _0x45511e=_0x4a865f+_0x29e3e8(0x1be)+_0xcbb741,_0x565c49=atob(pt)+'://'+_0x1639d7+atob(at)+_0x4a865f+':'+_0xcbb741+_0x569165+_0x45511e;return proxyIPs['flatMap'](_0x16fc64=>{const _0x5d3632=_0x29e3e8,_0x543680=atob(pt)+_0x5d3632(0x193)+_0x1639d7+atob(at)+_0x16fc64+':'+_0xcbb741+_0x569165+_0x45511e+'-'+_0x16fc64+'-'+atob(ed);return[_0x565c49,_0x543680];});}return[];}),_0x1d9981=Array[_0x5c45b6(0x1da)](HttpsPort)[_0x5c45b6(0x20c)](_0x95f238=>{const _0x16845a=_0x5c45b6,_0x458bfb=_0x4a865f+_0x16845a(0x1f3)+_0x95f238,_0x1c44f0=atob(pt)+_0x16845a(0x193)+_0x1639d7+atob(at)+_0x4a865f+':'+_0x95f238+_0x252e9d+_0x458bfb;return proxyIPs[_0x16845a(0x20c)](_0x5c3072=>{const _0x58e3bd=_0x16845a,_0x1774c6=atob(pt)+_0x58e3bd(0x193)+_0x1639d7+atob(at)+_0x5c3072+':'+_0x95f238+_0x252e9d+_0x458bfb+'-'+_0x5c3072+'-'+atob(ed);return[_0x1c44f0,_0x1774c6];});});return[..._0x50073b,..._0x1d9981];});return _0x26d1d0[_0x289f70(0x1e3)]('\x0a');}const hostnames=[a0_0x395862(0x279),a0_0x395862(0x203),a0_0x395862(0x1c8),a0_0x395862(0x19d),a0_0x395862(0x1e1),a0_0x395862(0x25f),a0_0x395862(0x266),a0_0x395862(0x224),a0_0x395862(0x1fc),a0_0x395862(0x26e),'www.youku.com',a0_0x395862(0x251),a0_0x395862(0x19a),a0_0x395862(0x264),a0_0x395862(0x1c0),a0_0x395862(0x225),'www.autohome.com.cn',a0_0x395862(0x261),'www.douyin.com','www.kuaidi100.com',a0_0x395862(0x1a7),a0_0x395862(0x271),a0_0x395862(0x1df),a0_0x395862(0x21a),'www.eyny.com','www.mgtv.com',a0_0x395862(0x1d1),'www.hao123.com',a0_0x395862(0x246),'www.youth.cn',a0_0x395862(0x23d),a0_0x395862(0x254),a0_0x395862(0x21c),a0_0x395862(0x219),a0_0x395862(0x1f5),a0_0x395862(0x223),'www.tiktok.com','www.netease.com','www.cnki.net',a0_0x395862(0x276),'www.zhangzishi.cc',a0_0x395862(0x240),a0_0x395862(0x210),a0_0x395862(0x243),a0_0x395862(0x19f),'www.suning.com','www.zhaopin.com',a0_0x395862(0x24b),a0_0x395862(0x201),a0_0x395862(0x1aa),'www.qidian.com',a0_0x395862(0x21f),'www.pconline.com.cn',a0_0x395862(0x1cc),a0_0x395862(0x255),a0_0x395862(0x1f0),a0_0x395862(0x241),a0_0x395862(0x247),a0_0x395862(0x1f8),a0_0x395862(0x190),'www.881903.com',a0_0x395862(0x19e),a0_0x395862(0x1cf),a0_0x395862(0x1c2),a0_0x395862(0x231),a0_0x395862(0x226),a0_0x395862(0x277),a0_0x395862(0x19a),a0_0x395862(0x262),a0_0x395862(0x1ae),a0_0x395862(0x242),a0_0x395862(0x1ed),'www.cntv.cn','www.secoo.com'];