const a0_0x469510=a0_0x33ac;(function(_0x1d2f6a,_0x5b234f){const _0x995ef=a0_0x33ac,_0x1299bd=_0x1d2f6a();while(!![]){try{const _0x24ac1d=parseInt(_0x995ef(0x1b5))/0x1*(-parseInt(_0x995ef(0x199))/0x2)+parseInt(_0x995ef(0x149))/0x3*(parseInt(_0x995ef(0x143))/0x4)+-parseInt(_0x995ef(0x209))/0x5*(parseInt(_0x995ef(0x1f6))/0x6)+parseInt(_0x995ef(0x201))/0x7+parseInt(_0x995ef(0x164))/0x8*(parseInt(_0x995ef(0x130))/0x9)+-parseInt(_0x995ef(0x1b4))/0xa+-parseInt(_0x995ef(0x165))/0xb*(-parseInt(_0x995ef(0x1bf))/0xc);if(_0x24ac1d===_0x5b234f)break;else _0x1299bd['push'](_0x1299bd['shift']());}catch(_0x3e8308){_0x1299bd['push'](_0x1299bd['shift']());}}}(a0_0x6c8f,0xa43c3));function a0_0x6c8f(){const _0x1990b2=['closed','www.ximalaya.com','www.zhihu.com','1932824ucBxfn','toString','Invalid\x20data\x20length','workers.cloudflare.cyou','command\x20','remoteSocketToWS\x20error:','3FgUZuJ','fail\x20to\x20open\x20socks\x20connection','www.youku.com','www.youth.cn','www.qqgongyi.com','No\x20incoming\x20data,\x20retrying','tlsSettings','cdn.xn--b6gac.eu.org','substring','webSocketServer\x20has\x20error','forEach','\x22)\x27><i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','no\x20acceptable\x20methods','releaseLock','www.zhangzishi.cc','://','send','/sub/','&path=','enqueue','log','accept','Remote\x20connection\x20readable\x20closed.\x20Had\x20incoming\x20data:\x20','www.jianshu.com','\x0a\x20\x20<body>\x0a\x20\x20\x20\x20','1.2.3.4','\x0a\x20\x20<head>\x0a\x20\x20\x20\x20<title>EDtunnel:\x20Configuration</title>\x0a\x20\x20\x20\x20<meta\x20name=\x27viewport\x27\x20content=\x27width=device-width,\x20initial-scale=1\x27>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:site_name\x27\x20content=\x27EDtunnel:\x20Protocol\x20Configuration\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:type\x27\x20content=\x27website\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:title\x27\x20content=\x27EDtunnel\x20-\x20Protocol\x20Configuration\x20and\x20Subscribe\x20Output\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:description\x27\x20content=\x27Use\x20Cloudflare\x20Pages\x20and\x20Worker\x20serverless\x20to\x20implement\x20protocol\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:url\x27\x20content=\x27https://','27112knNhfb','10681MAtpZV','udp\x20','www.douban.com','www.xunlei.com','Forbidden','queryParams','arrayBuffer','invalid\x20data','dns\x20server(','replace','RUR0dW5uZWw=','readableWebSocketStream\x20pipeTo\x20error','set','length','text/html;\x20charset=utf-8','www.xinhuanet.com','pipeTo','padStart','invalid\x20addressType:\x20','www.kuaidi100.com','readableWebSocketStream\x20is\x20abort','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x20config-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2>UUID:\x20','Redirects\x20to\x20','x-forwarded-for','-HTTP-','random','values','www.youzu.com','security','www.51cto.com','slice','www.so.com','Host','invalid\x20user','readyState','Invalid\x20address\x20type:\x20','floor','8.8.4.4','socks\x20server\x20needs\x20auth','uuid\x20is\x20not\x20valid','test','error','www.91.com','pop','sec-websocket-protocol','connected\x20to\x20','Invalid\x20SOCKS5\x20request\x20data','getWriter','www.hupu.com','www.mgtv.com',',\x20has\x20to\x20be\x20none\x20or\x20tls.','Unsupported\x20command,\x20only\x20TCP\x20(CONNECT)\x20is\x20allowed','2gOpOYs','userID:\x20','from','\x20tcp','https://','addEventListener','Unknown\x20address\x20type:\x20','WebSocket\x20is\x20not\x20open','www.qidian.com','dns\x20udp\x20has\x20error','buffer','www.taobao.com','www.sina.com.cn','https://www.google.com/search?q=edtunnel','headers','invild\x20\x20addressType\x20is\x20','serverName','www.cntv.cn','Invalid\x20header\x20format\x20(missing\x20CR\x20LF)','map','www.zhibo8.cc','none','-HTTPS-','get','&insert=false&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','Usupported\x20security\x20layer:\x20','readableWebSocketStream\x20is\x20aborted','8969910AKwdBn','343367YlPIgv','finally',':443?encryption=none&security=tls&sni=','www.tmtpost.com','\x0a\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20<h1>EDtunnel:\x20Protocol\x20Configuration</h1>\x0a\x20\x20\x20\x20\x20\x20<img\x20src=\x22https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x22\x20alt=\x22EDtunnel\x20Logo\x22\x20class=\x22logo\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Welcome!\x20This\x20function\x20generates\x20configuration\x20for\x20the\x20vless\x20protocol.\x20If\x20you\x20found\x20this\x20useful,\x20please\x20check\x20our\x20GitHub\x20project:</p>\x0a\x20\x20\x20\x20\x20\x20<p><a\x20href=\x22https://github.com/6Kmfi6HP/EDtunnel\x22\x20target=\x22_blank\x22\x20style=\x22color:\x20#00ff00;\x22>EDtunnel\x20-\x20https://github.com/6Kmfi6HP/EDtunnel</a></p>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22clear:\x20both;\x22></div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22btn-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22//','www.zhaopin.com','www.autohome.com.cn','stack','body','application/json;charset=utf-8','15516nhYubV','www.liepin.com','www.quyaoya.com','Upgrade','retry\x20tcpSocket\x20closed\x20error','getUint8',',\x20has\x20to\x20be\x20ws\x20(Websocket)','wsSettings','Invalid\x20SOCKS\x20address\x20format','read','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-star\x22></i>\x20Best\x20IP\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22subscription-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Options\x20Explained:</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>VLESS\x20Subscription:</strong>\x20Direct\x20link\x20for\x20VLESS\x20protocol\x20configuration.\x20Suitable\x20for\x20clients\x20supporting\x20VLESS.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Clash\x20Subscription:</strong>\x20Opens\x20the\x20Clash\x20client\x20with\x20pre-configured\x20settings.\x20Best\x20for\x20Clash\x20users\x20on\x20mobile\x20devices.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Clash\x20Link:</strong>\x20A\x20web\x20link\x20to\x20convert\x20the\x20VLESS\x20config\x20to\x20Clash\x20format.\x20Useful\x20for\x20manual\x20import\x20or\x20troubleshooting.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Best\x20IP\x20Subscription:</strong>\x20Provides\x20a\x20curated\x20list\x20of\x20optimal\x20server\x20IPs\x20for\x20many\x20<b>different\x20countries</b>.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Choose\x20the\x20option\x20that\x20best\x20fits\x20your\x20client\x20and\x20needs.\x20For\x20most\x20users,\x20the\x20VLESS\x20or\x20Clash\x20Subscription\x20will\x20be\x20the\x20easiest\x20to\x20use.</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','https://url.v1.mk/sub?target=clash&url=',')\x20tcp\x20is\x20abort','www.tmall.com','\x0a\x20\x20\x20\x20','www.panda.tv','data','www.guancha.cn','encode','tcp\x20','www.sohu.com','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Clash\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','DomainName','search','getUint16','cf-connecting-ip','www.tiktok.com','Unsupported\x20outbound\x20stream\x20method:\x20','Remote\x20connection\x20readable\x20aborted:','method','?format=clash','www.cnblogs.com','decode','IPv6','toLowerCase','www.cnzz.com','url','status','www.eyny.com','\x22)\x27><i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Best\x20IP\x20Configuration</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22code-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre><code>','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20VLESS\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22clash://install-config?url=','addressValue\x20is\x20empty,\x20addressType\x20is\x20','&uuid=','doh\x20success\x20and\x20dns\x20message\x20length\x20is\x20','/\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image\x27\x20content=\x27https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:card\x27\x20content=\x27summary_large_image\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:title\x27\x20content=\x27EDtunnel\x20-\x20Protocol\x20Configuration\x20and\x20Subscribe\x20Output\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:description\x27\x20content=\x27Use\x20Cloudflare\x20Pages\x20and\x20Worker\x20serverless\x20to\x20implement\x20protocol\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:url\x27\x20content=\x27https://','writable','pathname','application/dns-message','POST','close','value','network','www.xueqiu.com','\x20expected:\x205','</code></pre>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20copy-btn\x22\x20onclick=\x27copyToClipboard(\x22','2380998TbFtSp','www.wechat.com','&fp=random&type=ws&host=','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Clash\x20Link</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','www.ynet.com','www.pconline.com.cn','byteLength','trim','www.ctrip.com','write','weibo.com','8937187jLVekd','www.ted.com','socks\x20server\x20version\x20error:\x20','byteOffset','text/plain;charset=utf-8','flatMap','split','www.cnki.net','15HSgwBS','\x0a\x20\x20<html>\x0a\x20\x20','/bestip/','?encryption=none&security=none&fp=random&type=ws&host=','The\x20Host\x20field\x20in\x20the\x20http\x20header\x20is\x20different\x20from\x20the\x20server\x20address,\x20this\x20is\x20unsupported\x20due\x20to\x20Cloudflare\x20API\x20restrictions','stringify','www.qq.com','www.baidu.com','join',')\x20tcp\x20is\x20close','readable','&fp=randomized&type=ws&host=','getReader','www.mafengwo.cn','referer','pages.dev','https://sub.xf.free.hr/auto?host=','www.dianping.com','some','charCodeAt','Stringified\x20UUID\x20is\x20invalid','www.toutiao.com','&path=%2F%3Fed%3D2048#','message','?ed=2048','&path=/','www.csdn.net','\x20is\x20not\x20supported,\x20command\x2001-tcp,02-udp,03-mux','www.pptv.com','UDP\x20proxy\x20only\x20enable\x20for\x20DNS\x20which\x20is\x20port\x2053','www.881903.com','234kzFJvT','readableWebSocketStream\x20is\x20close','\x20are\x20not\x20allowed.','www.aipai.com','catch','www.meituan.com','please\x20provide\x20username/password','www.dianyou.cn','/cf','manual','safeCloseWebSocket\x20error:','?encryption=none&security=tls&sni=','x-real-ip','includes','www.netease.com','readableWebSocketStream\x20is\x20closed'];a0_0x6c8f=function(){return _0x1990b2;};return a0_0x6c8f();}import{connect}from'cloudflare:sockets';let userID='d342d11e-d424-4583-b36e-524ab1f0afa4';const proxyIPs=[a0_0x469510(0x150),'cdn-all.xn--b6gac.eu.org',a0_0x469510(0x146)];let proxyIP=proxyIPs[Math[a0_0x469510(0x189)](Math[a0_0x469510(0x17e)]()*proxyIPs[a0_0x469510(0x172)])],socks5Address='',socks5Relay=![];if(!isValidUUID(userID))throw new Error(a0_0x469510(0x18c));let parsedSocks5Address={},enableSocks=![];export default{async 'fetch'(_0x440a33,_0x5e0892,_0x179435){const _0x197b70=a0_0x469510;try{const {UUID:_0xc237a5,PROXYIP:_0x126465,SOCKS5:_0xf796b3,SOCKS5_RELAY:_0x4c4c72}=_0x5e0892;userID=_0xc237a5||userID,proxyIP=_0x126465||proxyIP,socks5Address=_0xf796b3||socks5Address,socks5Relay=_0x4c4c72||socks5Relay;if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),enableSocks=!![];}catch(_0x429563){console[_0x197b70(0x15d)](_0x429563['toString']()),enableSocks=![];}const _0x4c1dfd=userID[_0x197b70(0x13d)](',')?userID['split'](',')[0x0]:userID,_0xaa35ae=new URL(_0x440a33[_0x197b70(0x1e3)]),_0x266c02=_0x440a33[_0x197b70(0x1a7)][_0x197b70(0x1b0)](_0x197b70(0x185));if(_0x440a33[_0x197b70(0x1a7)][_0x197b70(0x1b0)](_0x197b70(0x1c2))!=='websocket')switch(_0xaa35ae[_0x197b70(0x1ed)]){case _0x197b70(0x138):return new Response(JSON[_0x197b70(0x20e)](_0x440a33['cf'],null,0x4),{'status':0xc8,'headers':{'Content-Type':_0x197b70(0x1be)}});case'/'+_0x4c1dfd:return new Response(getConfig(userID,_0x266c02),{'status':0xc8,'headers':{'Content-Type':_0x197b70(0x173)}});case _0x197b70(0x15a)+_0x4c1dfd:return new Response(btoa(GenSub(userID,_0x266c02)),{'status':0xc8,'headers':{'Content-Type':_0x197b70(0x205)}});case _0x197b70(0x20b)+_0x4c1dfd:return fetch(_0x197b70(0x219)+_0x266c02+_0x197b70(0x1e9)+userID+_0x197b70(0x12a),{'headers':_0x440a33[_0x197b70(0x1a7)]});default:return handleDefaultPath(_0xaa35ae,_0x440a33);}else return await ProtocolOverWSHandler(_0x440a33);}catch(_0x2b819){return new Response(_0x2b819['toString']());}}};async function handleDefaultPath(_0x3d4d32,_0x198d7e){const _0x437183=a0_0x469510,_0x5ddb9c=hostnames[Math[_0x437183(0x189)](Math['random']()*hostnames[_0x437183(0x172)])],_0x3ec527=new Headers(_0x198d7e[_0x437183(0x1a7)]);_0x3ec527[_0x437183(0x171)](_0x437183(0x1d8),'1.2.3.4'),_0x3ec527[_0x437183(0x171)](_0x437183(0x17c),_0x437183(0x162)),_0x3ec527[_0x437183(0x171)](_0x437183(0x13c),'1.2.3.4'),_0x3ec527['set'](_0x437183(0x217),_0x437183(0x1a6));const _0x11db6a='https://'+_0x5ddb9c+_0x3d4d32['pathname']+_0x3d4d32[_0x437183(0x1d6)],_0x1b4870=new Request(_0x11db6a,{'method':_0x198d7e[_0x437183(0x1dc)],'headers':_0x3ec527,'body':_0x198d7e[_0x437183(0x1bd)],'redirect':_0x437183(0x139)}),_0x2859da=await fetch(_0x1b4870,{'redirect':_0x437183(0x139)});if([0x12d,0x12e][_0x437183(0x13d)](_0x2859da[_0x437183(0x1e4)]))return new Response(_0x437183(0x17b)+_0x5ddb9c+_0x437183(0x132),{'status':0x193,'statusText':_0x437183(0x169)});return _0x2859da;}async function ProtocolOverWSHandler(_0x2d1421){const _0x433277=a0_0x469510,_0x2e9063=new WebSocketPair(),[_0x1f3281,_0x3fe076]=Object['values'](_0x2e9063);_0x3fe076[_0x433277(0x15e)]();let _0x26b114='',_0x809ded='';const _0x201a56=(_0x24de42,_0x59dd29)=>{const _0x395f2c=_0x433277;console[_0x395f2c(0x15d)]('['+_0x26b114+':'+_0x809ded+']\x20'+_0x24de42,_0x59dd29||'');},_0x23ebc0=_0x2d1421['headers'][_0x433277(0x1b0)](_0x433277(0x191))||'',_0x2c84b4=makeReadableWebSocketStream(_0x3fe076,_0x23ebc0,_0x201a56);let _0x49e360={'value':null},_0x280188=![];return _0x2c84b4[_0x433277(0x175)](new WritableStream({async 'write'(_0x378043,_0x6183de){const _0x1462ac=_0x433277;if(_0x280188)return await handleDNSQuery(_0x378043,_0x3fe076,null,_0x201a56);if(_0x49e360[_0x1462ac(0x1f1)]){const _0x4032ff=_0x49e360[_0x1462ac(0x1f1)][_0x1462ac(0x1ec)]['getWriter']();await _0x4032ff[_0x1462ac(0x1ff)](_0x378043),_0x4032ff[_0x1462ac(0x156)]();return;}const {hasError:_0x36193f,message:_0x3b176f,addressType:_0xe03426,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x25edd3,ProtocolVersion:ProtocolVersion=new Uint8Array([0x0,0x0]),isUDP:_0x4658bd}=processProtocolHeader(_0x378043,userID);_0x26b114=addressRemote,_0x809ded=portRemote+'--'+Math[_0x1462ac(0x17e)]()+'\x20'+(_0x4658bd?_0x1462ac(0x166):_0x1462ac(0x1d2))+'\x20';if(_0x36193f){throw new Error(_0x3b176f);return;}if(_0x4658bd){if(portRemote===0x35)_0x280188=!![];else{throw new Error(_0x1462ac(0x12e));return;}}const _0x14eea4=new Uint8Array([ProtocolVersion[0x0],0x0]),_0x2054cd=_0x378043[_0x1462ac(0x183)](_0x25edd3);if(_0x280188)return handleDNSQuery(_0x2054cd,_0x3fe076,_0x14eea4,_0x201a56);handleTCPOutBound(_0x49e360,_0xe03426,addressRemote,portRemote,_0x2054cd,_0x3fe076,_0x14eea4,_0x201a56);},'close'(){const _0x127491=_0x433277;_0x201a56(_0x127491(0x131));},'abort'(_0x452a18){const _0x5ce394=_0x433277;_0x201a56(_0x5ce394(0x179),JSON[_0x5ce394(0x20e)](_0x452a18));}}))[_0x433277(0x134)](_0x2cfe32=>{_0x201a56('readableWebSocketStream\x20pipeTo\x20error',_0x2cfe32);}),new Response(null,{'status':0x65,'webSocket':_0x1f3281});}async function trojanOverWSHandler(_0x1dc3a7){const _0x2f8977=a0_0x469510,_0x1068d9=new WebSocketPair(),[_0x37e11b,_0xab72b1]=Object[_0x2f8977(0x17f)](_0x1068d9);_0xab72b1[_0x2f8977(0x15e)]();let _0x140175='',_0x3e9860='';const _0x9d43b0=(_0x17358a,_0x21b285)=>{const _0x250ec0=_0x2f8977;console[_0x250ec0(0x15d)]('['+_0x140175+':'+_0x3e9860+']\x20'+_0x17358a,_0x21b285||'');},_0x2ae4cd=_0x1dc3a7[_0x2f8977(0x1a7)]['get'](_0x2f8977(0x191))||'',_0x3e962f=makeReadableWebSocketStream(_0xab72b1,_0x2ae4cd,_0x9d43b0);let _0x20e42a={'value':null},_0x3e84bc=null;return _0x3e962f[_0x2f8977(0x175)](new WritableStream({async 'write'(_0x46550d,_0x16a200){const _0x589daf=_0x2f8977;if(_0x3e84bc)return _0x3e84bc(_0x46550d);if(_0x20e42a[_0x589daf(0x1f1)]){const _0x501e9a=_0x20e42a[_0x589daf(0x1f1)]['writable'][_0x589daf(0x194)]();await _0x501e9a[_0x589daf(0x1ff)](_0x46550d),_0x501e9a[_0x589daf(0x156)]();return;}const {hasError:_0x5c45ac,message:_0x2373e5,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawClientData:_0x374231,addressType:_0x5b102f}=await parseTrojanHeader(_0x46550d);_0x140175=addressRemote,_0x3e9860=portRemote+'--'+Math[_0x589daf(0x17e)]()+_0x589daf(0x19c);if(_0x5c45ac){throw new Error(_0x2373e5);return;}handleTCPOutBound(_0x20e42a,addressRemote,portRemote,_0x374231,_0xab72b1,_0x9d43b0,_0x5b102f);},'close'(){const _0xa5b45d=_0x2f8977;_0x9d43b0(_0xa5b45d(0x13f));},'abort'(_0x699e34){const _0x41f743=_0x2f8977;_0x9d43b0(_0x41f743(0x1b3),JSON[_0x41f743(0x20e)](_0x699e34));}}))['catch'](_0x2b69fe=>{const _0x95677b=_0x2f8977;_0x9d43b0(_0x95677b(0x170),_0x2b69fe);}),new Response(null,{'status':0x65,'webSocket':_0x37e11b});}function a0_0x33ac(_0x44718c,_0x2176b9){const _0x6c8fe8=a0_0x6c8f();return a0_0x33ac=function(_0x33ac4e,_0x4a3328){_0x33ac4e=_0x33ac4e-0x124;let _0x49bc91=_0x6c8fe8[_0x33ac4e];return _0x49bc91;},a0_0x33ac(_0x44718c,_0x2176b9);}async function handleTCPOutBound(_0x202a18,_0x9b4d45,_0x4f0ab5,_0x4668aa,_0x145778,_0x380ec8,_0x755c17,_0x17ddb4){async function _0x89867c(_0x4bb7bc,_0x578e3d,_0x2841c2=![]){const _0x4abaee=a0_0x33ac;let _0x4af079;socks5Relay?_0x4af079=await socks5Connect(_0x9b4d45,_0x4bb7bc,_0x578e3d,_0x17ddb4):_0x4af079=_0x2841c2?await socks5Connect(_0x9b4d45,_0x4bb7bc,_0x578e3d,_0x17ddb4):connect({'hostname':_0x4bb7bc,'port':_0x578e3d});_0x202a18[_0x4abaee(0x1f1)]=_0x4af079,_0x17ddb4(_0x4abaee(0x192)+_0x4bb7bc+':'+_0x578e3d);const _0x2e2c37=_0x4af079[_0x4abaee(0x1ec)][_0x4abaee(0x194)]();return await _0x2e2c37[_0x4abaee(0x1ff)](_0x145778),_0x2e2c37[_0x4abaee(0x156)](),_0x4af079;}async function _0x230857(){const _0x2a3063=a0_0x33ac;enableSocks?_0xd4824c=await _0x89867c(_0x4f0ab5,_0x4668aa,!![]):_0xd4824c=await _0x89867c(proxyIP||_0x4f0ab5,_0x4668aa),_0xd4824c[_0x2a3063(0x140)]['catch'](_0x150620=>{const _0x43a0c2=_0x2a3063;console[_0x43a0c2(0x15d)](_0x43a0c2(0x1c3),_0x150620);})[_0x2a3063(0x1b6)](()=>{safeCloseWebSocket(_0x380ec8);}),remoteSocketToWS(_0xd4824c,_0x380ec8,_0x755c17,null,_0x17ddb4);}let _0xd4824c=await _0x89867c(_0x4f0ab5,_0x4668aa);remoteSocketToWS(_0xd4824c,_0x380ec8,_0x755c17,_0x230857,_0x17ddb4);}function makeReadableWebSocketStream(_0x5abfcd,_0x112fed,_0x5e698a){let _0xbf1372=![];const _0x768741=new ReadableStream({'start'(_0x3b70e2){const _0xdadbcb=a0_0x33ac;_0x5abfcd[_0xdadbcb(0x19e)]('message',_0x30360e=>{const _0x495da3=_0xdadbcb,_0xf8f824=_0x30360e[_0x495da3(0x1cf)];_0x3b70e2[_0x495da3(0x15c)](_0xf8f824);}),_0x5abfcd[_0xdadbcb(0x19e)]('close',()=>{safeCloseWebSocket(_0x5abfcd),_0x3b70e2['close']();}),_0x5abfcd[_0xdadbcb(0x19e)](_0xdadbcb(0x18e),_0x565320=>{const _0x4c6f2f=_0xdadbcb;_0x5e698a(_0x4c6f2f(0x152)),_0x3b70e2[_0x4c6f2f(0x18e)](_0x565320);});const {earlyData:_0x1d6972,error:_0x12914c}=base64ToArrayBuffer(_0x112fed);if(_0x12914c)_0x3b70e2[_0xdadbcb(0x18e)](_0x12914c);else _0x1d6972&&_0x3b70e2[_0xdadbcb(0x15c)](_0x1d6972);},'pull'(_0x552c60){},'cancel'(_0x11961d){_0x5e698a('ReadableStream\x20was\x20canceled,\x20due\x20to\x20'+_0x11961d),_0xbf1372=!![],safeCloseWebSocket(_0x5abfcd);}});return _0x768741;}function processProtocolHeader(_0x5ee710,_0x1ce476){const _0x2f12ac=a0_0x469510;if(_0x5ee710[_0x2f12ac(0x1fc)]<0x18)return{'hasError':!![],'message':_0x2f12ac(0x16c)};const _0x1eb41a=new DataView(_0x5ee710),_0x44ae20=_0x1eb41a[_0x2f12ac(0x1c4)](0x0),_0x4baa5d=stringify(new Uint8Array(_0x5ee710[_0x2f12ac(0x183)](0x1,0x11))),_0x3de4cc=_0x1ce476[_0x2f12ac(0x13d)](',')?_0x1ce476[_0x2f12ac(0x207)](','):[_0x1ce476],_0x5fcee9=_0x3de4cc[_0x2f12ac(0x21b)](_0x39283d=>_0x4baa5d===_0x39283d[_0x2f12ac(0x1fd)]())||_0x3de4cc[_0x2f12ac(0x172)]===0x1&&_0x4baa5d===_0x3de4cc[0x0][_0x2f12ac(0x1fd)]();console[_0x2f12ac(0x15d)](_0x2f12ac(0x19a)+_0x4baa5d);if(!_0x5fcee9)return{'hasError':!![],'message':_0x2f12ac(0x186)};const _0x1ce0ef=_0x1eb41a[_0x2f12ac(0x1c4)](0x11),_0x543a40=_0x1eb41a[_0x2f12ac(0x1c4)](0x12+_0x1ce0ef);if(_0x543a40!==0x1&&_0x543a40!==0x2)return{'hasError':!![],'message':_0x2f12ac(0x147)+_0x543a40+_0x2f12ac(0x12c)};const _0x521199=0x12+_0x1ce0ef+0x1,_0x10924d=_0x1eb41a[_0x2f12ac(0x1d7)](_0x521199),_0x56ef15=_0x1eb41a[_0x2f12ac(0x1c4)](_0x521199+0x2);let _0x386cc8,_0x2fd76c,_0x114d2f;switch(_0x56ef15){case 0x1:_0x2fd76c=0x4,_0x114d2f=_0x521199+0x3,_0x386cc8=new Uint8Array(_0x5ee710[_0x2f12ac(0x183)](_0x114d2f,_0x114d2f+_0x2fd76c))['join']('.');break;case 0x2:_0x2fd76c=_0x1eb41a[_0x2f12ac(0x1c4)](_0x521199+0x3),_0x114d2f=_0x521199+0x4,_0x386cc8=new TextDecoder()[_0x2f12ac(0x1df)](_0x5ee710[_0x2f12ac(0x183)](_0x114d2f,_0x114d2f+_0x2fd76c));break;case 0x3:_0x2fd76c=0x10,_0x114d2f=_0x521199+0x3,_0x386cc8=Array[_0x2f12ac(0x19b)]({'length':0x8},(_0x3dccf9,_0x3942dd)=>_0x1eb41a[_0x2f12ac(0x1d7)](_0x114d2f+_0x3942dd*0x2)[_0x2f12ac(0x144)](0x10))[_0x2f12ac(0x211)](':');break;default:return{'hasError':!![],'message':_0x2f12ac(0x177)+_0x56ef15};}if(!_0x386cc8)return{'hasError':!![],'message':_0x2f12ac(0x1e8)+_0x56ef15};return{'hasError':![],'addressRemote':_0x386cc8,'addressType':_0x56ef15,'portRemote':_0x10924d,'rawDataIndex':_0x114d2f+_0x2fd76c,'protocolVersion':new Uint8Array([_0x44ae20]),'isUDP':_0x543a40===0x2};}async function remoteSocketToWS(_0x157840,_0x43ca00,_0x507ef8,_0x4fdcf5,_0x22ba4b){const _0x10a283=a0_0x469510;let _0x4e1260=![];try{await _0x157840[_0x10a283(0x213)][_0x10a283(0x175)](new WritableStream({async 'write'(_0x5899b5){const _0x249742=_0x10a283;if(_0x43ca00[_0x249742(0x187)]!==WS_READY_STATE_OPEN)throw new Error(_0x249742(0x1a0));_0x4e1260=!![],_0x507ef8?(_0x43ca00[_0x249742(0x159)](await new Blob([_0x507ef8,_0x5899b5])[_0x249742(0x16b)]()),_0x507ef8=null):_0x43ca00[_0x249742(0x159)](_0x5899b5);},'close'(){const _0x23c70a=_0x10a283;_0x22ba4b(_0x23c70a(0x15f)+_0x4e1260);},'abort'(_0x27a52f){const _0x572fda=_0x10a283;console[_0x572fda(0x18e)](_0x572fda(0x1db),_0x27a52f);}}));}catch(_0x5aae8b){console[_0x10a283(0x18e)](_0x10a283(0x148),_0x5aae8b[_0x10a283(0x1bc)]||_0x5aae8b),safeCloseWebSocket(_0x43ca00);}!_0x4e1260&&_0x4fdcf5&&(_0x22ba4b(_0x10a283(0x14e)),await _0x4fdcf5());}function base64ToArrayBuffer(_0x402689){const _0x55c044=a0_0x469510;if(!_0x402689)return{'earlyData':null,'error':null};try{_0x402689=_0x402689[_0x55c044(0x16e)](/-/g,'+')[_0x55c044(0x16e)](/_/g,'/');const _0x2fee87=atob(_0x402689),_0x22b5f3=new ArrayBuffer(_0x2fee87[_0x55c044(0x172)]),_0x3e6a0e=new Uint8Array(_0x22b5f3);for(let _0x625cf7=0x0;_0x625cf7<_0x2fee87[_0x55c044(0x172)];_0x625cf7++){_0x3e6a0e[_0x625cf7]=_0x2fee87[_0x55c044(0x124)](_0x625cf7);}return{'earlyData':_0x22b5f3,'error':null};}catch(_0x569bc3){return{'earlyData':null,'error':_0x569bc3};}}function isValidUUID(_0x2425f3){const _0x47f246=a0_0x469510,_0xe9b263=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0xe9b263[_0x47f246(0x18d)](_0x2425f3);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x33b49c){const _0x37599a=a0_0x469510;try{(_0x33b49c['readyState']===WS_READY_STATE_OPEN||_0x33b49c[_0x37599a(0x187)]===WS_READY_STATE_CLOSING)&&_0x33b49c[_0x37599a(0x1f0)]();}catch(_0x13a2d8){console[_0x37599a(0x18e)](_0x37599a(0x13a),_0x13a2d8);}}const byteToHex=Array[a0_0x469510(0x19b)]({'length':0x100},(_0xf868b9,_0x82ff83)=>(_0x82ff83+0x100)[a0_0x469510(0x144)](0x10)[a0_0x469510(0x183)](0x1));function unsafeStringify(_0x4e9535,_0x1653b3=0x0){const _0x897694=a0_0x469510;return[byteToHex[_0x4e9535[_0x1653b3]],byteToHex[_0x4e9535[_0x1653b3+0x1]],byteToHex[_0x4e9535[_0x1653b3+0x2]],byteToHex[_0x4e9535[_0x1653b3+0x3]],'-',byteToHex[_0x4e9535[_0x1653b3+0x4]],byteToHex[_0x4e9535[_0x1653b3+0x5]],'-',byteToHex[_0x4e9535[_0x1653b3+0x6]],byteToHex[_0x4e9535[_0x1653b3+0x7]],'-',byteToHex[_0x4e9535[_0x1653b3+0x8]],byteToHex[_0x4e9535[_0x1653b3+0x9]],'-',byteToHex[_0x4e9535[_0x1653b3+0xa]],byteToHex[_0x4e9535[_0x1653b3+0xb]],byteToHex[_0x4e9535[_0x1653b3+0xc]],byteToHex[_0x4e9535[_0x1653b3+0xd]],byteToHex[_0x4e9535[_0x1653b3+0xe]],byteToHex[_0x4e9535[_0x1653b3+0xf]]][_0x897694(0x211)]('')[_0x897694(0x1e1)]();}function stringify(_0x1e1888,_0x4954e0=0x0){const _0x37ba42=a0_0x469510,_0xc151ae=unsafeStringify(_0x1e1888,_0x4954e0);if(!isValidUUID(_0xc151ae))throw new TypeError(_0x37ba42(0x125));return _0xc151ae;}async function handleUDPOutBound(_0x596f66,_0x35e4fe,_0x158ef8){const _0x4eacf5=a0_0x469510;let _0x2425ff=![];const _0x14a08a=new TransformStream({'start'(_0x4575d6){},'transform'(_0x3c6a86,_0x1316ba){const _0x32280d=a0_0x33ac;for(let _0x5df5ff=0x0;_0x5df5ff<_0x3c6a86['byteLength'];){const _0x20a70a=_0x3c6a86[_0x32280d(0x183)](_0x5df5ff,_0x5df5ff+0x2),_0x43d344=new DataView(_0x20a70a)[_0x32280d(0x1d7)](0x0),_0x4a393e=new Uint8Array(_0x3c6a86[_0x32280d(0x183)](_0x5df5ff+0x2,_0x5df5ff+0x2+_0x43d344));_0x5df5ff=_0x5df5ff+0x2+_0x43d344,_0x1316ba[_0x32280d(0x15c)](_0x4a393e);}},'flush'(_0x144fc4){}});_0x14a08a[_0x4eacf5(0x213)][_0x4eacf5(0x175)](new WritableStream({async 'write'(_0x35d97f){const _0x545e48=_0x4eacf5,_0x41601d=await fetch(dohURL,{'method':_0x545e48(0x1ef),'headers':{'content-type':_0x545e48(0x1ee)},'body':_0x35d97f}),_0x463900=await _0x41601d[_0x545e48(0x16b)](),_0x2157aa=_0x463900[_0x545e48(0x1fc)],_0x3cade5=new Uint8Array([_0x2157aa>>0x8&0xff,_0x2157aa&0xff]);_0x596f66[_0x545e48(0x187)]===WS_READY_STATE_OPEN&&(_0x158ef8(_0x545e48(0x1ea)+_0x2157aa),_0x2425ff?_0x596f66[_0x545e48(0x159)](await new Blob([_0x3cade5,_0x463900])[_0x545e48(0x16b)]()):(_0x596f66[_0x545e48(0x159)](await new Blob([_0x35e4fe,_0x3cade5,_0x463900])[_0x545e48(0x16b)]()),_0x2425ff=!![]));}}))['catch'](_0x26b00a=>{const _0x6e1b68=_0x4eacf5;_0x158ef8(_0x6e1b68(0x1a2)+_0x26b00a);});const _0x34af82=_0x14a08a[_0x4eacf5(0x1ec)][_0x4eacf5(0x194)]();return{'write'(_0x3bf3db){_0x34af82['write'](_0x3bf3db);}};}async function handleDNSQuery(_0x2358bc,_0x597360,_0x1e37f4,_0x8247b0){const _0x3866e5=a0_0x469510;try{const _0x426352=_0x3866e5(0x18a),_0x39972e=0x35;let _0x2300b9=_0x1e37f4;const _0x57a28d=connect({'hostname':_0x426352,'port':_0x39972e});_0x8247b0('connected\x20to\x20'+_0x426352+':'+_0x39972e);const _0x4a493c=_0x57a28d[_0x3866e5(0x1ec)][_0x3866e5(0x194)]();await _0x4a493c[_0x3866e5(0x1ff)](_0x2358bc),_0x4a493c['releaseLock'](),await _0x57a28d[_0x3866e5(0x213)][_0x3866e5(0x175)](new WritableStream({async 'write'(_0x464859){const _0x589093=_0x3866e5;_0x597360[_0x589093(0x187)]===WS_READY_STATE_OPEN&&(_0x2300b9?(_0x597360['send'](await new Blob([_0x2300b9,_0x464859])['arrayBuffer']()),_0x2300b9=null):_0x597360[_0x589093(0x159)](_0x464859));},'close'(){const _0x2ecb95=_0x3866e5;_0x8247b0(_0x2ecb95(0x16d)+_0x426352+_0x2ecb95(0x212));},'abort'(_0xa9148e){const _0x1ee077=_0x3866e5;console[_0x1ee077(0x18e)](_0x1ee077(0x16d)+_0x426352+_0x1ee077(0x1cb),_0xa9148e);}}));}catch(_0x36db03){console[_0x3866e5(0x18e)]('handleDNSQuery\x20have\x20exception,\x20error:\x20'+_0x36db03[_0x3866e5(0x128)]);}}async function socks5Connect(_0x4c5f12,_0x3db8e5,_0x552b10,_0x551b6e){const _0x19eea2=a0_0x469510,{username:_0x286a8d,password:_0x552bb5,hostname:_0x2d10ef,port:_0x4f1c5b}=parsedSocks5Address,_0x202310=connect({'hostname':_0x2d10ef,'port':_0x4f1c5b}),_0x4de716=new Uint8Array([0x5,0x2,0x0,0x2]),_0x2d07a2=_0x202310[_0x19eea2(0x1ec)][_0x19eea2(0x194)]();await _0x2d07a2[_0x19eea2(0x1ff)](_0x4de716),_0x551b6e('sent\x20socks\x20greeting');const _0xbd5307=_0x202310[_0x19eea2(0x213)][_0x19eea2(0x215)](),_0x41f2d3=new TextEncoder();let _0x129975=(await _0xbd5307[_0x19eea2(0x1c8)]())[_0x19eea2(0x1f1)];if(_0x129975[0x0]!==0x5){_0x551b6e(_0x19eea2(0x203)+_0x129975[0x0]+_0x19eea2(0x1f4));return;}if(_0x129975[0x1]===0xff){_0x551b6e(_0x19eea2(0x155));return;}if(_0x129975[0x1]===0x2){_0x551b6e(_0x19eea2(0x18b));if(!_0x286a8d||!_0x552bb5){_0x551b6e(_0x19eea2(0x136));return;}const _0x5405c5=new Uint8Array([0x1,_0x286a8d[_0x19eea2(0x172)],..._0x41f2d3[_0x19eea2(0x1d1)](_0x286a8d),_0x552bb5[_0x19eea2(0x172)],..._0x41f2d3[_0x19eea2(0x1d1)](_0x552bb5)]);await _0x2d07a2[_0x19eea2(0x1ff)](_0x5405c5),_0x129975=(await _0xbd5307['read']())[_0x19eea2(0x1f1)];if(_0x129975[0x0]!==0x1||_0x129975[0x1]!==0x0){_0x551b6e('fail\x20to\x20auth\x20socks\x20server');return;}}let _0x7cd6b1;switch(_0x4c5f12){case 0x1:_0x7cd6b1=new Uint8Array([0x1,..._0x3db8e5[_0x19eea2(0x207)]('.')[_0x19eea2(0x1ac)](Number)]);break;case 0x2:_0x7cd6b1=new Uint8Array([0x3,_0x3db8e5[_0x19eea2(0x172)],..._0x41f2d3[_0x19eea2(0x1d1)](_0x3db8e5)]);break;case 0x3:_0x7cd6b1=new Uint8Array([0x4,..._0x3db8e5[_0x19eea2(0x207)](':')['flatMap'](_0x55295=>[parseInt(_0x55295['slice'](0x0,0x2),0x10),parseInt(_0x55295[_0x19eea2(0x183)](0x2),0x10)])]);break;default:_0x551b6e(_0x19eea2(0x1a8)+_0x4c5f12);return;}const _0x4ba185=new Uint8Array([0x5,0x1,0x0,..._0x7cd6b1,_0x552b10>>0x8,_0x552b10&0xff]);await _0x2d07a2[_0x19eea2(0x1ff)](_0x4ba185),_0x551b6e('sent\x20socks\x20request'),_0x129975=(await _0xbd5307[_0x19eea2(0x1c8)]())['value'];if(_0x129975[0x1]===0x0)_0x551b6e('socks\x20connection\x20opened');else{_0x551b6e(_0x19eea2(0x14a));return;}return _0x2d07a2[_0x19eea2(0x156)](),_0xbd5307['releaseLock'](),_0x202310;}function socks5AddressParser(_0x45c179){const _0x2d9213=a0_0x469510;let [_0x2211e6,_0x1adc7f]=_0x45c179[_0x2d9213(0x207)]('@')['reverse'](),_0x5c4d95,_0x4a97d9,_0x5adf55,_0x298b08;if(_0x1adc7f){const _0x4dded8=_0x1adc7f[_0x2d9213(0x207)](':');if(_0x4dded8[_0x2d9213(0x172)]!==0x2)throw new Error(_0x2d9213(0x1c7));[_0x5c4d95,_0x4a97d9]=_0x4dded8;}const _0xdcb330=_0x2211e6[_0x2d9213(0x207)](':');_0x298b08=Number(_0xdcb330[_0x2d9213(0x190)]());if(isNaN(_0x298b08))throw new Error(_0x2d9213(0x1c7));_0x5adf55=_0xdcb330['join'](':');const _0x138918=/^\[.*\]$/;if(_0x5adf55['includes'](':')&&!_0x138918['test'](_0x5adf55))throw new Error(_0x2d9213(0x1c7));return{'username':_0x5c4d95,'password':_0x4a97d9,'hostname':_0x5adf55,'port':_0x298b08};}async function parseTrojanHeader(_0x170d4b){const _0x36bdf1=a0_0x469510;if(_0x170d4b[_0x36bdf1(0x1fc)]<0x3a)return{'hasError':!![],'message':_0x36bdf1(0x145)};const _0x3bb84b=new DataView(_0x170d4b);if(_0x3bb84b[_0x36bdf1(0x1c4)](0x38)!==0xd||_0x3bb84b[_0x36bdf1(0x1c4)](0x39)!==0xa)return{'hasError':!![],'message':_0x36bdf1(0x1ab)};const _0x7c4516=new TextDecoder()[_0x36bdf1(0x1df)](_0x170d4b[_0x36bdf1(0x183)](0x0,0x38));if(_0x7c4516!==Sha256['sha224'](userID))return{'hasError':!![],'message':'Invalid\x20password'};const _0x1b4aad=new DataView(_0x170d4b,0x3a);if(_0x1b4aad[_0x36bdf1(0x1fc)]<0x6)return{'hasError':!![],'message':_0x36bdf1(0x193)};if(_0x1b4aad[_0x36bdf1(0x1c4)](0x0)!==0x1)return{'hasError':!![],'message':_0x36bdf1(0x198)};const _0x1fd830=_0x1b4aad['getUint8'](0x1);let _0x34c2f6,_0x5083ee;switch(_0x1fd830){case 0x1:_0x34c2f6=Array[_0x36bdf1(0x19b)](new Uint8Array(_0x1b4aad['buffer'],_0x1b4aad[_0x36bdf1(0x204)]+0x2,0x4))[_0x36bdf1(0x211)]('.'),_0x5083ee=0x6;break;case 0x3:const _0x545dd1=_0x1b4aad['getUint8'](0x2);_0x34c2f6=new TextDecoder()['decode'](_0x1b4aad['buffer']['slice'](_0x1b4aad[_0x36bdf1(0x204)]+0x3,_0x1b4aad[_0x36bdf1(0x204)]+0x3+_0x545dd1)),_0x5083ee=0x3+_0x545dd1;break;case 0x4:_0x34c2f6=Array['from'](new Uint8Array(_0x1b4aad[_0x36bdf1(0x1a3)],_0x1b4aad[_0x36bdf1(0x204)]+0x2,0x10))['map'](_0x374e87=>_0x374e87[_0x36bdf1(0x144)](0x10)[_0x36bdf1(0x176)](0x2,'0'))[_0x36bdf1(0x211)](':')[_0x36bdf1(0x16e)](/(:0)+:/,'::'),_0x5083ee=0x12;break;default:return{'hasError':!![],'message':_0x36bdf1(0x188)+_0x1fd830};}const _0x8a5731=_0x1b4aad['getUint16'](_0x5083ee);return{'hasError':![],'address':_0x34c2f6,'port':_0x8a5731,'data':_0x170d4b['slice'](0x3a+_0x5083ee+0x2)};}const VlessCmd={'TCP':0x1,'UDP':0x2,'MUX':0x3},VlessAddrType={'IPv4':0x1,'DomainName':0x2,'IPv6':0x3};function makeVlessReqHeader(_0xa29d1,_0x1c8111,_0x4d3165,_0x43e190,_0x3f0f49){const _0x155f6f=a0_0x469510;let _0x4d02f0,_0x34608c;switch(_0x1c8111){case VlessAddrType['IPv4']:_0x4d02f0=0x4;break;case VlessAddrType[_0x155f6f(0x1d5)]:_0x34608c=new TextEncoder()[_0x155f6f(0x1d1)](_0x4d3165),_0x4d02f0=_0x34608c[_0x155f6f(0x172)]+0x1;break;case VlessAddrType[_0x155f6f(0x1e0)]:_0x4d02f0=0x10;break;default:throw new Error(_0x155f6f(0x19f)+_0x1c8111);}const _0x498c89=_0x3f0f49[_0x155f6f(0x16e)](/-/g,''),_0x225c0b=0x1,_0x438393=new Uint8Array(0x16+_0x4d02f0);_0x438393[0x0]=0x0;for(let _0x5b7bd3=0x0;_0x5b7bd3<_0x498c89[_0x155f6f(0x172)];_0x5b7bd3+=0x2){_0x438393[_0x225c0b+_0x5b7bd3/0x2]=parseInt(_0x498c89['substr'](_0x5b7bd3,0x2),0x10);}_0x438393[0x11]=0x0,_0x438393[0x12]=_0xa29d1,_0x438393[0x13]=_0x43e190>>0x8,_0x438393[0x14]=_0x43e190&0xff,_0x438393[0x15]=_0x1c8111;switch(_0x1c8111){case VlessAddrType['IPv4']:const _0x2044c3=_0x4d3165[_0x155f6f(0x207)]('.');for(let _0x3dd23f=0x0;_0x3dd23f<0x4;_0x3dd23f++){_0x438393[0x16+_0x3dd23f]=parseInt(_0x2044c3[_0x3dd23f]);}break;case VlessAddrType[_0x155f6f(0x1d5)]:_0x438393[0x16]=_0x34608c[_0x155f6f(0x172)],_0x438393[_0x155f6f(0x171)](_0x34608c,0x17);break;case VlessAddrType['IPv6']:const _0x26f42f=ipv6[_0x155f6f(0x207)](':');for(let _0x55f2c0=0x0;_0x55f2c0<0x8;_0x55f2c0++){const _0x4ea92a=parseInt(_0x26f42f[_0x55f2c0],0x10);_0x438393[_0x55f2c0*0x2+0x16]=_0x4ea92a>>0x8,_0x438393[_0x55f2c0*0x2+0x17]=_0x4ea92a&0xff;}break;default:throw new Error(_0x155f6f(0x19f)+_0x1c8111);}return _0x438393;}function checkVlessConfig(_0x518c3c,_0x37e9cd){const _0x552251=a0_0x469510;if(_0x37e9cd[_0x552251(0x1f2)]!=='ws')throw new Error(_0x552251(0x1da)+_0x37e9cd[_0x552251(0x1f2)]+_0x552251(0x1c5));if(_0x37e9cd[_0x552251(0x181)]!=='tls'&&_0x37e9cd[_0x552251(0x181)]!==_0x552251(0x1ae))throw new Error(_0x552251(0x1b2)+_0x37e9cd[_0x552251(0x1f2)]+_0x552251(0x197));if(_0x37e9cd[_0x552251(0x1c6)]&&_0x37e9cd['wsSettings']['headers']&&_0x37e9cd['wsSettings']['headers'][_0x552251(0x185)]!==_0x518c3c)throw new Error(_0x552251(0x20d));if(_0x37e9cd['tlsSettings']&&_0x37e9cd[_0x552251(0x14f)][_0x552251(0x1a9)]!==_0x518c3c)throw new Error('The\x20SNI\x20is\x20different\x20from\x20the\x20server\x20address,\x20this\x20is\x20unsupported\x20due\x20to\x20Cloudflare\x20API\x20restrictions');}function parseVlessString(_0x1b854a){const _0x33bfb8=a0_0x469510,_0x3a243d=/^(.+):\/\/(.+?)@(.+?):(\d+)(\?[^#]*)?(#.*)?$/,_0x15decc=_0x1b854a['match'](_0x3a243d);if(!_0x15decc)throw new Error('Invalid\x20URL\x20format');const [,_0x20201f,_0xfa92aa,_0x3f29ab,_0x335cd3,_0xcf374b,_0x22dce3]=_0x15decc,_0x26207d={'protocol':_0x20201f,'uuid':_0xfa92aa,'remoteHost':_0x3f29ab,'remotePort':parseInt(_0x335cd3),'descriptiveText':_0x22dce3?_0x22dce3[_0x33bfb8(0x151)](0x1):'','queryParams':{}};if(_0xcf374b){const _0x38171c=_0xcf374b['substring'](0x1)[_0x33bfb8(0x207)]('&');_0x38171c[_0x33bfb8(0x153)](_0x2d0e6c=>{const _0x2b9c2f=_0x33bfb8,[_0x4d4b5a,_0x21586b]=_0x2d0e6c[_0x2b9c2f(0x207)]('=');_0x26207d[_0x2b9c2f(0x16a)][_0x4d4b5a]=_0x21586b;});}return _0x26207d;}const at='QA==',pt='dmxlc3M=',ed=a0_0x469510(0x16f);function getConfig(_0x50505c,_0x1c644a){const _0x46abe0=a0_0x469510,_0x4b4c66=_0x46abe0(0x1b7)+_0x1c644a+_0x46abe0(0x214)+_0x1c644a+_0x46abe0(0x127)+_0x1c644a,_0xf6ac95=_0x50505c[_0x46abe0(0x207)](','),_0x7fbca4=_0x46abe0(0x19d)+_0x1c644a+'/sub/'+_0xf6ac95[0x0]+'?format=clash',_0x17cb9a=_0x46abe0(0x19d)+_0x1c644a+_0x46abe0(0x20b)+_0xf6ac95[0x0],_0x3a1b12=_0x46abe0(0x1ca)+encodeURIComponent(_0x7fbca4)+_0x46abe0(0x1b1),_0x1d5469=_0x46abe0(0x163)+_0x1c644a+_0x46abe0(0x1eb)+_0x1c644a+'/\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:image\x27\x20content=\x27https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image:width\x27\x20content=\x271500\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image:height\x27\x20content=\x271500\x27\x20/>\x0a\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Roboto\x27,\x20\x27Segoe\x20UI\x27,\x20Tahoma,\x20Geneva,\x20Verdana,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#000000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x201200px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#111111;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x206px\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20h1,\x20h2\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.config-item\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#222222;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.config-item\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn-group\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20pre\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20white-space:\x20pre-wrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20word-wrap:\x20break-word;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#00ff00;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.logo\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20float:\x20left;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x09\x09max-width:\x2030%;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20.logo\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x2090%;\x20/*\x20Adjust\x20the\x20max-width\x20to\x20fit\x20within\x20the\x20container\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.btn-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.btn-group\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.code-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.code-container\x20pre\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-right:\x20100px;\x20/*\x20Make\x20space\x20for\x20the\x20button\x20*/\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.copy-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#222222;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20ul\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-left:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20li\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\x22>\x0a\x20\x20</head>\x0a\x20\x20',_0x3a64db=_0x46abe0(0x1b9)+_0x1c644a+_0x46abe0(0x15a)+_0xf6ac95[0x0]+_0x46abe0(0x1e7)+encodeURIComponent(_0x46abe0(0x19d)+_0x1c644a+_0x46abe0(0x15a)+_0xf6ac95[0x0]+_0x46abe0(0x1dd))+_0x46abe0(0x1d4)+_0x3a1b12+_0x46abe0(0x1f9)+_0x17cb9a+_0x46abe0(0x1c9),_0x78824f=_0xf6ac95[_0x46abe0(0x1ac)](_0x109a75=>{const _0x57ee4f=_0x46abe0,_0x7725e8=atob(pt)+_0x57ee4f(0x158)+_0x109a75+atob(at)+_0x1c644a+_0x4b4c66,_0x4318df=atob(pt)+_0x57ee4f(0x158)+_0x109a75+atob(at)+proxyIP+_0x4b4c66;return _0x57ee4f(0x17a)+_0x109a75+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Default\x20IP\x20Configuration</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22code-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre><code>'+_0x7725e8+_0x57ee4f(0x1f5)+_0x7725e8+_0x57ee4f(0x1e6)+_0x4318df+_0x57ee4f(0x1f5)+_0x4318df+_0x57ee4f(0x154);})['join']('');return _0x46abe0(0x20a)+_0x1d5469+_0x46abe0(0x161)+_0x3a64db+_0x46abe0(0x1cd)+_0x78824f+'\x0a\x20\x20</body>\x0a\x20\x20<script>\x0a\x20\x20\x20\x20function\x20copyToClipboard(text)\x20{\x0a\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(text)\x0a\x20\x20\x20\x20\x20\x20\x20\x20.then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x22Copied\x20to\x20clipboard\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20.catch((err)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x22Failed\x20to\x20copy\x20to\x20clipboard:\x22,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20}\x0a\x20\x20</script>\x0a\x20\x20</html>';}const HttpPort=new Set([0x50,0x1f90,0x22b0,0x804,0x826,0x82f,0x822]),HttpsPort=new Set([0x1bb,0x20fb,0x805,0x830,0x827,0x823]);function GenSub(_0x1ec263,_0x36f5c9){const _0x328afb=a0_0x469510,_0x1b3307=_0x1ec263[_0x328afb(0x13d)](',')?_0x1ec263[_0x328afb(0x207)](','):[_0x1ec263],_0x575b73=()=>'/'+Math[_0x328afb(0x17e)]()[_0x328afb(0x144)](0x24)[_0x328afb(0x151)](0x2,0xf)+_0x328afb(0x129),_0x21bd23=_0x328afb(0x20c)+_0x36f5c9+_0x328afb(0x15b)+encodeURIComponent(_0x575b73())+'#',_0x54b457=_0x328afb(0x13b)+_0x36f5c9+_0x328afb(0x1f8)+_0x36f5c9+_0x328afb(0x127),_0x31cf70=_0x1b3307['flatMap'](_0x269ad1=>{const _0x1e5339=_0x328afb,_0x1e136a=Array[_0x1e5339(0x19b)](HttpPort)[_0x1e5339(0x206)](_0x39f711=>{const _0x4e3691=_0x1e5339;if(!_0x36f5c9[_0x4e3691(0x13d)](_0x4e3691(0x218))){const _0x127f0b=_0x36f5c9+_0x4e3691(0x17d)+_0x39f711,_0xa997e1=atob(pt)+_0x4e3691(0x158)+_0x269ad1+atob(at)+_0x36f5c9+':'+_0x39f711+_0x21bd23+_0x127f0b;return proxyIPs[_0x4e3691(0x206)](_0x51f52e=>{const _0x551f5a=_0x4e3691,_0x1a68da=atob(pt)+_0x551f5a(0x158)+_0x269ad1+atob(at)+_0x51f52e+':'+_0x39f711+_0x21bd23+_0x127f0b+'-'+_0x51f52e+'-'+atob(ed);return[_0xa997e1,_0x1a68da];});}return[];}),_0x18dff3=Array[_0x1e5339(0x19b)](HttpsPort)[_0x1e5339(0x206)](_0x447377=>{const _0x4a0066=_0x1e5339,_0xfcf880=_0x36f5c9+_0x4a0066(0x1af)+_0x447377,_0x13f1fc=atob(pt)+_0x4a0066(0x158)+_0x269ad1+atob(at)+_0x36f5c9+':'+_0x447377+_0x54b457+_0xfcf880;return proxyIPs[_0x4a0066(0x206)](_0x47817d=>{const _0x14d12b=_0x4a0066,_0x320bb6=atob(pt)+_0x14d12b(0x158)+_0x269ad1+atob(at)+_0x47817d+':'+_0x447377+_0x54b457+_0xfcf880+'-'+_0x47817d+'-'+atob(ed);return[_0x13f1fc,_0x320bb6];});});return[..._0x1e136a,..._0x18dff3];});return _0x31cf70['join']('\x0a');}const hostnames=[a0_0x469510(0x200),a0_0x469510(0x210),a0_0x469510(0x20f),a0_0x469510(0x1a4),'www.jd.com',a0_0x469510(0x1a5),a0_0x469510(0x1d3),a0_0x469510(0x1cc),'www.163.com',a0_0x469510(0x142),a0_0x469510(0x14b),a0_0x469510(0x174),a0_0x469510(0x167),a0_0x469510(0x135),a0_0x469510(0x126),'www.ifeng.com',a0_0x469510(0x1bb),'www.360.cn','www.douyin.com',a0_0x469510(0x178),a0_0x469510(0x1f7),a0_0x469510(0x12b),'www.imgo.tv','www.aliyun.com',a0_0x469510(0x1e5),a0_0x469510(0x196),a0_0x469510(0x168),'www.hao123.com','www.bilibili.com',a0_0x469510(0x14c),a0_0x469510(0x195),a0_0x469510(0x180),a0_0x469510(0x1ce),'www.tudou.com','www.zol.com.cn','www.toutiao.io',a0_0x469510(0x1d9),a0_0x469510(0x13e),a0_0x469510(0x208),a0_0x469510(0x1ad),a0_0x469510(0x157),a0_0x469510(0x1f3),a0_0x469510(0x14d),a0_0x469510(0x141),a0_0x469510(0x21a),'www.suning.com',a0_0x469510(0x1ba),a0_0x469510(0x160),a0_0x469510(0x216),a0_0x469510(0x182),a0_0x469510(0x1a1),a0_0x469510(0x1fe),a0_0x469510(0x1fb),a0_0x469510(0x1e2),'www.telegraph.co.uk',a0_0x469510(0x1fa),a0_0x469510(0x202),'www.renren.com',a0_0x469510(0x12d),a0_0x469510(0x1c0),a0_0x469510(0x12f),a0_0x469510(0x133),'www.ttpaihang.com',a0_0x469510(0x1c1),a0_0x469510(0x18f),a0_0x469510(0x137),a0_0x469510(0x1b8),'www.douban.com',a0_0x469510(0x1d0),a0_0x469510(0x184),'www.58.com',a0_0x469510(0x1de),a0_0x469510(0x1aa),'www.secoo.com'];