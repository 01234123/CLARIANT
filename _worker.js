const a0_0x5ae4af=a0_0x10e5;(function(_0x5e8cc2,_0x58855a){const _0x27a092=a0_0x10e5,_0x4a9b47=_0x5e8cc2();while(!![]){try{const _0x24cdbf=parseInt(_0x27a092(0x192))/0x1+parseInt(_0x27a092(0x1b5))/0x2*(parseInt(_0x27a092(0x175))/0x3)+parseInt(_0x27a092(0x191))/0x4*(-parseInt(_0x27a092(0x172))/0x5)+-parseInt(_0x27a092(0x228))/0x6+-parseInt(_0x27a092(0x21a))/0x7*(-parseInt(_0x27a092(0x23f))/0x8)+-parseInt(_0x27a092(0x1a6))/0x9+parseInt(_0x27a092(0x221))/0xa;if(_0x24cdbf===_0x58855a)break;else _0x4a9b47['push'](_0x4a9b47['shift']());}catch(_0x4cc935){_0x4a9b47['push'](_0x4a9b47['shift']());}}}(a0_0x2886,0x4094b));import{connect}from'cloudflare:sockets';let userID='d342d11e-d424-4583-b36e-524ab1f0afa4';const proxyIPs=[a0_0x5ae4af(0x22d)];let proxyIP=proxyIPs[Math[a0_0x5ae4af(0x1be)](Math['random']()*proxyIPs['length'])],socks5Address='',socks5Relay=![];if(!isValidUUID(userID))throw new Error(a0_0x5ae4af(0x1ad));let parsedSocks5Address={},enableSocks=![];export default{async 'fetch'(_0x1d2bd9,_0x580350,_0x4b44df){const _0x2e583e=a0_0x5ae4af;try{const {UUID:_0x13e2d1,PROXYIP:_0x26bc82,SOCKS5:_0xe5f458,SOCKS5_RELAY:_0x1d672a}=_0x580350;userID=_0x13e2d1||userID,proxyIP=_0x26bc82||proxyIP,socks5Address=_0xe5f458||socks5Address,socks5Relay=_0x1d672a||socks5Relay;if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),enableSocks=!![];}catch(_0xfa5a7e){console[_0x2e583e(0x19f)](_0xfa5a7e[_0x2e583e(0x187)]()),enableSocks=![];}const _0x937785=userID['includes'](',')?userID[_0x2e583e(0x21f)](',')[0x0]:userID,_0x24de7f=new URL(_0x1d2bd9[_0x2e583e(0x1ff)]),_0xf5d000=_0x1d2bd9[_0x2e583e(0x1cf)][_0x2e583e(0x184)](_0x2e583e(0x219));if(_0x1d2bd9[_0x2e583e(0x1cf)][_0x2e583e(0x184)]('Upgrade')!=='websocket')switch(_0x24de7f[_0x2e583e(0x1f0)]){case _0x2e583e(0x1fa):return new Response(JSON['stringify'](_0x1d2bd9['cf'],null,0x4),{'status':0xc8,'headers':{'Content-Type':'application/json;charset=utf-8'}});case'/'+_0x937785:return new Response(getConfig(userID,_0xf5d000),{'status':0xc8,'headers':{'Content-Type':_0x2e583e(0x176)}});case _0x2e583e(0x1bf)+_0x937785:return new Response(btoa(GenSub(userID,_0xf5d000)),{'status':0xc8,'headers':{'Content-Type':'text/plain;charset=utf-8'}});case'/bestip/'+_0x937785:return fetch(_0x2e583e(0x1c9)+_0xf5d000+_0x2e583e(0x22c)+userID+_0x2e583e(0x1b6),{'headers':_0x1d2bd9[_0x2e583e(0x1cf)]});default:return handleDefaultPath(_0x24de7f,_0x1d2bd9);}else return await ProtocolOverWSHandler(_0x1d2bd9);}catch(_0x2d6f30){return new Response(_0x2d6f30[_0x2e583e(0x187)]());}}};async function handleDefaultPath(_0x2773d7,_0x197c8e){const _0x8b423a=a0_0x5ae4af,_0x41261f=hostnames[Math[_0x8b423a(0x1be)](Math[_0x8b423a(0x196)]()*hostnames[_0x8b423a(0x20d)])],_0x309dac=new Headers(_0x197c8e['headers']);_0x309dac[_0x8b423a(0x17d)](_0x8b423a(0x1ef),_0x8b423a(0x237)),_0x309dac['set']('x-forwarded-for',_0x8b423a(0x237)),_0x309dac[_0x8b423a(0x17d)](_0x8b423a(0x1fc),_0x8b423a(0x237)),_0x309dac['set'](_0x8b423a(0x212),_0x8b423a(0x247));const _0x38c237=_0x8b423a(0x198)+_0x41261f+_0x2773d7['pathname']+_0x2773d7['search'],_0x37621d=new Request(_0x38c237,{'method':_0x197c8e[_0x8b423a(0x1e2)],'headers':_0x309dac,'body':_0x197c8e['body'],'redirect':_0x8b423a(0x22b)}),_0x5b3c9=await fetch(_0x37621d,{'redirect':_0x8b423a(0x22b)});if([0x12d,0x12e][_0x8b423a(0x1a3)](_0x5b3c9[_0x8b423a(0x1df)]))return new Response(_0x8b423a(0x1a7)+_0x41261f+'\x20are\x20not\x20allowed.',{'status':0x193,'statusText':'Forbidden'});return _0x5b3c9;}async function ProtocolOverWSHandler(_0xcbe16){const _0x5cf5b8=a0_0x5ae4af,_0x41e4e8=new WebSocketPair(),[_0x4ef84b,_0x22666a]=Object['values'](_0x41e4e8);_0x22666a[_0x5cf5b8(0x1bb)]();let _0x18de1d='',_0x2f7395='';const _0x54141a=(_0x3d0e84,_0x2a479a)=>{const _0x5b863e=_0x5cf5b8;console[_0x5b863e(0x19f)]('['+_0x18de1d+':'+_0x2f7395+']\x20'+_0x3d0e84,_0x2a479a||'');},_0x3b2628=_0xcbe16[_0x5cf5b8(0x1cf)][_0x5cf5b8(0x184)]('sec-websocket-protocol')||'',_0x238be3=makeReadableWebSocketStream(_0x22666a,_0x3b2628,_0x54141a);let _0x46483b={'value':null},_0xb82367=![];return _0x238be3[_0x5cf5b8(0x19e)](new WritableStream({async 'write'(_0x3bb7f7,_0x1eb044){const _0x2052fd=_0x5cf5b8;if(_0xb82367)return await handleDNSQuery(_0x3bb7f7,_0x22666a,null,_0x54141a);if(_0x46483b[_0x2052fd(0x1a5)]){const _0x31f2a8=_0x46483b[_0x2052fd(0x1a5)][_0x2052fd(0x1fd)]['getWriter']();await _0x31f2a8[_0x2052fd(0x202)](_0x3bb7f7),_0x31f2a8['releaseLock']();return;}const {hasError:_0x3f6b33,message:_0x4e08df,addressType:_0x1abd77,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x173a95,ProtocolVersion:ProtocolVersion=new Uint8Array([0x0,0x0]),isUDP:_0x590c39}=processProtocolHeader(_0x3bb7f7,userID);_0x18de1d=addressRemote,_0x2f7395=portRemote+'--'+Math[_0x2052fd(0x196)]()+'\x20'+(_0x590c39?_0x2052fd(0x19d):'tcp\x20')+'\x20';if(_0x3f6b33){throw new Error(_0x4e08df);return;}if(_0x590c39){if(portRemote===0x35)_0xb82367=!![];else{throw new Error('UDP\x20proxy\x20only\x20enable\x20for\x20DNS\x20which\x20is\x20port\x2053');return;}}const _0x519d07=new Uint8Array([ProtocolVersion[0x0],0x0]),_0x3bb2a1=_0x3bb7f7['slice'](_0x173a95);if(_0xb82367)return handleDNSQuery(_0x3bb2a1,_0x22666a,_0x519d07,_0x54141a);handleTCPOutBound(_0x46483b,_0x1abd77,addressRemote,portRemote,_0x3bb2a1,_0x22666a,_0x519d07,_0x54141a);},'close'(){_0x54141a('readableWebSocketStream\x20is\x20close');},'abort'(_0x546014){const _0x5c44c3=_0x5cf5b8;_0x54141a(_0x5c44c3(0x205),JSON[_0x5c44c3(0x23c)](_0x546014));}}))[_0x5cf5b8(0x244)](_0xd369f8=>{const _0x46d66b=_0x5cf5b8;_0x54141a(_0x46d66b(0x224),_0xd369f8);}),new Response(null,{'status':0x65,'webSocket':_0x4ef84b});}async function trojanOverWSHandler(_0x2e9c4a){const _0x4be1da=a0_0x5ae4af,_0x7f4bf7=new WebSocketPair(),[_0x22c8ee,_0x5702a7]=Object[_0x4be1da(0x1b7)](_0x7f4bf7);_0x5702a7[_0x4be1da(0x1bb)]();let _0x24d226='',_0x145f87='';const _0x542b44=(_0x466fce,_0x4466ea)=>{const _0x282c5e=_0x4be1da;console[_0x282c5e(0x19f)]('['+_0x24d226+':'+_0x145f87+']\x20'+_0x466fce,_0x4466ea||'');},_0x30484e=_0x2e9c4a[_0x4be1da(0x1cf)][_0x4be1da(0x184)]('sec-websocket-protocol')||'',_0xea43b2=makeReadableWebSocketStream(_0x5702a7,_0x30484e,_0x542b44);let _0x40173f={'value':null},_0x147a95=null;return _0xea43b2[_0x4be1da(0x19e)](new WritableStream({async 'write'(_0x5738dc,_0x13cdbc){const _0x2ce066=_0x4be1da;if(_0x147a95)return _0x147a95(_0x5738dc);if(_0x40173f[_0x2ce066(0x1a5)]){const _0x590ab9=_0x40173f[_0x2ce066(0x1a5)][_0x2ce066(0x1fd)][_0x2ce066(0x1ee)]();await _0x590ab9[_0x2ce066(0x202)](_0x5738dc),_0x590ab9[_0x2ce066(0x1ec)]();return;}const {hasError:_0x7aa4f2,message:_0x459e7a,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawClientData:_0x176da4,addressType:_0x30c713}=await parseTrojanHeader(_0x5738dc);_0x24d226=addressRemote,_0x145f87=portRemote+'--'+Math['random']()+_0x2ce066(0x16a);if(_0x7aa4f2){throw new Error(_0x459e7a);return;}handleTCPOutBound(_0x40173f,addressRemote,portRemote,_0x176da4,_0x5702a7,_0x542b44,_0x30c713);},'close'(){_0x542b44('readableWebSocketStream\x20is\x20closed');},'abort'(_0xd8fbf6){const _0x4151f0=_0x4be1da;_0x542b44(_0x4151f0(0x233),JSON[_0x4151f0(0x23c)](_0xd8fbf6));}}))[_0x4be1da(0x244)](_0xa32ff3=>{_0x542b44('readableWebSocketStream\x20pipeTo\x20error',_0xa32ff3);}),new Response(null,{'status':0x65,'webSocket':_0x22c8ee});}async function handleTCPOutBound(_0x529359,_0x12a1cc,_0x3fcb2a,_0x541288,_0x311284,_0xc0e9c5,_0x56d8ff,_0x42b184){async function _0x1554b3(_0x87453,_0x2c1376,_0x389132=![]){const _0x1844b6=a0_0x10e5;let _0x24551c;socks5Relay?_0x24551c=await socks5Connect(_0x12a1cc,_0x87453,_0x2c1376,_0x42b184):_0x24551c=_0x389132?await socks5Connect(_0x12a1cc,_0x87453,_0x2c1376,_0x42b184):connect({'hostname':_0x87453,'port':_0x2c1376});_0x529359[_0x1844b6(0x1a5)]=_0x24551c,_0x42b184(_0x1844b6(0x18c)+_0x87453+':'+_0x2c1376);const _0x5b6f54=_0x24551c[_0x1844b6(0x1fd)]['getWriter']();return await _0x5b6f54['write'](_0x311284),_0x5b6f54[_0x1844b6(0x1ec)](),_0x24551c;}async function _0x443597(){const _0x5ab4a4=a0_0x10e5;enableSocks?_0x41cf38=await _0x1554b3(_0x3fcb2a,_0x541288,!![]):_0x41cf38=await _0x1554b3(proxyIP||_0x3fcb2a,_0x541288),_0x41cf38['closed'][_0x5ab4a4(0x244)](_0xb63f37=>{const _0x523b66=_0x5ab4a4;console[_0x523b66(0x19f)](_0x523b66(0x235),_0xb63f37);})[_0x5ab4a4(0x1f1)](()=>{safeCloseWebSocket(_0xc0e9c5);}),remoteSocketToWS(_0x41cf38,_0xc0e9c5,_0x56d8ff,null,_0x42b184);}let _0x41cf38=await _0x1554b3(_0x3fcb2a,_0x541288);remoteSocketToWS(_0x41cf38,_0xc0e9c5,_0x56d8ff,_0x443597,_0x42b184);}function makeReadableWebSocketStream(_0x521db5,_0xcede06,_0x4850bd){let _0x2e5962=![];const _0x15e5a8=new ReadableStream({'start'(_0x1d6fb9){const _0x2ab2bd=a0_0x10e5;_0x521db5['addEventListener']('message',_0x5eb1a5=>{const _0x15f9c9=a0_0x10e5,_0x10d1ba=_0x5eb1a5[_0x15f9c9(0x210)];_0x1d6fb9[_0x15f9c9(0x1bc)](_0x10d1ba);}),_0x521db5[_0x2ab2bd(0x186)]('close',()=>{safeCloseWebSocket(_0x521db5),_0x1d6fb9['close']();}),_0x521db5[_0x2ab2bd(0x186)](_0x2ab2bd(0x239),_0x368eb2=>{const _0x548012=_0x2ab2bd;_0x4850bd(_0x548012(0x197)),_0x1d6fb9[_0x548012(0x239)](_0x368eb2);});const {earlyData:_0x358da1,error:_0x178a7a}=base64ToArrayBuffer(_0xcede06);if(_0x178a7a)_0x1d6fb9[_0x2ab2bd(0x239)](_0x178a7a);else _0x358da1&&_0x1d6fb9['enqueue'](_0x358da1);},'pull'(_0x37b75a){},'cancel'(_0xa5c0f5){_0x4850bd('ReadableStream\x20was\x20canceled,\x20due\x20to\x20'+_0xa5c0f5),_0x2e5962=!![],safeCloseWebSocket(_0x521db5);}});return _0x15e5a8;}function processProtocolHeader(_0x15f3d2,_0x528d33){const _0x13d4fb=a0_0x5ae4af;if(_0x15f3d2[_0x13d4fb(0x1e6)]<0x18)return{'hasError':!![],'message':_0x13d4fb(0x22e)};const _0x33cb1e=new DataView(_0x15f3d2),_0x504926=_0x33cb1e[_0x13d4fb(0x1af)](0x0),_0x356d25=stringify(new Uint8Array(_0x15f3d2[_0x13d4fb(0x23d)](0x1,0x11))),_0x2406fb=_0x528d33[_0x13d4fb(0x1a3)](',')?_0x528d33[_0x13d4fb(0x21f)](','):[_0x528d33],_0x2484a7=_0x2406fb['some'](_0x2dd59d=>_0x356d25===_0x2dd59d[_0x13d4fb(0x1b2)]())||_0x2406fb[_0x13d4fb(0x20d)]===0x1&&_0x356d25===_0x2406fb[0x0][_0x13d4fb(0x1b2)]();console[_0x13d4fb(0x19f)](_0x13d4fb(0x21b)+_0x356d25);if(!_0x2484a7)return{'hasError':!![],'message':_0x13d4fb(0x18d)};const _0x260628=_0x33cb1e[_0x13d4fb(0x1af)](0x11),_0x1b6af2=_0x33cb1e[_0x13d4fb(0x1af)](0x12+_0x260628);if(_0x1b6af2!==0x1&&_0x1b6af2!==0x2)return{'hasError':!![],'message':_0x13d4fb(0x1a4)+_0x1b6af2+'\x20is\x20not\x20supported,\x20command\x2001-tcp,02-udp,03-mux'};const _0x27e4bc=0x12+_0x260628+0x1,_0x36be83=_0x33cb1e[_0x13d4fb(0x1c6)](_0x27e4bc),_0x40e4d5=_0x33cb1e[_0x13d4fb(0x1af)](_0x27e4bc+0x2);let _0x231c06,_0x23c809,_0xf38138;switch(_0x40e4d5){case 0x1:_0x23c809=0x4,_0xf38138=_0x27e4bc+0x3,_0x231c06=new Uint8Array(_0x15f3d2[_0x13d4fb(0x23d)](_0xf38138,_0xf38138+_0x23c809))[_0x13d4fb(0x180)]('.');break;case 0x2:_0x23c809=_0x33cb1e['getUint8'](_0x27e4bc+0x3),_0xf38138=_0x27e4bc+0x4,_0x231c06=new TextDecoder()[_0x13d4fb(0x1ab)](_0x15f3d2['slice'](_0xf38138,_0xf38138+_0x23c809));break;case 0x3:_0x23c809=0x10,_0xf38138=_0x27e4bc+0x3,_0x231c06=Array['from']({'length':0x8},(_0x5c26d3,_0x462421)=>_0x33cb1e[_0x13d4fb(0x1c6)](_0xf38138+_0x462421*0x2)[_0x13d4fb(0x187)](0x10))[_0x13d4fb(0x180)](':');break;default:return{'hasError':!![],'message':_0x13d4fb(0x1ea)+_0x40e4d5};}if(!_0x231c06)return{'hasError':!![],'message':_0x13d4fb(0x17c)+_0x40e4d5};return{'hasError':![],'addressRemote':_0x231c06,'addressType':_0x40e4d5,'portRemote':_0x36be83,'rawDataIndex':_0xf38138+_0x23c809,'protocolVersion':new Uint8Array([_0x504926]),'isUDP':_0x1b6af2===0x2};}async function remoteSocketToWS(_0x2e783d,_0x1c9482,_0x403dd5,_0x27cda0,_0x240c7b){const _0x560a80=a0_0x5ae4af;let _0x3412df=![];try{await _0x2e783d[_0x560a80(0x1cb)][_0x560a80(0x19e)](new WritableStream({async 'write'(_0x237f99){const _0x3f76ca=_0x560a80;if(_0x1c9482[_0x3f76ca(0x195)]!==WS_READY_STATE_OPEN)throw new Error('WebSocket\x20is\x20not\x20open');_0x3412df=!![],_0x403dd5?(_0x1c9482['send'](await new Blob([_0x403dd5,_0x237f99])[_0x3f76ca(0x1ca)]()),_0x403dd5=null):_0x1c9482[_0x3f76ca(0x1f8)](_0x237f99);},'close'(){const _0x1c26d2=_0x560a80;_0x240c7b(_0x1c26d2(0x1dd)+_0x3412df);},'abort'(_0x2475a2){const _0x21bf9e=_0x560a80;console[_0x21bf9e(0x239)](_0x21bf9e(0x17f),_0x2475a2);}}));}catch(_0x25ed38){console[_0x560a80(0x239)](_0x560a80(0x21d),_0x25ed38[_0x560a80(0x1d4)]||_0x25ed38),safeCloseWebSocket(_0x1c9482);}!_0x3412df&&_0x27cda0&&(_0x240c7b(_0x560a80(0x209)),await _0x27cda0());}function a0_0x2886(){const _0x141c37=['www.ttpaihang.com','connected\x20to\x20','invalid\x20user','\x0a\x20\x20<html>\x0a\x20\x20','tlsSettings','-HTTP-','440924worcso','64612dlsciv','www.imgo.tv','Invalid\x20URL\x20format','readyState','random','webSocketServer\x20has\x20error','https://','?encryption=none&security=none&fp=random&type=ws&host=','\x20expected:\x205','dmxlc3M=','\x0a\x20\x20<body>\x0a\x20\x20\x20\x20','udp\x20','pipeTo','log',')\x20tcp\x20is\x20abort','\x22)\x27><i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','www.hupu.com','includes','command\x20','value','3220893QNcvoT','Redirects\x20to\x20','www.qidian.com','dns\x20udp\x20has\x20error','dns\x20server(','decode','www.toutiao.com','uuid\x20is\x20not\x20valid','www.youth.cn','getUint8','www.jd.com','message','trim','pop','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Clash\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','933472AXbHgH','&path=/','values','flatMap','byteOffset','www.so.com','accept','enqueue','www.autohome.com.cn','floor','/sub/','www.aipai.com','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x20config-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2>UUID:\x20','8.8.4.4','sent\x20socks\x20greeting','DomainName','Usupported\x20security\x20layer:\x20','getUint16','&fp=randomized&type=ws&host=','IPv6','https://sub.xf.free.hr/auto?host=','arrayBuffer','readable','?ed=2048','Unsupported\x20outbound\x20stream\x20method:\x20','www.panda.tv','headers','www.zhaopin.com','no\x20acceptable\x20methods','&insert=false&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','IPv4','stack','encode','www.ifeng.com','www.51cto.com','QA==','none','invild\x20\x20addressType\x20is\x20','Unknown\x20address\x20type:\x20','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Clash\x20Link</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','Remote\x20connection\x20readable\x20closed.\x20Had\x20incoming\x20data:\x20','from','status','-HTTPS-','www.toutiao.io','method','Invalid\x20password','socks\x20server\x20needs\x20auth','www.xunlei.com','byteLength',':443?encryption=none&security=tls&sni=','www.cntv.cn','?format=clash','invalid\x20addressType:\x20',',\x20has\x20to\x20be\x20ws\x20(Websocket)','releaseLock','www.tudou.com','getWriter','cf-connecting-ip','pathname','finally','POST','&path=%2F%3Fed%3D2048#','security','\x0a\x20\x20\x20\x20','replace','Invalid\x20header\x20format\x20(missing\x20CR\x20LF)','send','Unsupported\x20command,\x20only\x20TCP\x20(CONNECT)\x20is\x20allowed','/cf','www.xueqiu.com','x-real-ip','writable','www.zhihu.com','url','Stringified\x20UUID\x20is\x20invalid','sha224','write','www.ctrip.com','\x22)\x27><i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Best\x20IP\x20Configuration</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22code-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre><code>','readableWebSocketStream\x20is\x20abort','wsSettings','://','forEach','No\x20incoming\x20data,\x20retrying','www.wechat.com','www.sohu.com','network','length','handleDNSQuery\x20have\x20exception,\x20error:\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20<h1>EDtunnel:\x20Protocol\x20Configuration</h1>\x0a\x20\x20\x20\x20\x20\x20<img\x20src=\x22https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x22\x20alt=\x22EDtunnel\x20Logo\x22\x20class=\x22logo\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Welcome!\x20This\x20function\x20generates\x20configuration\x20for\x20the\x20vless\x20protocol.\x20If\x20you\x20found\x20this\x20useful,\x20please\x20check\x20our\x20GitHub\x20project:</p>\x0a\x20\x20\x20\x20\x20\x20<p><a\x20href=\x22https://github.com/6Kmfi6HP/EDtunnel\x22\x20target=\x22_blank\x22\x20style=\x22color:\x20#00ff00;\x22>EDtunnel\x20-\x20https://github.com/6Kmfi6HP/EDtunnel</a></p>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22clear:\x20both;\x22></div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22btn-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22//','data','substr','referer','/\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image\x27\x20content=\x27https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:card\x27\x20content=\x27summary_large_image\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:title\x27\x20content=\x27EDtunnel\x20-\x20Protocol\x20Configuration\x20and\x20Subscribe\x20Output\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:description\x27\x20content=\x27Use\x20Cloudflare\x20Pages\x20and\x20Worker\x20serverless\x20to\x20implement\x20protocol\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:url\x27\x20content=\x27https://','www.tiktok.com','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Default\x20IP\x20Configuration</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22code-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre><code>','www.tmtpost.com','www.youku.com','fail\x20to\x20auth\x20socks\x20server','Host','7iqilNQ','userID:\x20','\x0a\x20\x20<head>\x0a\x20\x20\x20\x20<title>EDtunnel:\x20Configuration</title>\x0a\x20\x20\x20\x20<meta\x20name=\x27viewport\x27\x20content=\x27width=device-width,\x20initial-scale=1\x27>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:site_name\x27\x20content=\x27EDtunnel:\x20Protocol\x20Configuration\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:type\x27\x20content=\x27website\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:title\x27\x20content=\x27EDtunnel\x20-\x20Protocol\x20Configuration\x20and\x20Subscribe\x20Output\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:description\x27\x20content=\x27Use\x20Cloudflare\x20Pages\x20and\x20Worker\x20serverless\x20to\x20implement\x20protocol\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:url\x27\x20content=\x27https://','remoteSocketToWS\x20error:','safeCloseWebSocket\x20error:','split','www.baidu.com','145810SbxThs','/\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:image\x27\x20content=\x27https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image:width\x27\x20content=\x271500\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image:height\x27\x20content=\x271500\x27\x20/>\x0a\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Roboto\x27,\x20\x27Segoe\x20UI\x27,\x20Tahoma,\x20Geneva,\x20Verdana,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#000000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x201200px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#111111;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x206px\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20h1,\x20h2\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.config-item\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#222222;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.config-item\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn-group\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20pre\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20white-space:\x20pre-wrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20word-wrap:\x20break-word;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#00ff00;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.logo\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20float:\x20left;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x09\x09max-width:\x2030%;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20.logo\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x2090%;\x20/*\x20Adjust\x20the\x20max-width\x20to\x20fit\x20within\x20the\x20container\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.btn-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.btn-group\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.code-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.code-container\x20pre\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-right:\x20100px;\x20/*\x20Make\x20space\x20for\x20the\x20button\x20*/\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.copy-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#222222;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20ul\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-left:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20li\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\x22>\x0a\x20\x20</head>\x0a\x20\x20','test','readableWebSocketStream\x20pipeTo\x20error','www.netease.com','www.dianping.com','www.qqgongyi.com','392040alViWa','Invalid\x20SOCKS\x20address\x20format','www.csdn.net','manual','&uuid=','3.1.243.149','invalid\x20data','map','www.secoo.com','www.liepin.com','www.hao123.com','readableWebSocketStream\x20is\x20aborted','queryParams','retry\x20tcpSocket\x20closed\x20error',')\x20tcp\x20is\x20close','1.2.3.4','www.qq.com','error','www.cnblogs.com','www.360.cn','stringify','slice','www.zol.com.cn','3780032jHEawv','&path=','www.jianshu.com','www.douban.com','getReader','catch','socks\x20server\x20version\x20error:\x20','fail\x20to\x20open\x20socks\x20connection','https://www.google.com/search?q=edtunnel','www.bilibili.com','weibo.com',',\x20has\x20to\x20be\x20none\x20or\x20tls.','\x20tcp','</code></pre>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20copy-btn\x22\x20onclick=\x27copyToClipboard(\x22','toLowerCase','doh\x20success\x20and\x20dns\x20message\x20length\x20is\x20','www.quyaoya.com','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-star\x22></i>\x20Best\x20IP\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22subscription-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Options\x20Explained:</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>VLESS\x20Subscription:</strong>\x20Direct\x20link\x20for\x20VLESS\x20protocol\x20configuration.\x20Suitable\x20for\x20clients\x20supporting\x20VLESS.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Clash\x20Subscription:</strong>\x20Opens\x20the\x20Clash\x20client\x20with\x20pre-configured\x20settings.\x20Best\x20for\x20Clash\x20users\x20on\x20mobile\x20devices.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Clash\x20Link:</strong>\x20A\x20web\x20link\x20to\x20convert\x20the\x20VLESS\x20config\x20to\x20Clash\x20format.\x20Useful\x20for\x20manual\x20import\x20or\x20troubleshooting.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Best\x20IP\x20Subscription:</strong>\x20Provides\x20a\x20curated\x20list\x20of\x20optimal\x20server\x20IPs\x20for\x20many\x20<b>different\x20countries</b>.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Choose\x20the\x20option\x20that\x20best\x20fits\x20your\x20client\x20and\x20needs.\x20For\x20most\x20users,\x20the\x20VLESS\x20or\x20Clash\x20Subscription\x20will\x20be\x20the\x20easiest\x20to\x20use.</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','www.tmall.com','https://url.v1.mk/sub?target=clash&url=','15rDXfyW','www.zhangzishi.cc','sent\x20socks\x20request','3KEBJaf','text/html;\x20charset=utf-8','www.881903.com','substring','The\x20Host\x20field\x20in\x20the\x20http\x20header\x20is\x20different\x20from\x20the\x20server\x20address,\x20this\x20is\x20unsupported\x20due\x20to\x20Cloudflare\x20API\x20restrictions','www.renren.com','RUR0dW5uZWw=','addressValue\x20is\x20empty,\x20addressType\x20is\x20','set','www.ximalaya.com','Remote\x20connection\x20readable\x20aborted:','join','www.pconline.com.cn','buffer','www.58.com','get','read','addEventListener','toString','close','www.xinhuanet.com','please\x20provide\x20username/password'];a0_0x2886=function(){return _0x141c37;};return a0_0x2886();}function a0_0x10e5(_0x48fc4f,_0x3685da){const _0x288631=a0_0x2886();return a0_0x10e5=function(_0x10e576,_0x280f44){_0x10e576=_0x10e576-0x167;let _0x192961=_0x288631[_0x10e576];return _0x192961;},a0_0x10e5(_0x48fc4f,_0x3685da);}function base64ToArrayBuffer(_0x485e21){const _0x19adc9=a0_0x5ae4af;if(!_0x485e21)return{'earlyData':null,'error':null};try{_0x485e21=_0x485e21[_0x19adc9(0x1f6)](/-/g,'+')[_0x19adc9(0x1f6)](/_/g,'/');const _0x2a0d57=atob(_0x485e21),_0x2d1ece=new ArrayBuffer(_0x2a0d57[_0x19adc9(0x20d)]),_0x4a7ab0=new Uint8Array(_0x2d1ece);for(let _0x107c17=0x0;_0x107c17<_0x2a0d57['length'];_0x107c17++){_0x4a7ab0[_0x107c17]=_0x2a0d57['charCodeAt'](_0x107c17);}return{'earlyData':_0x2d1ece,'error':null};}catch(_0x394eff){return{'earlyData':null,'error':_0x394eff};}}function isValidUUID(_0x2a99c1){const _0x21d92d=a0_0x5ae4af,_0x3c8079=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x3c8079[_0x21d92d(0x223)](_0x2a99c1);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x3e854e){const _0xa92496=a0_0x5ae4af;try{(_0x3e854e['readyState']===WS_READY_STATE_OPEN||_0x3e854e[_0xa92496(0x195)]===WS_READY_STATE_CLOSING)&&_0x3e854e[_0xa92496(0x188)]();}catch(_0x207151){console[_0xa92496(0x239)](_0xa92496(0x21e),_0x207151);}}const byteToHex=Array[a0_0x5ae4af(0x1de)]({'length':0x100},(_0x236b2c,_0x12e2ed)=>(_0x12e2ed+0x100)[a0_0x5ae4af(0x187)](0x10)[a0_0x5ae4af(0x23d)](0x1));function unsafeStringify(_0xfd83f,_0x1faacf=0x0){const _0x3bf733=a0_0x5ae4af;return[byteToHex[_0xfd83f[_0x1faacf]],byteToHex[_0xfd83f[_0x1faacf+0x1]],byteToHex[_0xfd83f[_0x1faacf+0x2]],byteToHex[_0xfd83f[_0x1faacf+0x3]],'-',byteToHex[_0xfd83f[_0x1faacf+0x4]],byteToHex[_0xfd83f[_0x1faacf+0x5]],'-',byteToHex[_0xfd83f[_0x1faacf+0x6]],byteToHex[_0xfd83f[_0x1faacf+0x7]],'-',byteToHex[_0xfd83f[_0x1faacf+0x8]],byteToHex[_0xfd83f[_0x1faacf+0x9]],'-',byteToHex[_0xfd83f[_0x1faacf+0xa]],byteToHex[_0xfd83f[_0x1faacf+0xb]],byteToHex[_0xfd83f[_0x1faacf+0xc]],byteToHex[_0xfd83f[_0x1faacf+0xd]],byteToHex[_0xfd83f[_0x1faacf+0xe]],byteToHex[_0xfd83f[_0x1faacf+0xf]]]['join']('')[_0x3bf733(0x16c)]();}function stringify(_0x5953b6,_0x232d98=0x0){const _0x4fc4a7=a0_0x5ae4af,_0x4e8d1f=unsafeStringify(_0x5953b6,_0x232d98);if(!isValidUUID(_0x4e8d1f))throw new TypeError(_0x4fc4a7(0x200));return _0x4e8d1f;}async function handleUDPOutBound(_0x3715e0,_0x483e40,_0x412faf){const _0x2aeebc=a0_0x5ae4af;let _0x4eed09=![];const _0x3a26ab=new TransformStream({'start'(_0x133bd1){},'transform'(_0x540e41,_0x3ed015){const _0x2e0bf6=a0_0x10e5;for(let _0x201117=0x0;_0x201117<_0x540e41[_0x2e0bf6(0x1e6)];){const _0x1014b4=_0x540e41[_0x2e0bf6(0x23d)](_0x201117,_0x201117+0x2),_0x46da4c=new DataView(_0x1014b4)['getUint16'](0x0),_0x527ae5=new Uint8Array(_0x540e41[_0x2e0bf6(0x23d)](_0x201117+0x2,_0x201117+0x2+_0x46da4c));_0x201117=_0x201117+0x2+_0x46da4c,_0x3ed015[_0x2e0bf6(0x1bc)](_0x527ae5);}},'flush'(_0x391e62){}});_0x3a26ab[_0x2aeebc(0x1cb)][_0x2aeebc(0x19e)](new WritableStream({async 'write'(_0x31a67b){const _0x5f2a4a=_0x2aeebc,_0x4ce45f=await fetch(dohURL,{'method':_0x5f2a4a(0x1f2),'headers':{'content-type':'application/dns-message'},'body':_0x31a67b}),_0x43f47b=await _0x4ce45f[_0x5f2a4a(0x1ca)](),_0x31a983=_0x43f47b[_0x5f2a4a(0x1e6)],_0x5a836f=new Uint8Array([_0x31a983>>0x8&0xff,_0x31a983&0xff]);_0x3715e0['readyState']===WS_READY_STATE_OPEN&&(_0x412faf(_0x5f2a4a(0x16d)+_0x31a983),_0x4eed09?_0x3715e0[_0x5f2a4a(0x1f8)](await new Blob([_0x5a836f,_0x43f47b])[_0x5f2a4a(0x1ca)]()):(_0x3715e0[_0x5f2a4a(0x1f8)](await new Blob([_0x483e40,_0x5a836f,_0x43f47b])[_0x5f2a4a(0x1ca)]()),_0x4eed09=!![]));}}))[_0x2aeebc(0x244)](_0x1ce3a9=>{const _0x35e7d2=_0x2aeebc;_0x412faf(_0x35e7d2(0x1a9)+_0x1ce3a9);});const _0x22bc8c=_0x3a26ab[_0x2aeebc(0x1fd)]['getWriter']();return{'write'(_0x4a4962){const _0x5502f0=_0x2aeebc;_0x22bc8c[_0x5502f0(0x202)](_0x4a4962);}};}async function handleDNSQuery(_0x44a5c9,_0x1ac472,_0x20794b,_0x119c7f){const _0x270710=a0_0x5ae4af;try{const _0x38b5e1=_0x270710(0x1c2),_0x2a3e84=0x35;let _0x144a49=_0x20794b;const _0x27e7c6=connect({'hostname':_0x38b5e1,'port':_0x2a3e84});_0x119c7f(_0x270710(0x18c)+_0x38b5e1+':'+_0x2a3e84);const _0xd37469=_0x27e7c6['writable'][_0x270710(0x1ee)]();await _0xd37469[_0x270710(0x202)](_0x44a5c9),_0xd37469['releaseLock'](),await _0x27e7c6[_0x270710(0x1cb)]['pipeTo'](new WritableStream({async 'write'(_0x368a15){const _0x16150c=_0x270710;_0x1ac472[_0x16150c(0x195)]===WS_READY_STATE_OPEN&&(_0x144a49?(_0x1ac472[_0x16150c(0x1f8)](await new Blob([_0x144a49,_0x368a15])[_0x16150c(0x1ca)]()),_0x144a49=null):_0x1ac472['send'](_0x368a15));},'close'(){const _0x51945e=_0x270710;_0x119c7f(_0x51945e(0x1aa)+_0x38b5e1+_0x51945e(0x236));},'abort'(_0x2987da){const _0x2bf7b0=_0x270710;console[_0x2bf7b0(0x239)]('dns\x20server('+_0x38b5e1+_0x2bf7b0(0x1a0),_0x2987da);}}));}catch(_0x5488da){console[_0x270710(0x239)](_0x270710(0x20e)+_0x5488da[_0x270710(0x1b1)]);}}async function socks5Connect(_0x2e1222,_0x32029e,_0x2776b0,_0x21bc17){const _0x11761c=a0_0x5ae4af,{username:_0x3eb723,password:_0xc6172e,hostname:_0x2c96a2,port:_0xf5236e}=parsedSocks5Address,_0x319ba7=connect({'hostname':_0x2c96a2,'port':_0xf5236e}),_0x3fb0fd=new Uint8Array([0x5,0x2,0x0,0x2]),_0x1d7c91=_0x319ba7[_0x11761c(0x1fd)][_0x11761c(0x1ee)]();await _0x1d7c91['write'](_0x3fb0fd),_0x21bc17(_0x11761c(0x1c3));const _0x1ba823=_0x319ba7[_0x11761c(0x1cb)][_0x11761c(0x243)](),_0x16c643=new TextEncoder();let _0x557a1a=(await _0x1ba823[_0x11761c(0x185)]())[_0x11761c(0x1a5)];if(_0x557a1a[0x0]!==0x5){_0x21bc17(_0x11761c(0x245)+_0x557a1a[0x0]+_0x11761c(0x19a));return;}if(_0x557a1a[0x1]===0xff){_0x21bc17(_0x11761c(0x1d1));return;}if(_0x557a1a[0x1]===0x2){_0x21bc17(_0x11761c(0x1e4));if(!_0x3eb723||!_0xc6172e){_0x21bc17(_0x11761c(0x18a));return;}const _0x935f31=new Uint8Array([0x1,_0x3eb723['length'],..._0x16c643['encode'](_0x3eb723),_0xc6172e['length'],..._0x16c643['encode'](_0xc6172e)]);await _0x1d7c91['write'](_0x935f31),_0x557a1a=(await _0x1ba823[_0x11761c(0x185)]())[_0x11761c(0x1a5)];if(_0x557a1a[0x0]!==0x1||_0x557a1a[0x1]!==0x0){_0x21bc17(_0x11761c(0x218));return;}}let _0x92b270;switch(_0x2e1222){case 0x1:_0x92b270=new Uint8Array([0x1,..._0x32029e[_0x11761c(0x21f)]('.')[_0x11761c(0x22f)](Number)]);break;case 0x2:_0x92b270=new Uint8Array([0x3,_0x32029e['length'],..._0x16c643[_0x11761c(0x1d5)](_0x32029e)]);break;case 0x3:_0x92b270=new Uint8Array([0x4,..._0x32029e['split'](':')['flatMap'](_0xaf5a98=>[parseInt(_0xaf5a98['slice'](0x0,0x2),0x10),parseInt(_0xaf5a98[_0x11761c(0x23d)](0x2),0x10)])]);break;default:_0x21bc17(_0x11761c(0x1da)+_0x2e1222);return;}const _0x3afb04=new Uint8Array([0x5,0x1,0x0,..._0x92b270,_0x2776b0>>0x8,_0x2776b0&0xff]);await _0x1d7c91[_0x11761c(0x202)](_0x3afb04),_0x21bc17(_0x11761c(0x174)),_0x557a1a=(await _0x1ba823[_0x11761c(0x185)]())['value'];if(_0x557a1a[0x1]===0x0)_0x21bc17('socks\x20connection\x20opened');else{_0x21bc17(_0x11761c(0x246));return;}return _0x1d7c91[_0x11761c(0x1ec)](),_0x1ba823[_0x11761c(0x1ec)](),_0x319ba7;}function socks5AddressParser(_0x18a2f8){const _0x32012a=a0_0x5ae4af;let [_0x173f84,_0x69d5c9]=_0x18a2f8[_0x32012a(0x21f)]('@')['reverse'](),_0xe875cb,_0x5db641,_0x514fa9,_0x2ad087;if(_0x69d5c9){const _0x21a0ae=_0x69d5c9[_0x32012a(0x21f)](':');if(_0x21a0ae[_0x32012a(0x20d)]!==0x2)throw new Error('Invalid\x20SOCKS\x20address\x20format');[_0xe875cb,_0x5db641]=_0x21a0ae;}const _0x53f171=_0x173f84[_0x32012a(0x21f)](':');_0x2ad087=Number(_0x53f171[_0x32012a(0x1b3)]());if(isNaN(_0x2ad087))throw new Error(_0x32012a(0x229));_0x514fa9=_0x53f171[_0x32012a(0x180)](':');const _0x35003e=/^\[.*\]$/;if(_0x514fa9[_0x32012a(0x1a3)](':')&&!_0x35003e[_0x32012a(0x223)](_0x514fa9))throw new Error(_0x32012a(0x229));return{'username':_0xe875cb,'password':_0x5db641,'hostname':_0x514fa9,'port':_0x2ad087};}async function parseTrojanHeader(_0x2a4ab8){const _0x19b9b0=a0_0x5ae4af;if(_0x2a4ab8[_0x19b9b0(0x1e6)]<0x3a)return{'hasError':!![],'message':'Invalid\x20data\x20length'};const _0x4edf5e=new DataView(_0x2a4ab8);if(_0x4edf5e[_0x19b9b0(0x1af)](0x38)!==0xd||_0x4edf5e[_0x19b9b0(0x1af)](0x39)!==0xa)return{'hasError':!![],'message':_0x19b9b0(0x1f7)};const _0x2046af=new TextDecoder()['decode'](_0x2a4ab8[_0x19b9b0(0x23d)](0x0,0x38));if(_0x2046af!==Sha256[_0x19b9b0(0x201)](userID))return{'hasError':!![],'message':_0x19b9b0(0x1e3)};const _0x20e205=new DataView(_0x2a4ab8,0x3a);if(_0x20e205[_0x19b9b0(0x1e6)]<0x6)return{'hasError':!![],'message':'Invalid\x20SOCKS5\x20request\x20data'};if(_0x20e205[_0x19b9b0(0x1af)](0x0)!==0x1)return{'hasError':!![],'message':_0x19b9b0(0x1f9)};const _0x5a0b4c=_0x20e205[_0x19b9b0(0x1af)](0x1);let _0x179905,_0x2432f6;switch(_0x5a0b4c){case 0x1:_0x179905=Array[_0x19b9b0(0x1de)](new Uint8Array(_0x20e205[_0x19b9b0(0x182)],_0x20e205[_0x19b9b0(0x1b9)]+0x2,0x4))[_0x19b9b0(0x180)]('.'),_0x2432f6=0x6;break;case 0x3:const _0x2855e9=_0x20e205[_0x19b9b0(0x1af)](0x2);_0x179905=new TextDecoder()['decode'](_0x20e205[_0x19b9b0(0x182)][_0x19b9b0(0x23d)](_0x20e205[_0x19b9b0(0x1b9)]+0x3,_0x20e205[_0x19b9b0(0x1b9)]+0x3+_0x2855e9)),_0x2432f6=0x3+_0x2855e9;break;case 0x4:_0x179905=Array[_0x19b9b0(0x1de)](new Uint8Array(_0x20e205[_0x19b9b0(0x182)],_0x20e205['byteOffset']+0x2,0x10))[_0x19b9b0(0x22f)](_0x36e95b=>_0x36e95b[_0x19b9b0(0x187)](0x10)['padStart'](0x2,'0'))[_0x19b9b0(0x180)](':')['replace'](/(:0)+:/,'::'),_0x2432f6=0x12;break;default:return{'hasError':!![],'message':'Invalid\x20address\x20type:\x20'+_0x5a0b4c};}const _0x744f24=_0x20e205[_0x19b9b0(0x1c6)](_0x2432f6);return{'hasError':![],'address':_0x179905,'port':_0x744f24,'data':_0x2a4ab8['slice'](0x3a+_0x2432f6+0x2)};}const VlessCmd={'TCP':0x1,'UDP':0x2,'MUX':0x3},VlessAddrType={'IPv4':0x1,'DomainName':0x2,'IPv6':0x3};function makeVlessReqHeader(_0x1027c6,_0x438bb9,_0x4007b9,_0x1fd40e,_0x1ef9a0){const _0x109fca=a0_0x5ae4af;let _0x411c6a,_0x2c0f37;switch(_0x438bb9){case VlessAddrType[_0x109fca(0x1d3)]:_0x411c6a=0x4;break;case VlessAddrType[_0x109fca(0x1c4)]:_0x2c0f37=new TextEncoder()[_0x109fca(0x1d5)](_0x4007b9),_0x411c6a=_0x2c0f37[_0x109fca(0x20d)]+0x1;break;case VlessAddrType['IPv6']:_0x411c6a=0x10;break;default:throw new Error(_0x109fca(0x1db)+_0x438bb9);}const _0xf8a4d7=_0x1ef9a0[_0x109fca(0x1f6)](/-/g,''),_0x2acf55=0x1,_0x590eba=new Uint8Array(0x16+_0x411c6a);_0x590eba[0x0]=0x0;for(let _0x44fa21=0x0;_0x44fa21<_0xf8a4d7[_0x109fca(0x20d)];_0x44fa21+=0x2){_0x590eba[_0x2acf55+_0x44fa21/0x2]=parseInt(_0xf8a4d7[_0x109fca(0x211)](_0x44fa21,0x2),0x10);}_0x590eba[0x11]=0x0,_0x590eba[0x12]=_0x1027c6,_0x590eba[0x13]=_0x1fd40e>>0x8,_0x590eba[0x14]=_0x1fd40e&0xff,_0x590eba[0x15]=_0x438bb9;switch(_0x438bb9){case VlessAddrType['IPv4']:const _0x53416b=_0x4007b9[_0x109fca(0x21f)]('.');for(let _0x420c9f=0x0;_0x420c9f<0x4;_0x420c9f++){_0x590eba[0x16+_0x420c9f]=parseInt(_0x53416b[_0x420c9f]);}break;case VlessAddrType[_0x109fca(0x1c4)]:_0x590eba[0x16]=_0x2c0f37[_0x109fca(0x20d)],_0x590eba[_0x109fca(0x17d)](_0x2c0f37,0x17);break;case VlessAddrType[_0x109fca(0x1c8)]:const _0x158e8f=ipv6['split'](':');for(let _0x128b18=0x0;_0x128b18<0x8;_0x128b18++){const _0x590346=parseInt(_0x158e8f[_0x128b18],0x10);_0x590eba[_0x128b18*0x2+0x16]=_0x590346>>0x8,_0x590eba[_0x128b18*0x2+0x17]=_0x590346&0xff;}break;default:throw new Error(_0x109fca(0x1db)+_0x438bb9);}return _0x590eba;}function checkVlessConfig(_0x22a2c5,_0x36d3b8){const _0x4bb87e=a0_0x5ae4af;if(_0x36d3b8[_0x4bb87e(0x20c)]!=='ws')throw new Error(_0x4bb87e(0x1cd)+_0x36d3b8[_0x4bb87e(0x20c)]+_0x4bb87e(0x1eb));if(_0x36d3b8[_0x4bb87e(0x1f4)]!=='tls'&&_0x36d3b8[_0x4bb87e(0x1f4)]!==_0x4bb87e(0x1d9))throw new Error(_0x4bb87e(0x1c5)+_0x36d3b8[_0x4bb87e(0x20c)]+_0x4bb87e(0x169));if(_0x36d3b8[_0x4bb87e(0x206)]&&_0x36d3b8[_0x4bb87e(0x206)][_0x4bb87e(0x1cf)]&&_0x36d3b8[_0x4bb87e(0x206)][_0x4bb87e(0x1cf)][_0x4bb87e(0x219)]!==_0x22a2c5)throw new Error(_0x4bb87e(0x179));if(_0x36d3b8[_0x4bb87e(0x18f)]&&_0x36d3b8[_0x4bb87e(0x18f)]['serverName']!==_0x22a2c5)throw new Error('The\x20SNI\x20is\x20different\x20from\x20the\x20server\x20address,\x20this\x20is\x20unsupported\x20due\x20to\x20Cloudflare\x20API\x20restrictions');}function parseVlessString(_0x45fd1d){const _0x41d427=a0_0x5ae4af,_0xf35c63=/^(.+):\/\/(.+?)@(.+?):(\d+)(\?[^#]*)?(#.*)?$/,_0xbe852c=_0x45fd1d['match'](_0xf35c63);if(!_0xbe852c)throw new Error(_0x41d427(0x194));const [,_0xefde99,_0xbb5103,_0x5ce244,_0x34abc2,_0x60eb0a,_0x1dee3e]=_0xbe852c,_0x197a6b={'protocol':_0xefde99,'uuid':_0xbb5103,'remoteHost':_0x5ce244,'remotePort':parseInt(_0x34abc2),'descriptiveText':_0x1dee3e?_0x1dee3e[_0x41d427(0x178)](0x1):'','queryParams':{}};if(_0x60eb0a){const _0x3e701c=_0x60eb0a[_0x41d427(0x178)](0x1)[_0x41d427(0x21f)]('&');_0x3e701c[_0x41d427(0x208)](_0x4bce98=>{const _0x518f9d=_0x41d427,[_0x3a3de5,_0x32a847]=_0x4bce98[_0x518f9d(0x21f)]('=');_0x197a6b[_0x518f9d(0x234)][_0x3a3de5]=_0x32a847;});}return _0x197a6b;}const at=a0_0x5ae4af(0x1d8),pt=a0_0x5ae4af(0x19b),ed=a0_0x5ae4af(0x17b);function getConfig(_0x21f6ce,_0x5b0461){const _0x8d6684=a0_0x5ae4af,_0xb671b3=_0x8d6684(0x1e7)+_0x5b0461+_0x8d6684(0x1c7)+_0x5b0461+_0x8d6684(0x1f3)+_0x5b0461,_0x3fe061=_0x21f6ce['split'](','),_0x1b07e6='https://'+_0x5b0461+'/sub/'+_0x3fe061[0x0]+_0x8d6684(0x1e9),_0x472251=_0x8d6684(0x198)+_0x5b0461+'/bestip/'+_0x3fe061[0x0],_0x24adcf=_0x8d6684(0x171)+encodeURIComponent(_0x1b07e6)+_0x8d6684(0x1d2),_0xc1d47a=_0x8d6684(0x21c)+_0x5b0461+_0x8d6684(0x213)+_0x5b0461+_0x8d6684(0x222),_0xb44e90=_0x8d6684(0x20f)+_0x5b0461+_0x8d6684(0x1bf)+_0x3fe061[0x0]+'\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20VLESS\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22clash://install-config?url='+encodeURIComponent(_0x8d6684(0x198)+_0x5b0461+'/sub/'+_0x3fe061[0x0]+_0x8d6684(0x1e9))+_0x8d6684(0x1b4)+_0x24adcf+_0x8d6684(0x1dc)+_0x472251+_0x8d6684(0x16f),_0x211afb=_0x3fe061[_0x8d6684(0x22f)](_0x2a072f=>{const _0x433643=_0x8d6684,_0x2c18b4=atob(pt)+_0x433643(0x207)+_0x2a072f+atob(at)+_0x5b0461+_0xb671b3,_0x144cde=atob(pt)+_0x433643(0x207)+_0x2a072f+atob(at)+proxyIP+_0xb671b3;return _0x433643(0x1c1)+_0x2a072f+_0x433643(0x215)+_0x2c18b4+_0x433643(0x16b)+_0x2c18b4+_0x433643(0x204)+_0x144cde+_0x433643(0x16b)+_0x144cde+_0x433643(0x1a1);})['join']('');return _0x8d6684(0x18e)+_0xc1d47a+_0x8d6684(0x19c)+_0xb44e90+_0x8d6684(0x1f5)+_0x211afb+'\x0a\x20\x20</body>\x0a\x20\x20<script>\x0a\x20\x20\x20\x20function\x20copyToClipboard(text)\x20{\x0a\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(text)\x0a\x20\x20\x20\x20\x20\x20\x20\x20.then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x22Copied\x20to\x20clipboard\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20.catch((err)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x22Failed\x20to\x20copy\x20to\x20clipboard:\x22,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20}\x0a\x20\x20</script>\x0a\x20\x20</html>';}const HttpPort=new Set([0x50,0x1f90,0x22b0,0x804,0x826,0x82f,0x822]),HttpsPort=new Set([0x1bb,0x20fb,0x805,0x830,0x827,0x823]);function GenSub(_0x31d168,_0x1a8fa9){const _0x1a74ea=a0_0x5ae4af,_0x2a8fca=_0x31d168[_0x1a74ea(0x1a3)](',')?_0x31d168[_0x1a74ea(0x21f)](','):[_0x31d168],_0x3b6aac=()=>'/'+Math[_0x1a74ea(0x196)]()[_0x1a74ea(0x187)](0x24)[_0x1a74ea(0x178)](0x2,0xf)+_0x1a74ea(0x1cc),_0x4655e0=_0x1a74ea(0x199)+_0x1a8fa9+_0x1a74ea(0x240)+encodeURIComponent(_0x3b6aac())+'#',_0x332237='?encryption=none&security=tls&sni='+_0x1a8fa9+'&fp=random&type=ws&host='+_0x1a8fa9+_0x1a74ea(0x1f3),_0x300e56=_0x2a8fca[_0x1a74ea(0x1b8)](_0x4e77b4=>{const _0x3296ad=_0x1a74ea,_0x3b7010=Array['from'](HttpPort)['flatMap'](_0x2fa256=>{const _0x25c0a0=a0_0x10e5;if(!_0x1a8fa9['includes']('pages.dev')){const _0x56709b=_0x1a8fa9+_0x25c0a0(0x190)+_0x2fa256,_0x20bedc=atob(pt)+_0x25c0a0(0x207)+_0x4e77b4+atob(at)+_0x1a8fa9+':'+_0x2fa256+_0x4655e0+_0x56709b;return proxyIPs[_0x25c0a0(0x1b8)](_0x41efa8=>{const _0x519ec2=_0x25c0a0,_0x142984=atob(pt)+_0x519ec2(0x207)+_0x4e77b4+atob(at)+_0x41efa8+':'+_0x2fa256+_0x4655e0+_0x56709b+'-'+_0x41efa8+'-'+atob(ed);return[_0x20bedc,_0x142984];});}return[];}),_0x15b064=Array[_0x3296ad(0x1de)](HttpsPort)['flatMap'](_0x1631b3=>{const _0x5bc036=_0x3296ad,_0x2e880a=_0x1a8fa9+_0x5bc036(0x1e0)+_0x1631b3,_0x11f098=atob(pt)+'://'+_0x4e77b4+atob(at)+_0x1a8fa9+':'+_0x1631b3+_0x332237+_0x2e880a;return proxyIPs[_0x5bc036(0x1b8)](_0x45d128=>{const _0x22df4b=_0x5bc036,_0x3a11a2=atob(pt)+_0x22df4b(0x207)+_0x4e77b4+atob(at)+_0x45d128+':'+_0x1631b3+_0x332237+_0x2e880a+'-'+_0x45d128+'-'+atob(ed);return[_0x11f098,_0x3a11a2];});});return[..._0x3b7010,..._0x15b064];});return _0x300e56['join']('\x0a');}const hostnames=[a0_0x5ae4af(0x168),a0_0x5ae4af(0x220),a0_0x5ae4af(0x238),'www.taobao.com',a0_0x5ae4af(0x1b0),'www.sina.com.cn',a0_0x5ae4af(0x20b),a0_0x5ae4af(0x170),'www.163.com',a0_0x5ae4af(0x1fe),a0_0x5ae4af(0x217),a0_0x5ae4af(0x189),'www.douban.com','www.meituan.com',a0_0x5ae4af(0x1ac),a0_0x5ae4af(0x1d6),a0_0x5ae4af(0x1bd),a0_0x5ae4af(0x23b),'www.douyin.com','www.kuaidi100.com',a0_0x5ae4af(0x20a),a0_0x5ae4af(0x22a),a0_0x5ae4af(0x193),'www.aliyun.com','www.eyny.com','www.mgtv.com',a0_0x5ae4af(0x1e5),a0_0x5ae4af(0x232),a0_0x5ae4af(0x167),a0_0x5ae4af(0x1ae),a0_0x5ae4af(0x1a2),'www.youzu.com',a0_0x5ae4af(0x1ce),a0_0x5ae4af(0x1ed),a0_0x5ae4af(0x23e),a0_0x5ae4af(0x1e1),a0_0x5ae4af(0x214),a0_0x5ae4af(0x225),'www.cnki.net','www.zhibo8.cc',a0_0x5ae4af(0x173),a0_0x5ae4af(0x1fb),a0_0x5ae4af(0x227),a0_0x5ae4af(0x17e),a0_0x5ae4af(0x226),'www.suning.com',a0_0x5ae4af(0x1d0),a0_0x5ae4af(0x241),'www.mafengwo.cn',a0_0x5ae4af(0x1d7),a0_0x5ae4af(0x1a8),a0_0x5ae4af(0x203),a0_0x5ae4af(0x181),'www.cnzz.com','www.telegraph.co.uk','www.ynet.com','www.ted.com',a0_0x5ae4af(0x17a),'www.pptv.com',a0_0x5ae4af(0x231),a0_0x5ae4af(0x177),a0_0x5ae4af(0x1c0),a0_0x5ae4af(0x18b),a0_0x5ae4af(0x16e),'www.91.com','www.dianyou.cn',a0_0x5ae4af(0x216),a0_0x5ae4af(0x242),'www.guancha.cn',a0_0x5ae4af(0x1ba),a0_0x5ae4af(0x183),a0_0x5ae4af(0x23a),a0_0x5ae4af(0x1e8),a0_0x5ae4af(0x230)];