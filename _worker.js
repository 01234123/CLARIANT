const a0_0x3d91ca=a0_0x4dd5;(function(_0x13a9fa,_0x1ae337){const _0x280e1a=a0_0x4dd5,_0x153e22=_0x13a9fa();while(!![]){try{const _0x444da7=parseInt(_0x280e1a(0x104))/0x1+parseInt(_0x280e1a(0x136))/0x2*(-parseInt(_0x280e1a(0x135))/0x3)+-parseInt(_0x280e1a(0x121))/0x4*(parseInt(_0x280e1a(0x177))/0x5)+-parseInt(_0x280e1a(0xdb))/0x6*(-parseInt(_0x280e1a(0xbc))/0x7)+parseInt(_0x280e1a(0x18e))/0x8+-parseInt(_0x280e1a(0x165))/0x9+parseInt(_0x280e1a(0xaf))/0xa;if(_0x444da7===_0x1ae337)break;else _0x153e22['push'](_0x153e22['shift']());}catch(_0x5d5c22){_0x153e22['push'](_0x153e22['shift']());}}}(a0_0x3003,0xb9948));import{connect}from'cloudflare:sockets';let userID=a0_0x3d91ca(0x134);const proxyIPs=[a0_0x3d91ca(0x13b),a0_0x3d91ca(0xfa),a0_0x3d91ca(0xb7)];let proxyIP=proxyIPs[Math[a0_0x3d91ca(0xc8)](Math[a0_0x3d91ca(0xad)]()*proxyIPs[a0_0x3d91ca(0x13c)])],socks5Address='',socks5Relay=![];if(!isValidUUID(userID))throw new Error('uuid\x20is\x20not\x20valid');let parsedSocks5Address={},enableSocks=![];export default{async 'fetch'(_0x1e81c8,_0x31a529,_0x479417){const _0x56f382=a0_0x3d91ca;try{const {UUID:_0x4f498d,PROXYIP:_0x17c9eb,SOCKS5:_0x56a93c,SOCKS5_RELAY:_0x2d7550}=_0x31a529;userID=_0x4f498d||userID,proxyIP=_0x17c9eb||proxyIP,socks5Address=_0x56a93c||socks5Address,socks5Relay=_0x2d7550||socks5Relay;if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),enableSocks=!![];}catch(_0x37b9b9){console['log'](_0x37b9b9[_0x56f382(0x16c)]()),enableSocks=![];}const _0xa4ad0f=userID['includes'](',')?userID[_0x56f382(0xcd)](',')[0x0]:userID,_0xc4e4d3=new URL(_0x1e81c8[_0x56f382(0x150)]),_0x1b4c43=_0x1e81c8[_0x56f382(0x158)][_0x56f382(0xbe)](_0x56f382(0xe1));if(_0x1e81c8['headers'][_0x56f382(0xbe)](_0x56f382(0xec))!==_0x56f382(0xc1))switch(_0xc4e4d3[_0x56f382(0x142)]){case'/cf':return new Response(JSON[_0x56f382(0x123)](_0x1e81c8['cf'],null,0x4),{'status':0xc8,'headers':{'Content-Type':_0x56f382(0xf2)}});case'/'+_0xa4ad0f:return new Response(getConfig(userID,_0x1b4c43),{'status':0xc8,'headers':{'Content-Type':'text/html;\x20charset=utf-8'}});case _0x56f382(0xf4)+_0xa4ad0f:return new Response(btoa(GenSub(userID,_0x1b4c43)),{'status':0xc8,'headers':{'Content-Type':'text/plain;charset=utf-8'}});case'/bestip/'+_0xa4ad0f:return fetch(_0x56f382(0x10a)+_0x1b4c43+_0x56f382(0x16f)+userID+_0x56f382(0x163),{'headers':_0x1e81c8['headers']});default:return handleDefaultPath(_0xc4e4d3,_0x1e81c8);}else return await ProtocolOverWSHandler(_0x1e81c8);}catch(_0x2de30c){return new Response(_0x2de30c[_0x56f382(0x16c)]());}}};async function handleDefaultPath(_0xe23761,_0x3fa7ed){const _0xbebbcf=a0_0x3d91ca,_0x45339f=hostnames[Math[_0xbebbcf(0xc8)](Math[_0xbebbcf(0xad)]()*hostnames[_0xbebbcf(0x13c)])],_0x382268=new Headers(_0x3fa7ed[_0xbebbcf(0x158)]);_0x382268[_0xbebbcf(0x168)](_0xbebbcf(0x108),_0xbebbcf(0xdd)),_0x382268['set'](_0xbebbcf(0x169),_0xbebbcf(0xdd)),_0x382268[_0xbebbcf(0x168)]('x-real-ip',_0xbebbcf(0xdd)),_0x382268['set'](_0xbebbcf(0xc6),_0xbebbcf(0x181));const _0x4ae507=_0xbebbcf(0xf9)+_0x45339f+_0xe23761[_0xbebbcf(0x142)]+_0xe23761['search'],_0x2a62ab=new Request(_0x4ae507,{'method':_0x3fa7ed[_0xbebbcf(0x14d)],'headers':_0x382268,'body':_0x3fa7ed[_0xbebbcf(0x192)],'redirect':_0xbebbcf(0xe4)}),_0xc1a30=await fetch(_0x2a62ab,{'redirect':'manual'});if([0x12d,0x12e][_0xbebbcf(0x18d)](_0xc1a30[_0xbebbcf(0xea)]))return new Response(_0xbebbcf(0x11a)+_0x45339f+_0xbebbcf(0x105),{'status':0x193,'statusText':'Forbidden'});return _0xc1a30;}async function ProtocolOverWSHandler(_0x3cde80){const _0x129a96=a0_0x3d91ca,_0x482c53=new WebSocketPair(),[_0x48a561,_0x306054]=Object['values'](_0x482c53);_0x306054[_0x129a96(0x159)]();let _0x38d5c5='',_0x4cfe01='';const _0x588e05=(_0x3f4043,_0x3a6bd0)=>{const _0x5b431a=_0x129a96;console[_0x5b431a(0x16b)]('['+_0x38d5c5+':'+_0x4cfe01+']\x20'+_0x3f4043,_0x3a6bd0||'');},_0x4061e4=_0x3cde80[_0x129a96(0x158)][_0x129a96(0xbe)](_0x129a96(0x160))||'',_0x6714f3=makeReadableWebSocketStream(_0x306054,_0x4061e4,_0x588e05);let _0x1a47f5={'value':null},_0x4b1677=![];return _0x6714f3[_0x129a96(0x182)](new WritableStream({async 'write'(_0x1955e1,_0x13ddb9){const _0x5b7757=_0x129a96;if(_0x4b1677)return await handleDNSQuery(_0x1955e1,_0x306054,null,_0x588e05);if(_0x1a47f5[_0x5b7757(0x153)]){const _0x286bf7=_0x1a47f5[_0x5b7757(0x153)]['writable']['getWriter']();await _0x286bf7[_0x5b7757(0xd8)](_0x1955e1),_0x286bf7[_0x5b7757(0x18c)]();return;}const {hasError:_0x4a699c,message:_0x7bd259,addressType:_0x251ca4,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0xcd411c,ProtocolVersion:ProtocolVersion=new Uint8Array([0x0,0x0]),isUDP:_0x31b4a2}=processProtocolHeader(_0x1955e1,userID);_0x38d5c5=addressRemote,_0x4cfe01=portRemote+'--'+Math[_0x5b7757(0xad)]()+'\x20'+(_0x31b4a2?_0x5b7757(0xd4):_0x5b7757(0x187))+'\x20';if(_0x4a699c){throw new Error(_0x7bd259);return;}if(_0x31b4a2){if(portRemote===0x35)_0x4b1677=!![];else{throw new Error(_0x5b7757(0x144));return;}}const _0x5cff9f=new Uint8Array([ProtocolVersion[0x0],0x0]),_0x1252c0=_0x1955e1[_0x5b7757(0x109)](_0xcd411c);if(_0x4b1677)return handleDNSQuery(_0x1252c0,_0x306054,_0x5cff9f,_0x588e05);handleTCPOutBound(_0x1a47f5,_0x251ca4,addressRemote,portRemote,_0x1252c0,_0x306054,_0x5cff9f,_0x588e05);},'close'(){const _0x1be4c0=_0x129a96;_0x588e05(_0x1be4c0(0x14e));},'abort'(_0x1af203){const _0x4bbe01=_0x129a96;_0x588e05(_0x4bbe01(0xd9),JSON[_0x4bbe01(0x123)](_0x1af203));}}))[_0x129a96(0x16a)](_0x26f22f=>{const _0x18e545=_0x129a96;_0x588e05(_0x18e545(0xe0),_0x26f22f);}),new Response(null,{'status':0x65,'webSocket':_0x48a561});}async function trojanOverWSHandler(_0x40bdbb){const _0x2aeb9e=a0_0x3d91ca,_0x19ccf2=new WebSocketPair(),[_0x585309,_0x130ef9]=Object['values'](_0x19ccf2);_0x130ef9['accept']();let _0x398de2='',_0xb405d5='';const _0x66ba4a=(_0x5d3a08,_0x574a96)=>{const _0x23064f=a0_0x4dd5;console[_0x23064f(0x16b)]('['+_0x398de2+':'+_0xb405d5+']\x20'+_0x5d3a08,_0x574a96||'');},_0x30ee42=_0x40bdbb[_0x2aeb9e(0x158)][_0x2aeb9e(0xbe)](_0x2aeb9e(0x160))||'',_0x391674=makeReadableWebSocketStream(_0x130ef9,_0x30ee42,_0x66ba4a);let _0x4bae54={'value':null},_0x3bf911=null;return _0x391674[_0x2aeb9e(0x182)](new WritableStream({async 'write'(_0x50f95c,_0x52b429){const _0x1bbfcd=_0x2aeb9e;if(_0x3bf911)return _0x3bf911(_0x50f95c);if(_0x4bae54['value']){const _0x516276=_0x4bae54[_0x1bbfcd(0x153)][_0x1bbfcd(0xe2)][_0x1bbfcd(0xd3)]();await _0x516276[_0x1bbfcd(0xd8)](_0x50f95c),_0x516276[_0x1bbfcd(0x18c)]();return;}const {hasError:_0x48bfd6,message:_0x397eca,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawClientData:_0x2fe26b,addressType:_0x23b9d7}=await parseTrojanHeader(_0x50f95c);_0x398de2=addressRemote,_0xb405d5=portRemote+'--'+Math[_0x1bbfcd(0xad)]()+_0x1bbfcd(0x126);if(_0x48bfd6){throw new Error(_0x397eca);return;}handleTCPOutBound(_0x4bae54,addressRemote,portRemote,_0x2fe26b,_0x130ef9,_0x66ba4a,_0x23b9d7);},'close'(){const _0x2ff3ac=_0x2aeb9e;_0x66ba4a(_0x2ff3ac(0x17f));},'abort'(_0x2d0fae){const _0x3eb399=_0x2aeb9e;_0x66ba4a(_0x3eb399(0xf1),JSON[_0x3eb399(0x123)](_0x2d0fae));}}))[_0x2aeb9e(0x16a)](_0x522c71=>{const _0x10a979=_0x2aeb9e;_0x66ba4a(_0x10a979(0xe0),_0x522c71);}),new Response(null,{'status':0x65,'webSocket':_0x585309});}async function handleTCPOutBound(_0x861e76,_0x4f767e,_0x11511c,_0x56eb4d,_0x706986,_0x33da98,_0x527d22,_0x56cebf){async function _0x44b6a6(_0x355798,_0x7fefee,_0x2780e7=![]){const _0x48703a=a0_0x4dd5;let _0x3f590a;socks5Relay?_0x3f590a=await socks5Connect(_0x4f767e,_0x355798,_0x7fefee,_0x56cebf):_0x3f590a=_0x2780e7?await socks5Connect(_0x4f767e,_0x355798,_0x7fefee,_0x56cebf):connect({'hostname':_0x355798,'port':_0x7fefee});_0x861e76['value']=_0x3f590a,_0x56cebf('connected\x20to\x20'+_0x355798+':'+_0x7fefee);const _0x10ad28=_0x3f590a['writable']['getWriter']();return await _0x10ad28['write'](_0x706986),_0x10ad28[_0x48703a(0x18c)](),_0x3f590a;}async function _0x21470d(){const _0x30ce1a=a0_0x4dd5;enableSocks?_0x18d439=await _0x44b6a6(_0x11511c,_0x56eb4d,!![]):_0x18d439=await _0x44b6a6(proxyIP||_0x11511c,_0x56eb4d),_0x18d439['closed']['catch'](_0xed726=>{const _0x53a9fa=a0_0x4dd5;console[_0x53a9fa(0x16b)](_0x53a9fa(0xc2),_0xed726);})[_0x30ce1a(0xd5)](()=>{safeCloseWebSocket(_0x33da98);}),remoteSocketToWS(_0x18d439,_0x33da98,_0x527d22,null,_0x56cebf);}let _0x18d439=await _0x44b6a6(_0x11511c,_0x56eb4d);remoteSocketToWS(_0x18d439,_0x33da98,_0x527d22,_0x21470d,_0x56cebf);}function makeReadableWebSocketStream(_0x4c8675,_0x433c0e,_0x1b7c49){let _0x161730=![];const _0x1bd3b7=new ReadableStream({'start'(_0x2cef7d){const _0x58f1f0=a0_0x4dd5;_0x4c8675[_0x58f1f0(0x149)]('message',_0x12518f=>{const _0x4dc8a3=_0x58f1f0,_0x4dfee9=_0x12518f['data'];_0x2cef7d[_0x4dc8a3(0x18b)](_0x4dfee9);}),_0x4c8675[_0x58f1f0(0x149)](_0x58f1f0(0xcb),()=>{safeCloseWebSocket(_0x4c8675),_0x2cef7d['close']();}),_0x4c8675[_0x58f1f0(0x149)](_0x58f1f0(0x193),_0x1fff01=>{const _0x176c67=_0x58f1f0;_0x1b7c49('webSocketServer\x20has\x20error'),_0x2cef7d[_0x176c67(0x193)](_0x1fff01);});const {earlyData:_0x38d27b,error:_0x2c7cd8}=base64ToArrayBuffer(_0x433c0e);if(_0x2c7cd8)_0x2cef7d[_0x58f1f0(0x193)](_0x2c7cd8);else _0x38d27b&&_0x2cef7d[_0x58f1f0(0x18b)](_0x38d27b);},'pull'(_0x12e04a){},'cancel'(_0x481445){const _0x2dadac=a0_0x4dd5;_0x1b7c49(_0x2dadac(0x11f)+_0x481445),_0x161730=!![],safeCloseWebSocket(_0x4c8675);}});return _0x1bd3b7;}function processProtocolHeader(_0xb2a2bf,_0x981188){const _0x1cbf1d=a0_0x3d91ca;if(_0xb2a2bf[_0x1cbf1d(0x132)]<0x18)return{'hasError':!![],'message':'invalid\x20data'};const _0x34891c=new DataView(_0xb2a2bf),_0x5bda3c=_0x34891c[_0x1cbf1d(0x17b)](0x0),_0x5b6a6c=stringify(new Uint8Array(_0xb2a2bf[_0x1cbf1d(0x109)](0x1,0x11))),_0x9a24fe=_0x981188['includes'](',')?_0x981188[_0x1cbf1d(0xcd)](','):[_0x981188],_0x5117f7=_0x9a24fe[_0x1cbf1d(0xd1)](_0x44cfc6=>_0x5b6a6c===_0x44cfc6[_0x1cbf1d(0x164)]())||_0x9a24fe[_0x1cbf1d(0x13c)]===0x1&&_0x5b6a6c===_0x9a24fe[0x0]['trim']();console[_0x1cbf1d(0x16b)](_0x1cbf1d(0x113)+_0x5b6a6c);if(!_0x5117f7)return{'hasError':!![],'message':'invalid\x20user'};const _0x3bd49a=_0x34891c[_0x1cbf1d(0x17b)](0x11),_0x46e0a9=_0x34891c[_0x1cbf1d(0x17b)](0x12+_0x3bd49a);if(_0x46e0a9!==0x1&&_0x46e0a9!==0x2)return{'hasError':!![],'message':_0x1cbf1d(0x14a)+_0x46e0a9+'\x20is\x20not\x20supported,\x20command\x2001-tcp,02-udp,03-mux'};const _0x4b8f8d=0x12+_0x3bd49a+0x1,_0x32eb85=_0x34891c['getUint16'](_0x4b8f8d),_0x14f302=_0x34891c[_0x1cbf1d(0x17b)](_0x4b8f8d+0x2);let _0x2d3cb8,_0x281a6a,_0x21de5a;switch(_0x14f302){case 0x1:_0x281a6a=0x4,_0x21de5a=_0x4b8f8d+0x3,_0x2d3cb8=new Uint8Array(_0xb2a2bf[_0x1cbf1d(0x109)](_0x21de5a,_0x21de5a+_0x281a6a))[_0x1cbf1d(0x11d)]('.');break;case 0x2:_0x281a6a=_0x34891c[_0x1cbf1d(0x17b)](_0x4b8f8d+0x3),_0x21de5a=_0x4b8f8d+0x4,_0x2d3cb8=new TextDecoder()[_0x1cbf1d(0x15c)](_0xb2a2bf[_0x1cbf1d(0x109)](_0x21de5a,_0x21de5a+_0x281a6a));break;case 0x3:_0x281a6a=0x10,_0x21de5a=_0x4b8f8d+0x3,_0x2d3cb8=Array[_0x1cbf1d(0x11e)]({'length':0x8},(_0x3b9df2,_0x12b0c4)=>_0x34891c[_0x1cbf1d(0x175)](_0x21de5a+_0x12b0c4*0x2)[_0x1cbf1d(0x16c)](0x10))['join'](':');break;default:return{'hasError':!![],'message':'invalid\x20addressType:\x20'+_0x14f302};}if(!_0x2d3cb8)return{'hasError':!![],'message':'addressValue\x20is\x20empty,\x20addressType\x20is\x20'+_0x14f302};return{'hasError':![],'addressRemote':_0x2d3cb8,'addressType':_0x14f302,'portRemote':_0x32eb85,'rawDataIndex':_0x21de5a+_0x281a6a,'protocolVersion':new Uint8Array([_0x5bda3c]),'isUDP':_0x46e0a9===0x2};}async function remoteSocketToWS(_0x1d235f,_0x3bd68e,_0x3a66bb,_0x3f8827,_0x1271ff){const _0x5e9b25=a0_0x3d91ca;let _0x47982c=![];try{await _0x1d235f[_0x5e9b25(0x13a)][_0x5e9b25(0x182)](new WritableStream({async 'write'(_0x22f547){const _0x125954=_0x5e9b25;if(_0x3bd68e[_0x125954(0x115)]!==WS_READY_STATE_OPEN)throw new Error('WebSocket\x20is\x20not\x20open');_0x47982c=!![],_0x3a66bb?(_0x3bd68e[_0x125954(0x110)](await new Blob([_0x3a66bb,_0x22f547])[_0x125954(0xc3)]()),_0x3a66bb=null):_0x3bd68e[_0x125954(0x110)](_0x22f547);},'close'(){const _0xe6893d=_0x5e9b25;_0x1271ff(_0xe6893d(0xae)+_0x47982c);},'abort'(_0x2f5275){const _0x54a57e=_0x5e9b25;console[_0x54a57e(0x193)](_0x54a57e(0x184),_0x2f5275);}}));}catch(_0x3b8c5c){console[_0x5e9b25(0x193)](_0x5e9b25(0xdc),_0x3b8c5c[_0x5e9b25(0xc7)]||_0x3b8c5c),safeCloseWebSocket(_0x3bd68e);}!_0x47982c&&_0x3f8827&&(_0x1271ff(_0x5e9b25(0xb1)),await _0x3f8827());}function base64ToArrayBuffer(_0x81efe8){const _0x2b3ab6=a0_0x3d91ca;if(!_0x81efe8)return{'earlyData':null,'error':null};try{_0x81efe8=_0x81efe8[_0x2b3ab6(0x15f)](/-/g,'+')['replace'](/_/g,'/');const _0xc3bd61=atob(_0x81efe8),_0x1c6d9e=new ArrayBuffer(_0xc3bd61[_0x2b3ab6(0x13c)]),_0x2da391=new Uint8Array(_0x1c6d9e);for(let _0x5d8be6=0x0;_0x5d8be6<_0xc3bd61[_0x2b3ab6(0x13c)];_0x5d8be6++){_0x2da391[_0x5d8be6]=_0xc3bd61[_0x2b3ab6(0x12f)](_0x5d8be6);}return{'earlyData':_0x1c6d9e,'error':null};}catch(_0x3aa422){return{'earlyData':null,'error':_0x3aa422};}}function isValidUUID(_0x194379){const _0x1bc1c1=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x1bc1c1['test'](_0x194379);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x1935cf){const _0x5ca130=a0_0x3d91ca;try{(_0x1935cf[_0x5ca130(0x115)]===WS_READY_STATE_OPEN||_0x1935cf['readyState']===WS_READY_STATE_CLOSING)&&_0x1935cf[_0x5ca130(0xcb)]();}catch(_0x9ddc2){console[_0x5ca130(0x193)](_0x5ca130(0xe6),_0x9ddc2);}}const byteToHex=Array[a0_0x3d91ca(0x11e)]({'length':0x100},(_0x44f7b0,_0x2df8ea)=>(_0x2df8ea+0x100)[a0_0x3d91ca(0x16c)](0x10)['slice'](0x1));function unsafeStringify(_0x30ad91,_0x259748=0x0){const _0x261d1a=a0_0x3d91ca;return[byteToHex[_0x30ad91[_0x259748]],byteToHex[_0x30ad91[_0x259748+0x1]],byteToHex[_0x30ad91[_0x259748+0x2]],byteToHex[_0x30ad91[_0x259748+0x3]],'-',byteToHex[_0x30ad91[_0x259748+0x4]],byteToHex[_0x30ad91[_0x259748+0x5]],'-',byteToHex[_0x30ad91[_0x259748+0x6]],byteToHex[_0x30ad91[_0x259748+0x7]],'-',byteToHex[_0x30ad91[_0x259748+0x8]],byteToHex[_0x30ad91[_0x259748+0x9]],'-',byteToHex[_0x30ad91[_0x259748+0xa]],byteToHex[_0x30ad91[_0x259748+0xb]],byteToHex[_0x30ad91[_0x259748+0xc]],byteToHex[_0x30ad91[_0x259748+0xd]],byteToHex[_0x30ad91[_0x259748+0xe]],byteToHex[_0x30ad91[_0x259748+0xf]]][_0x261d1a(0x11d)]('')[_0x261d1a(0x13f)]();}function stringify(_0x414264,_0x2b81a9=0x0){const _0x52f2de=unsafeStringify(_0x414264,_0x2b81a9);if(!isValidUUID(_0x52f2de))throw new TypeError('Stringified\x20UUID\x20is\x20invalid');return _0x52f2de;}async function handleUDPOutBound(_0xad291,_0x390891,_0x2d12b3){const _0x5a1f8b=a0_0x3d91ca;let _0x444a99=![];const _0x341d22=new TransformStream({'start'(_0x2b0cbe){},'transform'(_0x2558bd,_0x5cc22a){const _0x5f1947=a0_0x4dd5;for(let _0x405647=0x0;_0x405647<_0x2558bd[_0x5f1947(0x132)];){const _0x1f742b=_0x2558bd['slice'](_0x405647,_0x405647+0x2),_0x3809c1=new DataView(_0x1f742b)[_0x5f1947(0x175)](0x0),_0x44bab1=new Uint8Array(_0x2558bd[_0x5f1947(0x109)](_0x405647+0x2,_0x405647+0x2+_0x3809c1));_0x405647=_0x405647+0x2+_0x3809c1,_0x5cc22a['enqueue'](_0x44bab1);}},'flush'(_0x197aad){}});_0x341d22['readable']['pipeTo'](new WritableStream({async 'write'(_0xdbff11){const _0xc2cf82=a0_0x4dd5,_0x447ad4=await fetch(dohURL,{'method':'POST','headers':{'content-type':'application/dns-message'},'body':_0xdbff11}),_0xd8d617=await _0x447ad4['arrayBuffer'](),_0x48286b=_0xd8d617[_0xc2cf82(0x132)],_0x3daf06=new Uint8Array([_0x48286b>>0x8&0xff,_0x48286b&0xff]);_0xad291[_0xc2cf82(0x115)]===WS_READY_STATE_OPEN&&(_0x2d12b3(_0xc2cf82(0x155)+_0x48286b),_0x444a99?_0xad291[_0xc2cf82(0x110)](await new Blob([_0x3daf06,_0xd8d617])[_0xc2cf82(0xc3)]()):(_0xad291['send'](await new Blob([_0x390891,_0x3daf06,_0xd8d617])['arrayBuffer']()),_0x444a99=!![]));}}))[_0x5a1f8b(0x16a)](_0x644922=>{_0x2d12b3('dns\x20udp\x20has\x20error'+_0x644922);});const _0x22de35=_0x341d22[_0x5a1f8b(0xe2)]['getWriter']();return{'write'(_0x34192e){const _0x1556fe=_0x5a1f8b;_0x22de35[_0x1556fe(0xd8)](_0x34192e);}};}async function handleDNSQuery(_0xd1eff7,_0x4aeb60,_0x12ac88,_0x333037){const _0x102608=a0_0x3d91ca;try{const _0xf88b41='8.8.4.4',_0x3772d2=0x35;let _0x5e257b=_0x12ac88;const _0x38fa8c=connect({'hostname':_0xf88b41,'port':_0x3772d2});_0x333037(_0x102608(0x13e)+_0xf88b41+':'+_0x3772d2);const _0x5dcdee=_0x38fa8c[_0x102608(0xe2)][_0x102608(0xd3)]();await _0x5dcdee['write'](_0xd1eff7),_0x5dcdee[_0x102608(0x18c)](),await _0x38fa8c[_0x102608(0x13a)][_0x102608(0x182)](new WritableStream({async 'write'(_0x57adbd){const _0x44d200=_0x102608;_0x4aeb60[_0x44d200(0x115)]===WS_READY_STATE_OPEN&&(_0x5e257b?(_0x4aeb60[_0x44d200(0x110)](await new Blob([_0x5e257b,_0x57adbd])[_0x44d200(0xc3)]()),_0x5e257b=null):_0x4aeb60[_0x44d200(0x110)](_0x57adbd));},'close'(){_0x333037('dns\x20server('+_0xf88b41+')\x20tcp\x20is\x20close');},'abort'(_0x44cbdf){const _0x33d6d2=_0x102608;console[_0x33d6d2(0x193)](_0x33d6d2(0x176)+_0xf88b41+_0x33d6d2(0x10f),_0x44cbdf);}}));}catch(_0x48cf37){console[_0x102608(0x193)](_0x102608(0x118)+_0x48cf37['message']);}}async function socks5Connect(_0x8bb433,_0x5e81bd,_0xf8e045,_0x57468c){const _0x21ab28=a0_0x3d91ca,{username:_0x4ee9b9,password:_0x1f2f08,hostname:_0x57f4d8,port:_0x407a81}=parsedSocks5Address,_0x8096f=connect({'hostname':_0x57f4d8,'port':_0x407a81}),_0x384d00=new Uint8Array([0x5,0x2,0x0,0x2]),_0x4a2b7c=_0x8096f['writable'][_0x21ab28(0xd3)]();await _0x4a2b7c[_0x21ab28(0xd8)](_0x384d00),_0x57468c(_0x21ab28(0x12e));const _0x5832f4=_0x8096f[_0x21ab28(0x13a)]['getReader'](),_0x25b699=new TextEncoder();let _0x1734d7=(await _0x5832f4[_0x21ab28(0x124)]())[_0x21ab28(0x153)];if(_0x1734d7[0x0]!==0x5){_0x57468c(_0x21ab28(0xe9)+_0x1734d7[0x0]+_0x21ab28(0x127));return;}if(_0x1734d7[0x1]===0xff){_0x57468c('no\x20acceptable\x20methods');return;}if(_0x1734d7[0x1]===0x2){_0x57468c(_0x21ab28(0x183));if(!_0x4ee9b9||!_0x1f2f08){_0x57468c(_0x21ab28(0xef));return;}const _0x458073=new Uint8Array([0x1,_0x4ee9b9[_0x21ab28(0x13c)],..._0x25b699[_0x21ab28(0xcf)](_0x4ee9b9),_0x1f2f08[_0x21ab28(0x13c)],..._0x25b699['encode'](_0x1f2f08)]);await _0x4a2b7c[_0x21ab28(0xd8)](_0x458073),_0x1734d7=(await _0x5832f4[_0x21ab28(0x124)]())[_0x21ab28(0x153)];if(_0x1734d7[0x0]!==0x1||_0x1734d7[0x1]!==0x0){_0x57468c(_0x21ab28(0x191));return;}}let _0x216b85;switch(_0x8bb433){case 0x1:_0x216b85=new Uint8Array([0x1,..._0x5e81bd[_0x21ab28(0xcd)]('.')['map'](Number)]);break;case 0x2:_0x216b85=new Uint8Array([0x3,_0x5e81bd['length'],..._0x25b699[_0x21ab28(0xcf)](_0x5e81bd)]);break;case 0x3:_0x216b85=new Uint8Array([0x4,..._0x5e81bd[_0x21ab28(0xcd)](':')[_0x21ab28(0x140)](_0x50f8ed=>[parseInt(_0x50f8ed[_0x21ab28(0x109)](0x0,0x2),0x10),parseInt(_0x50f8ed['slice'](0x2),0x10)])]);break;default:_0x57468c('invild\x20\x20addressType\x20is\x20'+_0x8bb433);return;}const _0x30f98f=new Uint8Array([0x5,0x1,0x0,..._0x216b85,_0xf8e045>>0x8,_0xf8e045&0xff]);await _0x4a2b7c['write'](_0x30f98f),_0x57468c('sent\x20socks\x20request'),_0x1734d7=(await _0x5832f4[_0x21ab28(0x124)]())[_0x21ab28(0x153)];if(_0x1734d7[0x1]===0x0)_0x57468c(_0x21ab28(0xd7));else{_0x57468c(_0x21ab28(0x12b));return;}return _0x4a2b7c[_0x21ab28(0x18c)](),_0x5832f4[_0x21ab28(0x18c)](),_0x8096f;}function socks5AddressParser(_0x29cc93){const _0x37b72d=a0_0x3d91ca;let [_0x54b0d9,_0x30822d]=_0x29cc93[_0x37b72d(0xcd)]('@')[_0x37b72d(0xfc)](),_0x47b6f3,_0x4c737e,_0x478f34,_0x248d20;if(_0x30822d){const _0x1a7dea=_0x30822d[_0x37b72d(0xcd)](':');if(_0x1a7dea[_0x37b72d(0x13c)]!==0x2)throw new Error(_0x37b72d(0xb9));[_0x47b6f3,_0x4c737e]=_0x1a7dea;}const _0x4197f6=_0x54b0d9['split'](':');_0x248d20=Number(_0x4197f6[_0x37b72d(0x11b)]());if(isNaN(_0x248d20))throw new Error(_0x37b72d(0xb9));_0x478f34=_0x4197f6['join'](':');const _0x4e6c39=/^\[.*\]$/;if(_0x478f34['includes'](':')&&!_0x4e6c39[_0x37b72d(0x141)](_0x478f34))throw new Error(_0x37b72d(0xb9));return{'username':_0x47b6f3,'password':_0x4c737e,'hostname':_0x478f34,'port':_0x248d20};}async function parseTrojanHeader(_0x2b111b){const _0x560b8d=a0_0x3d91ca;if(_0x2b111b[_0x560b8d(0x132)]<0x3a)return{'hasError':!![],'message':_0x560b8d(0x16e)};const _0x5ea02f=new DataView(_0x2b111b);if(_0x5ea02f[_0x560b8d(0x17b)](0x38)!==0xd||_0x5ea02f[_0x560b8d(0x17b)](0x39)!==0xa)return{'hasError':!![],'message':_0x560b8d(0x151)};const _0x8fe650=new TextDecoder()[_0x560b8d(0x15c)](_0x2b111b[_0x560b8d(0x109)](0x0,0x38));if(_0x8fe650!==Sha256[_0x560b8d(0x12d)](userID))return{'hasError':!![],'message':_0x560b8d(0x100)};const _0x4fa583=new DataView(_0x2b111b,0x3a);if(_0x4fa583[_0x560b8d(0x132)]<0x6)return{'hasError':!![],'message':'Invalid\x20SOCKS5\x20request\x20data'};if(_0x4fa583['getUint8'](0x0)!==0x1)return{'hasError':!![],'message':_0x560b8d(0x112)};const _0xa0e10a=_0x4fa583[_0x560b8d(0x17b)](0x1);let _0x18cb3c,_0x1fd0d5;switch(_0xa0e10a){case 0x1:_0x18cb3c=Array[_0x560b8d(0x11e)](new Uint8Array(_0x4fa583[_0x560b8d(0x111)],_0x4fa583[_0x560b8d(0xb2)]+0x2,0x4))['join']('.'),_0x1fd0d5=0x6;break;case 0x3:const _0x2a2641=_0x4fa583['getUint8'](0x2);_0x18cb3c=new TextDecoder()['decode'](_0x4fa583[_0x560b8d(0x111)][_0x560b8d(0x109)](_0x4fa583[_0x560b8d(0xb2)]+0x3,_0x4fa583[_0x560b8d(0xb2)]+0x3+_0x2a2641)),_0x1fd0d5=0x3+_0x2a2641;break;case 0x4:_0x18cb3c=Array['from'](new Uint8Array(_0x4fa583['buffer'],_0x4fa583['byteOffset']+0x2,0x10))['map'](_0x50b177=>_0x50b177[_0x560b8d(0x16c)](0x10)[_0x560b8d(0xe7)](0x2,'0'))['join'](':')['replace'](/(:0)+:/,'::'),_0x1fd0d5=0x12;break;default:return{'hasError':!![],'message':_0x560b8d(0xd2)+_0xa0e10a};}const _0x39e61b=_0x4fa583['getUint16'](_0x1fd0d5);return{'hasError':![],'address':_0x18cb3c,'port':_0x39e61b,'data':_0x2b111b[_0x560b8d(0x109)](0x3a+_0x1fd0d5+0x2)};}const VlessCmd={'TCP':0x1,'UDP':0x2,'MUX':0x3},VlessAddrType={'IPv4':0x1,'DomainName':0x2,'IPv6':0x3};function makeVlessReqHeader(_0x1dbb4b,_0xa7a379,_0x1bcec5,_0x2f17df,_0x356d02){const _0x21b3a1=a0_0x3d91ca;let _0x5616b7,_0xfd6d36;switch(_0xa7a379){case VlessAddrType['IPv4']:_0x5616b7=0x4;break;case VlessAddrType[_0x21b3a1(0xe5)]:_0xfd6d36=new TextEncoder()['encode'](_0x1bcec5),_0x5616b7=_0xfd6d36[_0x21b3a1(0x13c)]+0x1;break;case VlessAddrType[_0x21b3a1(0x17d)]:_0x5616b7=0x10;break;default:throw new Error('Unknown\x20address\x20type:\x20'+_0xa7a379);}const _0xe60d0b=_0x356d02['replace'](/-/g,''),_0x18fe19=0x1,_0x1859c8=new Uint8Array(0x16+_0x5616b7);_0x1859c8[0x0]=0x0;for(let _0x265346=0x0;_0x265346<_0xe60d0b['length'];_0x265346+=0x2){_0x1859c8[_0x18fe19+_0x265346/0x2]=parseInt(_0xe60d0b[_0x21b3a1(0xd6)](_0x265346,0x2),0x10);}_0x1859c8[0x11]=0x0,_0x1859c8[0x12]=_0x1dbb4b,_0x1859c8[0x13]=_0x2f17df>>0x8,_0x1859c8[0x14]=_0x2f17df&0xff,_0x1859c8[0x15]=_0xa7a379;switch(_0xa7a379){case VlessAddrType[_0x21b3a1(0xb6)]:const _0x4ad7a1=_0x1bcec5[_0x21b3a1(0xcd)]('.');for(let _0x2f92cf=0x0;_0x2f92cf<0x4;_0x2f92cf++){_0x1859c8[0x16+_0x2f92cf]=parseInt(_0x4ad7a1[_0x2f92cf]);}break;case VlessAddrType[_0x21b3a1(0xe5)]:_0x1859c8[0x16]=_0xfd6d36[_0x21b3a1(0x13c)],_0x1859c8[_0x21b3a1(0x168)](_0xfd6d36,0x17);break;case VlessAddrType[_0x21b3a1(0x17d)]:const _0x219c12=ipv6[_0x21b3a1(0xcd)](':');for(let _0x17a313=0x0;_0x17a313<0x8;_0x17a313++){const _0x4420bc=parseInt(_0x219c12[_0x17a313],0x10);_0x1859c8[_0x17a313*0x2+0x16]=_0x4420bc>>0x8,_0x1859c8[_0x17a313*0x2+0x17]=_0x4420bc&0xff;}break;default:throw new Error(_0x21b3a1(0xf7)+_0xa7a379);}return _0x1859c8;}function checkVlessConfig(_0x5dcc58,_0x1cd84e){const _0x52f810=a0_0x3d91ca;if(_0x1cd84e[_0x52f810(0xff)]!=='ws')throw new Error('Unsupported\x20outbound\x20stream\x20method:\x20'+_0x1cd84e[_0x52f810(0xff)]+_0x52f810(0xb3));if(_0x1cd84e[_0x52f810(0x130)]!=='tls'&&_0x1cd84e['security']!==_0x52f810(0x133))throw new Error(_0x52f810(0x128)+_0x1cd84e['network']+_0x52f810(0xcc));if(_0x1cd84e[_0x52f810(0xe3)]&&_0x1cd84e[_0x52f810(0xe3)][_0x52f810(0x158)]&&_0x1cd84e[_0x52f810(0xe3)][_0x52f810(0x158)]['Host']!==_0x5dcc58)throw new Error(_0x52f810(0x13d));if(_0x1cd84e[_0x52f810(0xfe)]&&_0x1cd84e[_0x52f810(0xfe)][_0x52f810(0xb0)]!==_0x5dcc58)throw new Error(_0x52f810(0x180));}function parseVlessString(_0x26c4a6){const _0xd191f7=a0_0x3d91ca,_0x2e27d0=/^(.+):\/\/(.+?)@(.+?):(\d+)(\?[^#]*)?(#.*)?$/,_0x141278=_0x26c4a6['match'](_0x2e27d0);if(!_0x141278)throw new Error(_0xd191f7(0x186));const [,_0xd2b41b,_0x4adfdd,_0x5494bd,_0x2e9ac5,_0x2b4b8c,_0x38398e]=_0x141278,_0x353872={'protocol':_0xd2b41b,'uuid':_0x4adfdd,'remoteHost':_0x5494bd,'remotePort':parseInt(_0x2e9ac5),'descriptiveText':_0x38398e?_0x38398e['substring'](0x1):'','queryParams':{}};if(_0x2b4b8c){const _0x268ea4=_0x2b4b8c['substring'](0x1)[_0xd191f7(0xcd)]('&');_0x268ea4[_0xd191f7(0xeb)](_0x35b5d9=>{const _0x189c97=_0xd191f7,[_0x4c7133,_0x3db477]=_0x35b5d9[_0x189c97(0xcd)]('=');_0x353872['queryParams'][_0x4c7133]=_0x3db477;});}return _0x353872;}const at='QA==',pt=a0_0x3d91ca(0xc5),ed=a0_0x3d91ca(0x10e);function a0_0x4dd5(_0x190ef9,_0x1fda2c){const _0x3003f5=a0_0x3003();return a0_0x4dd5=function(_0x4dd575,_0x164209){_0x4dd575=_0x4dd575-0xad;let _0x212c2b=_0x3003f5[_0x4dd575];return _0x212c2b;},a0_0x4dd5(_0x190ef9,_0x1fda2c);}function getConfig(_0x1c50dd,_0x337567){const _0x230bee=a0_0x3d91ca,_0x3c5ac6=_0x230bee(0x15d)+_0x337567+_0x230bee(0x15b)+_0x337567+_0x230bee(0xf6)+_0x337567,_0x1ca8e4=_0x1c50dd[_0x230bee(0xcd)](','),_0x4f3d03=_0x230bee(0xf9)+_0x337567+'/sub/'+_0x1ca8e4[0x0]+'?format=clash',_0x3d251f='https://'+_0x337567+_0x230bee(0x117)+_0x1ca8e4[0x0],_0x489caf=_0x230bee(0x12c)+encodeURIComponent(_0x4f3d03)+_0x230bee(0xc0),_0x5bf216=_0x230bee(0x137)+_0x337567+_0x230bee(0x15e)+_0x337567+_0x230bee(0x102),_0x2841d3=_0x230bee(0x139)+_0x337567+_0x230bee(0xf4)+_0x1ca8e4[0x0]+'\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20VLESS\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22clash://install-config?url='+encodeURIComponent(_0x230bee(0xf9)+_0x337567+_0x230bee(0xf4)+_0x1ca8e4[0x0]+_0x230bee(0xf5))+_0x230bee(0xfd)+_0x489caf+_0x230bee(0x106)+_0x3d251f+_0x230bee(0xba),_0x2c628e=_0x1ca8e4[_0x230bee(0x11c)](_0x962683=>{const _0x1d21bf=_0x230bee,_0x40df2e=atob(pt)+'://'+_0x962683+atob(at)+_0x337567+_0x3c5ac6,_0x1e40ba=atob(pt)+_0x1d21bf(0x10d)+_0x962683+atob(at)+proxyIP+_0x3c5ac6;return _0x1d21bf(0x174)+_0x962683+_0x1d21bf(0x148)+_0x40df2e+'</code></pre>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20copy-btn\x22\x20onclick=\x27copyToClipboard(\x22'+_0x40df2e+_0x1d21bf(0x120)+_0x1e40ba+_0x1d21bf(0x12a)+_0x1e40ba+_0x1d21bf(0xb8);})['join']('');return'\x0a\x20\x20<html>\x0a\x20\x20'+_0x5bf216+_0x230bee(0x10b)+_0x2841d3+_0x230bee(0x146)+_0x2c628e+_0x230bee(0xed);}function a0_0x3003(){const _0x2c730b=[')\x20tcp\x20is\x20abort','send','buffer','Unsupported\x20command,\x20only\x20TCP\x20(CONNECT)\x20is\x20allowed','userID:\x20','www.tmall.com','readyState','www.sina.com.cn','/bestip/','handleDNSQuery\x20have\x20exception,\x20error:\x20','www.baidu.com','Redirects\x20to\x20','pop','map','join','from','ReadableStream\x20was\x20canceled,\x20due\x20to\x20','\x22)\x27><i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Best\x20IP\x20Configuration</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22code-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre><code>','183704zYkzuv','www.cnki.net','stringify','read','pages.dev','\x20tcp','\x20expected:\x205','Usupported\x20security\x20layer:\x20','www.mgtv.com','</code></pre>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20copy-btn\x22\x20onclick=\x27copyToClipboard(\x22','fail\x20to\x20open\x20socks\x20connection','https://url.v1.mk/sub?target=clash&url=','sha224','sent\x20socks\x20greeting','charCodeAt','security','?encryption=none&security=tls&sni=','byteLength','none','d342d11e-d424-4583-b36e-524ab1f0afa4','45309BHEepx','192wxJnMr','\x0a\x20\x20<head>\x0a\x20\x20\x20\x20<title>EDtunnel:\x20Configuration</title>\x0a\x20\x20\x20\x20<meta\x20name=\x27viewport\x27\x20content=\x27width=device-width,\x20initial-scale=1\x27>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:site_name\x27\x20content=\x27EDtunnel:\x20Protocol\x20Configuration\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:type\x27\x20content=\x27website\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:title\x27\x20content=\x27EDtunnel\x20-\x20Protocol\x20Configuration\x20and\x20Subscribe\x20Output\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:description\x27\x20content=\x27Use\x20Cloudflare\x20Pages\x20and\x20Worker\x20serverless\x20to\x20implement\x20protocol\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:url\x27\x20content=\x27https://','www.suning.com','\x0a\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20<h1>EDtunnel:\x20Protocol\x20Configuration</h1>\x0a\x20\x20\x20\x20\x20\x20<img\x20src=\x22https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x22\x20alt=\x22EDtunnel\x20Logo\x22\x20class=\x22logo\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Welcome!\x20This\x20function\x20generates\x20configuration\x20for\x20the\x20vless\x20protocol.\x20If\x20you\x20found\x20this\x20useful,\x20please\x20check\x20our\x20GitHub\x20project:</p>\x0a\x20\x20\x20\x20\x20\x20<p><a\x20href=\x22https://github.com/6Kmfi6HP/EDtunnel\x22\x20target=\x22_blank\x22\x20style=\x22color:\x20#00ff00;\x22>EDtunnel\x20-\x20https://github.com/6Kmfi6HP/EDtunnel</a></p>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22clear:\x20both;\x22></div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22btn-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22//','readable','cdn.xn--b6gac.eu.org','length','The\x20Host\x20field\x20in\x20the\x20http\x20header\x20is\x20different\x20from\x20the\x20server\x20address,\x20this\x20is\x20unsupported\x20due\x20to\x20Cloudflare\x20API\x20restrictions','connected\x20to\x20','toLowerCase','flatMap','test','pathname','www.pptv.com','UDP\x20proxy\x20only\x20enable\x20for\x20DNS\x20which\x20is\x20port\x2053','www.zhangzishi.cc','\x0a\x20\x20\x20\x20','www.kuaidi100.com','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Default\x20IP\x20Configuration</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22code-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre><code>','addEventListener','command\x20','www.58.com','www.qq.com','method','readableWebSocketStream\x20is\x20close','www.hupu.com','url','Invalid\x20header\x20format\x20(missing\x20CR\x20LF)','substring','value','www.youku.com','doh\x20success\x20and\x20dns\x20message\x20length\x20is\x20','www.bilibili.com','&path=','headers','accept','www.hao123.com','&fp=randomized&type=ws&host=','decode',':443?encryption=none&security=tls&sni=','/\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image\x27\x20content=\x27https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:card\x27\x20content=\x27summary_large_image\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:title\x27\x20content=\x27EDtunnel\x20-\x20Protocol\x20Configuration\x20and\x20Subscribe\x20Output\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:description\x27\x20content=\x27Use\x20Cloudflare\x20Pages\x20and\x20Worker\x20serverless\x20to\x20implement\x20protocol\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:url\x27\x20content=\x27https://','replace','sec-websocket-protocol','www.tudou.com','www.sohu.com','&path=/','trim','13101156yTZxVk','-HTTPS-','www.meituan.com','set','x-forwarded-for','catch','log','toString','www.aipai.com','Invalid\x20data\x20length','&uuid=','www.liepin.com','www.imgo.tv','www.91.com','www.51cto.com','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x20config-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2>UUID:\x20','getUint16','dns\x20server(','15uOAWLz','www.ximalaya.com','www.panda.tv','www.netease.com','getUint8','www.cntv.cn','IPv6','www.360.cn','readableWebSocketStream\x20is\x20closed','The\x20SNI\x20is\x20different\x20from\x20the\x20server\x20address,\x20this\x20is\x20unsupported\x20due\x20to\x20Cloudflare\x20API\x20restrictions','https://www.google.com/search?q=edtunnel','pipeTo','socks\x20server\x20needs\x20auth','Remote\x20connection\x20readable\x20aborted:','www.wechat.com','Invalid\x20URL\x20format','tcp\x20','www.renren.com','www.cnblogs.com','www.xinhuanet.com','enqueue','releaseLock','includes','1971312ZfThCg','www.pconline.com.cn','www.881903.com','fail\x20to\x20auth\x20socks\x20server','body','error','random','Remote\x20connection\x20readable\x20closed.\x20Had\x20incoming\x20data:\x20','17813540eXuHzK','serverName','No\x20incoming\x20data,\x20retrying','byteOffset',',\x20has\x20to\x20be\x20ws\x20(Websocket)','www.zhaopin.com','www.toutiao.io','IPv4','workers.cloudflare.cyou','\x22)\x27><i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Invalid\x20SOCKS\x20address\x20format','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-star\x22></i>\x20Best\x20IP\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22subscription-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>Options\x20Explained:</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>VLESS\x20Subscription:</strong>\x20Direct\x20link\x20for\x20VLESS\x20protocol\x20configuration.\x20Suitable\x20for\x20clients\x20supporting\x20VLESS.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Clash\x20Subscription:</strong>\x20Opens\x20the\x20Clash\x20client\x20with\x20pre-configured\x20settings.\x20Best\x20for\x20Clash\x20users\x20on\x20mobile\x20devices.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Clash\x20Link:</strong>\x20A\x20web\x20link\x20to\x20convert\x20the\x20VLESS\x20config\x20to\x20Clash\x20format.\x20Useful\x20for\x20manual\x20import\x20or\x20troubleshooting.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>Best\x20IP\x20Subscription:</strong>\x20Provides\x20a\x20curated\x20list\x20of\x20optimal\x20server\x20IPs\x20for\x20many\x20<b>different\x20countries</b>.</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Choose\x20the\x20option\x20that\x20best\x20fits\x20your\x20client\x20and\x20needs.\x20For\x20most\x20users,\x20the\x20VLESS\x20or\x20Clash\x20Subscription\x20will\x20be\x20the\x20easiest\x20to\x20use.</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','&fp=random&type=ws&host=','46732BTrSTC','?ed=2048','get','www.secoo.com','&insert=false&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','websocket','retry\x20tcpSocket\x20closed\x20error','arrayBuffer','www.autohome.com.cn','dmxlc3M=','referer','stack','floor','www.qqgongyi.com','weibo.com','close',',\x20has\x20to\x20be\x20none\x20or\x20tls.','split','www.eyny.com','encode','www.douban.com','some','Invalid\x20address\x20type:\x20','getWriter','udp\x20','finally','substr','socks\x20connection\x20opened','write','readableWebSocketStream\x20is\x20abort','www.csdn.net','1182nipiUL','remoteSocketToWS\x20error:','1.2.3.4','www.ctrip.com','www.qidian.com','readableWebSocketStream\x20pipeTo\x20error','Host','writable','wsSettings','manual','DomainName','safeCloseWebSocket\x20error:','padStart','www.zol.com.cn','socks\x20server\x20version\x20error:\x20','status','forEach','Upgrade','\x0a\x20\x20</body>\x0a\x20\x20<script>\x0a\x20\x20\x20\x20function\x20copyToClipboard(text)\x20{\x0a\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(text)\x0a\x20\x20\x20\x20\x20\x20\x20\x20.then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x22Copied\x20to\x20clipboard\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20.catch((err)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x22Failed\x20to\x20copy\x20to\x20clipboard:\x22,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20}\x0a\x20\x20</script>\x0a\x20\x20</html>','www.163.com','please\x20provide\x20username/password','www.dianping.com','readableWebSocketStream\x20is\x20aborted','application/json;charset=utf-8','-HTTP-','/sub/','?format=clash','&path=%2F%3Fed%3D2048#','Unknown\x20address\x20type:\x20','www.xunlei.com','https://','cdn-all.xn--b6gac.eu.org','www.quyaoya.com','reverse','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Clash\x20Subscription</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','tlsSettings','network','Invalid\x20password','www.telegraph.co.uk','/\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20name=\x27twitter:image\x27\x20content=\x27https://ipfs.io/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image:width\x27\x20content=\x271500\x27\x20/>\x0a\x20\x20\x20\x20<meta\x20property=\x27og:image:height\x27\x20content=\x271500\x27\x20/>\x0a\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Roboto\x27,\x20\x27Segoe\x20UI\x27,\x20Tahoma,\x20Geneva,\x20Verdana,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#000000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x201200px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#111111;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x206px\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20h1,\x20h2\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.config-item\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#222222;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.config-item\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.btn-group\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20pre\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#444444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20white-space:\x20pre-wrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20word-wrap:\x20break-word;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#00ff00;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.logo\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20float:\x20left;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x09\x09max-width:\x2030%;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20.logo\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x2090%;\x20/*\x20Adjust\x20the\x20max-width\x20to\x20fit\x20within\x20the\x20container\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.btn-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.btn-group\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.code-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.code-container\x20pre\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-right:\x20100px;\x20/*\x20Make\x20space\x20for\x20the\x20button\x20*/\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.copy-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8em;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#222222;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20ul\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding-left:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.subscription-info\x20li\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\x22>\x0a\x20\x20</head>\x0a\x20\x20','www.toutiao.com','460546HTfKvH','\x20are\x20not\x20allowed.','\x22\x20class=\x22btn\x22\x20target=\x22_blank\x22><i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Clash\x20Link</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','www.ttpaihang.com','cf-connecting-ip','slice','https://sub.xf.free.hr/auto?host=','\x0a\x20\x20<body>\x0a\x20\x20\x20\x20','www.douyin.com','://','RUR0dW5uZWw='];a0_0x3003=function(){return _0x2c730b;};return a0_0x3003();}const HttpPort=new Set([0x50,0x1f90,0x22b0,0x804,0x826,0x82f,0x822]),HttpsPort=new Set([0x1bb,0x20fb,0x805,0x830,0x827,0x823]);function GenSub(_0x1d00a0,_0x400fff){const _0x58cb27=a0_0x3d91ca,_0x2d95b0=_0x1d00a0[_0x58cb27(0x18d)](',')?_0x1d00a0['split'](','):[_0x1d00a0],_0x1ec48e=()=>'/'+Math[_0x58cb27(0xad)]()['toString'](0x24)[_0x58cb27(0x152)](0x2,0xf)+_0x58cb27(0xbd),_0x146d49='?encryption=none&security=none&fp=random&type=ws&host='+_0x400fff+_0x58cb27(0x157)+encodeURIComponent(_0x1ec48e())+'#',_0x3d48f7=_0x58cb27(0x131)+_0x400fff+_0x58cb27(0xbb)+_0x400fff+'&path=%2F%3Fed%3D2048#',_0x51c251=_0x2d95b0['flatMap'](_0xef8cd3=>{const _0x1f1f56=_0x58cb27,_0x1e169d=Array['from'](HttpPort)['flatMap'](_0x2c1c1c=>{const _0xc7fc72=a0_0x4dd5;if(!_0x400fff[_0xc7fc72(0x18d)](_0xc7fc72(0x125))){const _0x14f4b1=_0x400fff+_0xc7fc72(0xf3)+_0x2c1c1c,_0x3bbda7=atob(pt)+'://'+_0xef8cd3+atob(at)+_0x400fff+':'+_0x2c1c1c+_0x146d49+_0x14f4b1;return proxyIPs[_0xc7fc72(0x140)](_0x1d616a=>{const _0x11e7b3=_0xc7fc72,_0x1c5ed1=atob(pt)+_0x11e7b3(0x10d)+_0xef8cd3+atob(at)+_0x1d616a+':'+_0x2c1c1c+_0x146d49+_0x14f4b1+'-'+_0x1d616a+'-'+atob(ed);return[_0x3bbda7,_0x1c5ed1];});}return[];}),_0x1b9bea=Array[_0x1f1f56(0x11e)](HttpsPort)['flatMap'](_0x5400de=>{const _0x1d4ba3=_0x1f1f56,_0x493671=_0x400fff+_0x1d4ba3(0x166)+_0x5400de,_0x32f420=atob(pt)+'://'+_0xef8cd3+atob(at)+_0x400fff+':'+_0x5400de+_0x3d48f7+_0x493671;return proxyIPs['flatMap'](_0x1711c4=>{const _0x4dc953=_0x1d4ba3,_0xd1a0c1=atob(pt)+_0x4dc953(0x10d)+_0xef8cd3+atob(at)+_0x1711c4+':'+_0x5400de+_0x3d48f7+_0x493671+'-'+_0x1711c4+'-'+atob(ed);return[_0x32f420,_0xd1a0c1];});});return[..._0x1e169d,..._0x1b9bea];});return _0x51c251[_0x58cb27(0x11d)]('\x0a');}const hostnames=[a0_0x3d91ca(0xca),a0_0x3d91ca(0x119),a0_0x3d91ca(0x14c),'www.taobao.com','www.jd.com',a0_0x3d91ca(0x116),a0_0x3d91ca(0x162),a0_0x3d91ca(0x114),a0_0x3d91ca(0xee),'www.zhihu.com',a0_0x3d91ca(0x154),a0_0x3d91ca(0x18a),a0_0x3d91ca(0xd0),a0_0x3d91ca(0x167),a0_0x3d91ca(0x103),'www.ifeng.com',a0_0x3d91ca(0xc4),a0_0x3d91ca(0x17e),a0_0x3d91ca(0x10c),a0_0x3d91ca(0x147),a0_0x3d91ca(0x185),a0_0x3d91ca(0xda),a0_0x3d91ca(0x171),'www.aliyun.com',a0_0x3d91ca(0xce),a0_0x3d91ca(0x129),a0_0x3d91ca(0xf8),a0_0x3d91ca(0x15a),a0_0x3d91ca(0x156),'www.youth.cn',a0_0x3d91ca(0x14f),'www.youzu.com',a0_0x3d91ca(0x179),a0_0x3d91ca(0x161),a0_0x3d91ca(0xe8),a0_0x3d91ca(0xb5),'www.tiktok.com',a0_0x3d91ca(0x17a),a0_0x3d91ca(0x122),'www.zhibo8.cc',a0_0x3d91ca(0x145),'www.xueqiu.com',a0_0x3d91ca(0xc9),a0_0x3d91ca(0x178),a0_0x3d91ca(0xf0),a0_0x3d91ca(0x138),a0_0x3d91ca(0xb4),'www.jianshu.com','www.mafengwo.cn',a0_0x3d91ca(0x173),a0_0x3d91ca(0xdf),a0_0x3d91ca(0xde),a0_0x3d91ca(0x18f),'www.cnzz.com',a0_0x3d91ca(0x101),'www.ynet.com','www.ted.com',a0_0x3d91ca(0x188),a0_0x3d91ca(0x143),a0_0x3d91ca(0x170),a0_0x3d91ca(0x190),a0_0x3d91ca(0x16d),a0_0x3d91ca(0x107),a0_0x3d91ca(0xfb),a0_0x3d91ca(0x172),'www.dianyou.cn','www.tmtpost.com',a0_0x3d91ca(0xd0),'www.guancha.cn','www.so.com',a0_0x3d91ca(0x14b),a0_0x3d91ca(0x189),a0_0x3d91ca(0x17c),a0_0x3d91ca(0xbf)];